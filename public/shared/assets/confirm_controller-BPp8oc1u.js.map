{"version":3,"file":"confirm_controller-BPp8oc1u.js","sources":["../../../app/frontend/javascript/controllers/confirm_controller.js"],"sourcesContent":["import { Controller } from \"@hotwired/stimulus\"\nimport { navigator } from \"@hotwired/turbo\"\nimport \"@js/base/sweetalert2\"\nimport i18n from \"@js/base/i18n\"\n\nexport default class ConfirmController extends Controller {\n  static values = { title: String, text: String, icon: String, link: String, action: { type: String, default: 'delete' }, turbo: { type: String, default: 'true'}, origin: { type: String, default: \"false\" } }\n\n  dialog() {\n    const title = this.titleValue\n    const link = this.linkValue\n    const text = this.textValue\n    const icon = this.iconValue\n    const action = this.actionValue\n    const turbo = this.turboValue\n    const origin = this.originValue\n    const turboform = document.getElementById('turbo-xhref-form')\n    const turbobutton = document.getElementById('turbo-xhref-button')\n\n    Swal.fire({\n      title: title,\n      text: text,\n      icon: icon,\n      showCancelButton: !0,\n      reverseButtons: true,\n      customClass: {\n        confirmButton: \"btn btn-primary w-xs\",\n        cancelButton: \"btn btn-outline-secondary w-xs me-2\",\n      },\n      confirmButtonText: i18n.t('confirm'),\n      cancelButtonText: i18n.t('cancel'),\n      buttonsStyling: !1,\n      showCloseButton: !0\n    }).then((result) => {\n        if (result.value) {\n          turboform.setAttribute(\"action\", link)\n          turboform.setAttribute(\"method\", action)\n          if ( turbo === 'false' ) {\n            turboform.setAttribute(\"data-turbo\", \"false\")\n          }\n          if ( origin !== \"false\" ) {\n            const url = new URL(window.location.href.split(\"?\")[0])\n            let newURL = url.origin + origin\n            history.pushState({}, null, newURL)\n            Turbo.navigator.history.replace(url.toString())\n          }\n          $('.modal').modal('hide')\n          $('.modal-backdrop').remove()\n          turboform.requestSubmit()\n        } else {\n          return false;\n        }\n    })\n  }\n}\n"],"names":["ConfirmController","Controller","title","link","text","icon","action","turbo","origin","turboform","i18n","result","url","newURL","__publicField"],"mappings":"2RAKe,MAAMA,UAA0BC,CAAW,CAGxD,QAAS,CACP,MAAMC,EAAQ,KAAK,WACbC,EAAO,KAAK,UACZC,EAAO,KAAK,UACZC,EAAO,KAAK,UACZC,EAAS,KAAK,YACdC,EAAQ,KAAK,WACbC,EAAS,KAAK,YACdC,EAAY,SAAS,eAAe,kBAAkB,EACxC,SAAS,eAAe,oBAAoB,EAEhE,KAAK,KAAK,CACR,MAAOP,EACP,KAAME,EACN,KAAMC,EACN,iBAAkB,GAClB,eAAgB,GAChB,YAAa,CACX,cAAe,uBACf,aAAc,qCACf,EACD,kBAAmBK,EAAK,EAAE,SAAS,EACnC,iBAAkBA,EAAK,EAAE,QAAQ,EACjC,eAAgB,GAChB,gBAAiB,EACvB,CAAK,EAAE,KAAMC,GAAW,CAChB,GAAIA,EAAO,MAAO,CAMhB,GALAF,EAAU,aAAa,SAAUN,CAAI,EACrCM,EAAU,aAAa,SAAUH,CAAM,EAClCC,IAAU,SACbE,EAAU,aAAa,aAAc,OAAO,EAEzCD,IAAW,QAAU,CACxB,MAAMI,EAAM,IAAI,IAAI,OAAO,SAAS,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC,EACtD,IAAIC,EAASD,EAAI,OAASJ,EAC1B,QAAQ,UAAU,GAAI,KAAMK,CAAM,EAClC,MAAM,UAAU,QAAQ,QAAQD,EAAI,SAAQ,CAAE,CAC/C,CACD,EAAE,QAAQ,EAAE,MAAM,MAAM,EACxB,EAAE,iBAAiB,EAAE,OAAQ,EAC7BH,EAAU,cAAe,CACnC,KACU,OAAO,EAEjB,CAAK,CACF,CACH,CAhDEK,EADmBd,EACZ,SAAS,CAAE,MAAO,OAAQ,KAAM,OAAQ,KAAM,OAAQ,KAAM,OAAQ,OAAQ,CAAE,KAAM,OAAQ,QAAS,QAAU,EAAE,MAAO,CAAE,KAAM,OAAQ,QAAS,MAAM,EAAG,OAAQ,CAAE,KAAM,OAAQ,QAAS,OAAO,CAAI"}