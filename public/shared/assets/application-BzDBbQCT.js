const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/confirm_controller-BPp8oc1u.js","assets/sweetalert2-DTWCJYMW.js","assets/i18n-CTZ1ofMK.js","assets/countdown_controller-B1WJVb4Q.js","assets/easytimer-BQd7-5IF.js","assets/admin-accounts_controller-D8GqZaAV.js","assets/datatables-DSt6wVS0.js","assets/admin-audits_controller-CLiF5Zba.js","assets/admin-countries_controller-Fc_0XeBa.js","assets/admin-leagues_controller-DcsHE1YH.js","assets/admin-players_controller-Dlhjv0nt.js","assets/admin-teams_controller-CrckaB45.js","assets/firststeps-leagues_controller-CvLJnejX.js","assets/manager-active-users_controller-D7bbgmkN.js","assets/manager-awards_controller-BTitxVjc.js","assets/manager-season-users_controller-B5kXno6P.js","assets/manager-waiting-users_controller-yV_x2I3Y.js","assets/user-trades-buy_controller-DlL5DhwC.js","assets/form_controller-BixcNdhO.js","assets/seasons_controller-DS62bRvJ.js","assets/fetch_request-Bi6ZTe2Y.js","assets/multi_controller-BGVCmKAf.js","assets/notifications_controller-CRdMywqS.js","assets/verbs-DNA89zgE.js","assets/request_controller-BnlUJdIv.js","assets/select_controller-m7JuzGCD.js","assets/timeout_controller-CeUbkpNf.js"])))=>i.map(i=>d[i]);
var dc={exports:{}};(function(n,t){(function(e){n.exports=e()})(function(e){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(C,T){var p=C[0],f=C[1],y=C[2],b=C[3];p+=(f&y|~f&b)+T[0]-680876936|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[1]-389564586|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[2]+606105819|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[3]-1044525330|0,f=(f<<22|f>>>10)+y|0,p+=(f&y|~f&b)+T[4]-176418897|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[5]+1200080426|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[6]-1473231341|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[7]-45705983|0,f=(f<<22|f>>>10)+y|0,p+=(f&y|~f&b)+T[8]+1770035416|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[9]-1958414417|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[10]-42063|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[11]-1990404162|0,f=(f<<22|f>>>10)+y|0,p+=(f&y|~f&b)+T[12]+1804603682|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[13]-40341101|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[14]-1502002290|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[15]+1236535329|0,f=(f<<22|f>>>10)+y|0,p+=(f&b|y&~b)+T[1]-165796510|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[6]-1069501632|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[11]+643717713|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[0]-373897302|0,f=(f<<20|f>>>12)+y|0,p+=(f&b|y&~b)+T[5]-701558691|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[10]+38016083|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[15]-660478335|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[4]-405537848|0,f=(f<<20|f>>>12)+y|0,p+=(f&b|y&~b)+T[9]+568446438|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[14]-1019803690|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[3]-187363961|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[8]+1163531501|0,f=(f<<20|f>>>12)+y|0,p+=(f&b|y&~b)+T[13]-1444681467|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[2]-51403784|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[7]+1735328473|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[12]-1926607734|0,f=(f<<20|f>>>12)+y|0,p+=(f^y^b)+T[5]-378558|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[8]-2022574463|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[11]+1839030562|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[14]-35309556|0,f=(f<<23|f>>>9)+y|0,p+=(f^y^b)+T[1]-1530992060|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[4]+1272893353|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[7]-155497632|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[10]-1094730640|0,f=(f<<23|f>>>9)+y|0,p+=(f^y^b)+T[13]+681279174|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[0]-358537222|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[3]-722521979|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[6]+76029189|0,f=(f<<23|f>>>9)+y|0,p+=(f^y^b)+T[9]-640364487|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[12]-421815835|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[15]+530742520|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[2]-995338651|0,f=(f<<23|f>>>9)+y|0,p+=(y^(f|~b))+T[0]-198630844|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[7]+1126891415|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[14]-1416354905|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[5]-57434055|0,f=(f<<21|f>>>11)+y|0,p+=(y^(f|~b))+T[12]+1700485571|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[3]-1894986606|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[10]-1051523|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[1]-2054922799|0,f=(f<<21|f>>>11)+y|0,p+=(y^(f|~b))+T[8]+1873313359|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[15]-30611744|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[6]-1560198380|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[13]+1309151649|0,f=(f<<21|f>>>11)+y|0,p+=(y^(f|~b))+T[4]-145523070|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[11]-1120210379|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[2]+718787259|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[9]-343485551|0,f=(f<<21|f>>>11)+y|0,C[0]=p+C[0]|0,C[1]=f+C[1]|0,C[2]=y+C[2]|0,C[3]=b+C[3]|0}function c(C){var T=[],p;for(p=0;p<64;p+=4)T[p>>2]=C.charCodeAt(p)+(C.charCodeAt(p+1)<<8)+(C.charCodeAt(p+2)<<16)+(C.charCodeAt(p+3)<<24);return T}function v(C){var T=[],p;for(p=0;p<64;p+=4)T[p>>2]=C[p]+(C[p+1]<<8)+(C[p+2]<<16)+(C[p+3]<<24);return T}function x(C){var T=C.length,p=[1732584193,-271733879,-1732584194,271733878],f,y,b,u,ot,et;for(f=64;f<=T;f+=64)s(p,c(C.substring(f-64,f)));for(C=C.substring(f-64),y=C.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0;f<y;f+=1)b[f>>2]|=C.charCodeAt(f)<<(f%4<<3);if(b[f>>2]|=128<<(f%4<<3),f>55)for(s(p,b),f=0;f<16;f+=1)b[f]=0;return u=T*8,u=u.toString(16).match(/(.*?)(.{0,8})$/),ot=parseInt(u[2],16),et=parseInt(u[1],16)||0,b[14]=ot,b[15]=et,s(p,b),p}function D(C){var T=C.length,p=[1732584193,-271733879,-1732584194,271733878],f,y,b,u,ot,et;for(f=64;f<=T;f+=64)s(p,v(C.subarray(f-64,f)));for(C=f-64<T?C.subarray(f-64):new Uint8Array(0),y=C.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0;f<y;f+=1)b[f>>2]|=C[f]<<(f%4<<3);if(b[f>>2]|=128<<(f%4<<3),f>55)for(s(p,b),f=0;f<16;f+=1)b[f]=0;return u=T*8,u=u.toString(16).match(/(.*?)(.{0,8})$/),ot=parseInt(u[2],16),et=parseInt(u[1],16)||0,b[14]=ot,b[15]=et,s(p,b),p}function B(C){var T="",p;for(p=0;p<4;p+=1)T+=i[C>>p*8+4&15]+i[C>>p*8&15];return T}function U(C){var T;for(T=0;T<C.length;T+=1)C[T]=B(C[T]);return C.join("")}U(x("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function C(T,p){return T=T|0||0,T<0?Math.max(T+p,0):Math.min(T,p)}ArrayBuffer.prototype.slice=function(T,p){var f=this.byteLength,y=C(T,f),b=f,u,ot,et,Wt;return p!==e&&(b=C(p,f)),y>b?new ArrayBuffer(0):(u=b-y,ot=new ArrayBuffer(u),et=new Uint8Array(ot),Wt=new Uint8Array(this,y,u),et.set(Wt),ot)}}();function tt(C){return/[\u0080-\uFFFF]/.test(C)&&(C=unescape(encodeURIComponent(C))),C}function ct(C,T){var p=C.length,f=new ArrayBuffer(p),y=new Uint8Array(f),b;for(b=0;b<p;b+=1)y[b]=C.charCodeAt(b);return T?y:f}function at(C){return String.fromCharCode.apply(null,new Uint8Array(C))}function nt(C,T,p){var f=new Uint8Array(C.byteLength+T.byteLength);return f.set(new Uint8Array(C)),f.set(new Uint8Array(T),C.byteLength),f}function X(C){var T=[],p=C.length,f;for(f=0;f<p-1;f+=2)T.push(parseInt(C.substr(f,2),16));return String.fromCharCode.apply(String,T)}function K(){this.reset()}return K.prototype.append=function(C){return this.appendBinary(tt(C)),this},K.prototype.appendBinary=function(C){this._buff+=C,this._length+=C.length;var T=this._buff.length,p;for(p=64;p<=T;p+=64)s(this._hash,c(this._buff.substring(p-64,p)));return this._buff=this._buff.substring(p-64),this},K.prototype.end=function(C){var T=this._buff,p=T.length,f,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b;for(f=0;f<p;f+=1)y[f>>2]|=T.charCodeAt(f)<<(f%4<<3);return this._finish(y,p),b=U(this._hash),C&&(b=X(b)),this.reset(),b},K.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},K.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},K.prototype.setState=function(C){return this._buff=C.buff,this._length=C.length,this._hash=C.hash,this},K.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},K.prototype._finish=function(C,T){var p=T,f,y,b;if(C[p>>2]|=128<<(p%4<<3),p>55)for(s(this._hash,C),p=0;p<16;p+=1)C[p]=0;f=this._length*8,f=f.toString(16).match(/(.*?)(.{0,8})$/),y=parseInt(f[2],16),b=parseInt(f[1],16)||0,C[14]=y,C[15]=b,s(this._hash,C)},K.hash=function(C,T){return K.hashBinary(tt(C),T)},K.hashBinary=function(C,T){var p=x(C),f=U(p);return T?X(f):f},K.ArrayBuffer=function(){this.reset()},K.ArrayBuffer.prototype.append=function(C){var T=nt(this._buff.buffer,C),p=T.length,f;for(this._length+=C.byteLength,f=64;f<=p;f+=64)s(this._hash,v(T.subarray(f-64,f)));return this._buff=f-64<p?new Uint8Array(T.buffer.slice(f-64)):new Uint8Array(0),this},K.ArrayBuffer.prototype.end=function(C){var T=this._buff,p=T.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y,b;for(y=0;y<p;y+=1)f[y>>2]|=T[y]<<(y%4<<3);return this._finish(f,p),b=U(this._hash),C&&(b=X(b)),this.reset(),b},K.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},K.ArrayBuffer.prototype.getState=function(){var C=K.prototype.getState.call(this);return C.buff=at(C.buff),C},K.ArrayBuffer.prototype.setState=function(C){return C.buff=ct(C.buff,!0),K.prototype.setState.call(this,C)},K.ArrayBuffer.prototype.destroy=K.prototype.destroy,K.ArrayBuffer.prototype._finish=K.prototype._finish,K.ArrayBuffer.hash=function(C,T){var p=D(new Uint8Array(C)),f=U(p);return T?X(f):f},K})})(dc);var Gu=dc.exports;const Qu=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;let Zu=class fc{static create(t,e){new fc(t).create(e)}constructor(t){this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(t){this.callback=t,this.md5Buffer=new Gu.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",e=>this.fileReaderDidLoad(e)),this.fileReader.addEventListener("error",e=>this.fileReaderDidError(e)),this.readNextChunk()}fileReaderDidLoad(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){const e=this.md5Buffer.end(!0),i=btoa(e);this.callback(null,i)}}fileReaderDidError(t){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){const t=this.chunkIndex*this.chunkSize,e=Math.min(t+this.chunkSize,this.file.size),i=Qu.call(this.file,t,e);return this.fileReader.readAsArrayBuffer(i),this.chunkIndex++,!0}else return!1}};function th(n){const t=pc(document.head,`meta[name="${n}"]`);if(t)return t.getAttribute("content")}function eh(n,t){typeof n=="string"&&(t=n,n=document);const e=n.querySelectorAll(t);return mc(e)}function pc(n,t){return typeof n=="string"&&(t=n,n=document),n.querySelector(t)}function gc(n,t,e={}){const{disabled:i}=n,{bubbles:s,cancelable:c,detail:v}=e,x=document.createEvent("Event");x.initEvent(t,s||!0,c||!0),x.detail=v||{};try{n.disabled=!1,n.dispatchEvent(x)}finally{n.disabled=i}return x}function mc(n){return Array.isArray(n)?n:Array.from?Array.from(n):[].slice.call(n)}let ih=class{constructor(t,e,i,s={}){this.file=t,this.attributes={filename:t.name,content_type:t.type||"application/octet-stream",byte_size:t.size,checksum:e},this.xhr=new XMLHttpRequest,this.xhr.open("POST",i,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(s).forEach(v=>{this.xhr.setRequestHeader(v,s[v])});const c=th("csrf-token");c!=null&&this.xhr.setRequestHeader("X-CSRF-Token",c),this.xhr.addEventListener("load",v=>this.requestDidLoad(v)),this.xhr.addEventListener("error",v=>this.requestDidError(v))}get status(){return this.xhr.status}get response(){const{responseType:t,response:e}=this.xhr;return t=="json"?e:JSON.parse(e)}create(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(t){if(this.status>=200&&this.status<300){const{response:e}=this,{direct_upload:i}=e;delete e.direct_upload,this.attributes=e,this.directUploadData=i,this.callback(null,this.toJSON())}else this.requestDidError(t)}requestDidError(t){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){const t={};for(const e in this.attributes)t[e]=this.attributes[e];return t}},nh=class{constructor(t){this.blob=t,this.file=t.file;const{url:e,headers:i}=t.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",e,!0),this.xhr.responseType="text";for(const s in i)this.xhr.setRequestHeader(s,i[s]);this.xhr.addEventListener("load",s=>this.requestDidLoad(s)),this.xhr.addEventListener("error",s=>this.requestDidError(s))}create(t){this.callback=t,this.xhr.send(this.file.slice())}requestDidLoad(t){const{status:e,response:i}=this.xhr;e>=200&&e<300?this.callback(null,i):this.requestDidError(t)}requestDidError(t){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}},rh=0,sh=class{constructor(t,e,i,s={}){this.id=++rh,this.file=t,this.url=e,this.delegate=i,this.customHeaders=s}create(t){Zu.create(this.file,(e,i)=>{if(e){t(e);return}const s=new ih(this.file,i,this.url,this.customHeaders);pl(this.delegate,"directUploadWillCreateBlobWithXHR",s.xhr),s.create(c=>{if(c)t(c);else{const v=new nh(s);pl(this.delegate,"directUploadWillStoreFileWithXHR",v.xhr),v.create(x=>{x?t(x):t(null,s.toJSON())})}})})}};function pl(n,t,...e){if(n&&typeof n[t]=="function")return n[t](...e)}let oh=class{constructor(t,e){this.input=t,this.file=e,this.directUpload=new sh(this.file,this.url,this),this.dispatch("initialize")}start(t){const e=document.createElement("input");e.type="hidden",e.name=this.input.name,this.input.insertAdjacentElement("beforebegin",e),this.dispatch("start"),this.directUpload.create((i,s)=>{i?(e.parentNode.removeChild(e),this.dispatchError(i)):e.value=s.signed_id,this.dispatch("end"),t(i)})}uploadRequestDidProgress(t){const e=t.loaded/t.total*100;e&&this.dispatch("progress",{progress:e})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(t,e={}){return e.file=this.file,e.id=this.directUpload.id,gc(this.input,`direct-upload:${t}`,{detail:e})}dispatchError(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}directUploadWillCreateBlobWithXHR(t){this.dispatch("before-blob-request",{xhr:t})}directUploadWillStoreFileWithXHR(t){this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",e=>this.uploadRequestDidProgress(e))}};const ah="input[type=file][data-direct-upload-url]:not([disabled])";let lh=class{constructor(t){this.form=t,this.inputs=eh(t,ah).filter(e=>e.files.length)}start(t){const e=this.createDirectUploadControllers(),i=()=>{const s=e.shift();s?s.start(c=>{c?(t(c),this.dispatch("end")):i()}):(t(),this.dispatch("end"))};this.dispatch("start"),i()}createDirectUploadControllers(){const t=[];return this.inputs.forEach(e=>{mc(e.files).forEach(i=>{const s=new oh(e,i);t.push(s)})}),t}dispatch(t,e={}){return gc(this.form,`direct-uploads:${t}`,{detail:e})}};const Bo="data-direct-uploads-processing",aa=new WeakMap;let gl=!1;function ch(){gl||(gl=!0,document.addEventListener("click",uh,!0),document.addEventListener("submit",hh,!0),document.addEventListener("ajax:before",dh))}function uh(n){const t=n.target.closest("button, input");t&&t.type==="submit"&&t.form&&aa.set(t.form,t)}function hh(n){bc(n)}function dh(n){n.target.tagName=="FORM"&&bc(n)}function bc(n){const t=n.target;if(t.hasAttribute(Bo)){n.preventDefault();return}const e=new lh(t),{inputs:i}=e;i.length&&(n.preventDefault(),t.setAttribute(Bo,""),i.forEach(ph),e.start(s=>{t.removeAttribute(Bo),s?i.forEach(gh):fh(t)}))}function fh(n){let t=aa.get(n)||pc(n,"input[type=submit], button[type=submit]");if(t){const{disabled:e}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=e}else t=document.createElement("input"),t.type="submit",t.style.display="none",n.appendChild(t),t.click(),n.removeChild(t);aa.delete(n)}function ph(n){n.disabled=!0}function gh(n){n.disabled=!1}function mh(){window.ActiveStorage&&ch()}setTimeout(mh,1);(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;const n=HTMLElement,t={HTMLElement:function(){return Reflect.construct(n,[],this.constructor)}};window.HTMLElement=t.HTMLElement,HTMLElement.prototype=n.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,n)})();(function(n){if(typeof n.requestSubmit=="function")return;n.requestSubmit=function(i){i?(t(i,this),i.click()):(i=document.createElement("input"),i.type="submit",i.hidden=!0,this.appendChild(i),i.click(),this.removeChild(i))};function t(i,s){i instanceof HTMLElement||e(TypeError,"parameter 1 is not of type 'HTMLElement'"),i.type=="submit"||e(TypeError,"The specified element is not a submit button"),i.form==s||e(DOMException,"The specified element is not owned by this form element","NotFoundError")}function e(i,s,c){throw new i("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+s+".",c)}})(HTMLFormElement.prototype);const vc=new WeakMap;function bh(n){const t=n instanceof Element?n:n instanceof Node?n.parentElement:null,e=t?t.closest("input, button"):null;return(e==null?void 0:e.type)=="submit"?e:null}function vh(n){const t=bh(n.target);t&&t.form&&vc.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let n=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))n=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",vh,!0),Object.defineProperty(n,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return vc.get(this.target)}})})();var vn;(function(n){n.eager="eager",n.lazy="lazy"})(vn||(vn={}));class Vi extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new Vi.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="complete"?this.delegate.completeChanged():t=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get loading(){return yh(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,e;return(e=(t=this.ownerDocument)===null||t===void 0?void 0:t.documentElement)===null||e===void 0?void 0:e.hasAttribute("data-turbo-preview")}}function yh(n){switch(n.toLowerCase()){case"lazy":return vn.lazy;default:return vn.eager}}function Ee(n){return new URL(n.toString(),document.baseURI)}function jn(n){let t;if(n.hash)return n.hash.slice(1);if(t=n.href.match(/#(.*)$/))return t[1]}function Ra(n,t){const e=(t==null?void 0:t.getAttribute("formaction"))||n.getAttribute("action")||n.action;return Ee(e)}function Ah(n){return(Ch(n).match(/\.[^.]*$/)||[])[0]||""}function Eh(n){return!!Ah(n).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function wh(n,t){const e=Th(t);return n.href===Ee(e).href||n.href.startsWith(e)}function Ar(n,t){return wh(n,t)&&Eh(n)}function la(n){const t=jn(n);return t!=null?n.href.slice(0,-(t.length+1)):n.href}function Xs(n){return la(n)}function xh(n,t){return Ee(n).href==Ee(t).href}function Sh(n){return n.pathname.split("/").slice(1)}function Ch(n){return Sh(n).slice(-1)[0]}function Th(n){return _h(n.origin+n.pathname)}function _h(n){return n.endsWith("/")?n:n+"/"}class Da{constructor(t){this.response=t}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Ee(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(t){return this.response.headers.get(t)}}function hs(n){if(n.getAttribute("data-turbo-eval")=="false")return n;{const t=document.createElement("script"),e=oo("csp-nonce");return e&&(t.nonce=e),t.textContent=n.textContent,t.async=!1,Lh(t,n),t}}function Lh(n,t){for(const{name:e,value:i}of t.attributes)n.setAttribute(e,i)}function kh(n){const t=document.createElement("template");return t.innerHTML=n,t.content}function ge(n,{target:t,cancelable:e,detail:i}={}){const s=new CustomEvent(n,{cancelable:e,bubbles:!0,composed:!0,detail:i});return t&&t.isConnected?t.dispatchEvent(s):document.documentElement.dispatchEvent(s),s}function Qs(){return new Promise(n=>requestAnimationFrame(()=>n()))}function Oh(){return new Promise(n=>setTimeout(()=>n(),0))}function Rh(){return Promise.resolve()}function yc(n=""){return new DOMParser().parseFromString(n,"text/html")}function Ac(n,...t){const e=Dh(n,t).replace(/^\n/,"").split(`
`),i=e[0].match(/^\s+/),s=i?i[0].length:0;return e.map(c=>c.slice(s)).join(`
`)}function Dh(n,t){return n.reduce((e,i,s)=>{const c=t[s]==null?"":t[s];return e+i+c},"")}function xr(){return Array.from({length:36}).map((n,t)=>t==8||t==13||t==18||t==23?"-":t==14?"4":t==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function so(n,...t){for(const e of t.map(i=>i==null?void 0:i.getAttribute(n)))if(typeof e=="string")return e;return null}function Mh(n,...t){return t.some(e=>e&&e.hasAttribute(n))}function ca(...n){for(const t of n)t.localName=="turbo-frame"&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function ua(...n){for(const t of n)t.localName=="turbo-frame"&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function Nh(n,t=2e3){return new Promise(e=>{const i=()=>{n.removeEventListener("error",i),n.removeEventListener("load",i),e()};n.addEventListener("load",i,{once:!0}),n.addEventListener("error",i,{once:!0}),setTimeout(e,t)})}function Ec(n){switch(n){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Ph(n){return n=="advance"||n=="replace"||n=="restore"}function mo(...n){const t=so("data-turbo-action",...n);return Ph(t)?t:null}function wc(n){return document.querySelector(`meta[name="${n}"]`)}function oo(n){const t=wc(n);return t&&t.content}function Ih(n,t){let e=wc(n);return e||(e=document.createElement("meta"),e.setAttribute("name",n),document.head.appendChild(e)),e.setAttribute("content",t),e}function ao(n,t){var e;if(n instanceof Element)return n.closest(t)||ao(n.assignedSlot||((e=n.getRootNode())===null||e===void 0?void 0:e.host),t)}var Fe;(function(n){n[n.get=0]="get",n[n.post=1]="post",n[n.put=2]="put",n[n.patch=3]="patch",n[n.delete=4]="delete"})(Fe||(Fe={}));function Fh(n){switch(n.toLowerCase()){case"get":return Fe.get;case"post":return Fe.post;case"put":return Fe.put;case"patch":return Fe.patch;case"delete":return Fe.delete}}class Ma{constructor(t,e,i,s=new URLSearchParams,c=null){this.abortController=new AbortController,this.resolveRequestPromise=v=>{},this.delegate=t,this.method=e,this.headers=this.defaultHeaders,this.body=s,this.url=i,this.target=c}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:t}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(t);try{this.delegate.requestStarted(this);const e=await fetch(this.url.href,t);return await this.receive(e)}catch(e){if(e.name!=="AbortError")throw this.willDelegateErrorHandling(e)&&this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(t){const e=new Da(t);return ge("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:e},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,e):e.succeeded?this.delegate.requestSucceededWithResponse(this,e):this.delegate.requestFailedWithResponse(this,e),e}get fetchOptions(){var t;return{method:Fe[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(t=this.delegate.referrer)===null||t===void 0?void 0:t.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===Fe.get}get abortSignal(){return this.abortController.signal}acceptResponseType(t){this.headers.Accept=[t,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(t){const e=new Promise(s=>this.resolveRequestPromise=s);ge("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await e}willDelegateErrorHandling(t){return!ge("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:t}}).defaultPrevented}}class Bh{constructor(t,e){this.started=!1,this.intersect=i=>{const s=i.slice(-1)[0];s!=null&&s.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=t,this.element=e,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class zn{static wrap(t){return typeof t=="string"?new this(kh(t)):t}constructor(t){this.fragment=jh(t)}}zn.contentType="text/vnd.turbo-stream.html";function jh(n){for(const t of n.querySelectorAll("turbo-stream")){const e=document.importNode(t,!0);for(const i of e.templateElement.content.querySelectorAll("script"))i.replaceWith(hs(i));t.replaceWith(e)}return n}var pn;(function(n){n[n.initialized=0]="initialized",n[n.requesting=1]="requesting",n[n.waiting=2]="waiting",n[n.receiving=3]="receiving",n[n.stopping=4]="stopping",n[n.stopped=5]="stopped"})(pn||(pn={}));var mn;(function(n){n.urlEncoded="application/x-www-form-urlencoded",n.multipart="multipart/form-data",n.plain="text/plain"})(mn||(mn={}));function qh(n){switch(n.toLowerCase()){case mn.multipart:return mn.multipart;case mn.plain:return mn.plain;default:return mn.urlEncoded}}class gs{static confirmMethod(t,e,i){return Promise.resolve(confirm(t))}constructor(t,e,i,s=!1){this.state=pn.initialized,this.delegate=t,this.formElement=e,this.submitter=i,this.formData=Wh(e,i),this.location=Ee(this.action),this.method==Fe.get&&$h(this.location,[...this.body.entries()]),this.fetchRequest=new Ma(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=s}get method(){var t;const e=((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return Fh(e.toLowerCase())||Fe.get}get action(){var t;const e=typeof this.formElement.action=="string"?this.formElement.action:null;return!((t=this.submitter)===null||t===void 0)&&t.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||e||""}get body(){return this.enctype==mn.urlEncoded||this.method==Fe.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var t;return qh(((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((t,[e,i])=>t.concat(typeof i=="string"?[[e,i]]:[]),[])}async start(){const{initialized:t,requesting:e}=pn,i=so("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await gs.confirmMethod(i,this.formElement,this.submitter))&&this.state==t)return this.state=e,this.fetchRequest.perform()}stop(){const{stopping:t,stopped:e}=pn;if(this.state!=t&&this.state!=e)return this.state=t,this.fetchRequest.cancel(),!0}prepareRequest(t){if(!t.isSafe){const e=Hh(oo("csrf-param"))||oo("csrf-token");e&&(t.headers["X-CSRF-Token"]=e)}this.requestAcceptsTurboStreamResponse(t)&&t.acceptResponseType(zn.contentType)}requestStarted(t){var e;this.state=pn.waiting,(e=this.submitter)===null||e===void 0||e.setAttribute("disabled",""),this.setSubmitsWith(),ge("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(t,e){this.result={success:e.succeeded,fetchResponse:e}}requestSucceededWithResponse(t,e){if(e.clientError||e.serverError)this.delegate.formSubmissionFailedWithResponse(this,e);else if(this.requestMustRedirect(t)&&Vh(e)){const i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=pn.receiving,this.result={success:!0,fetchResponse:e},this.delegate.formSubmissionSucceededWithResponse(this,e)}requestFailedWithResponse(t,e){this.result={success:!1,fetchResponse:e},this.delegate.formSubmissionFailedWithResponse(this,e)}requestErrored(t,e){this.result={success:!1,error:e},this.delegate.formSubmissionErrored(this,e)}requestFinished(t){var e;this.state=pn.stopped,(e=this.submitter)===null||e===void 0||e.removeAttribute("disabled"),this.resetSubmitterText(),ge("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const t=this.submitter;this.originalSubmitText=t.value,t.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const t=this.submitter;t.value=this.originalSubmitText}}}requestMustRedirect(t){return!t.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(t){return!t.isSafe||Mh("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var t;return(t=this.submitter)===null||t===void 0?void 0:t.getAttribute("data-turbo-submits-with")}}function Wh(n,t){const e=new FormData(n),i=t==null?void 0:t.getAttribute("name"),s=t==null?void 0:t.getAttribute("value");return i&&e.append(i,s||""),e}function Hh(n){if(n!=null){const e=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(n));if(e){const i=e.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function Vh(n){return n.statusCode==200&&!n.redirected}function $h(n,t){const e=new URLSearchParams;for(const[i,s]of t)s instanceof File||e.append(i,s);return n.search=e.toString(),n}class bo{constructor(t){this.element=t}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(t){return this.getElementForAnchor(t)!=null}getElementForAnchor(t){return t?this.element.querySelector(`[id='${t}'], a[name='${t}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){const t="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(const e of this.element.querySelectorAll("[autofocus]"))if(e.closest(t)==null)return e;return null}get permanentElements(){return Sc(this.element)}getPermanentElementById(t){return xc(this.element,t)}getPermanentElementMapForSnapshot(t){const e={};for(const i of this.permanentElements){const{id:s}=i,c=t.getPermanentElementById(s);c&&(e[s]=[i,c])}return e}}function xc(n,t){return n.querySelector(`#${t}[data-turbo-permanent]`)}function Sc(n){return n.querySelectorAll("[id][data-turbo-permanent]")}class Na{constructor(t,e){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=i=>{if(!i.defaultPrevented){const s=i.target instanceof HTMLFormElement?i.target:void 0,c=i.submitter||void 0;s&&Uh(s,c)&&zh(s,c)&&this.delegate.willSubmitForm(s,c)&&(i.preventDefault(),i.stopImmediatePropagation(),this.delegate.formSubmitted(s,c))}},this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function Uh(n,t){return((t==null?void 0:t.getAttribute("formmethod"))||n.getAttribute("method"))!="dialog"}function zh(n,t){if(t!=null&&t.hasAttribute("formtarget")||n.hasAttribute("target")){const e=(t==null?void 0:t.getAttribute("formtarget"))||n.target;for(const i of document.getElementsByName(e))if(i instanceof HTMLIFrameElement)return!1;return!0}else return!0}class Cc{constructor(t,e){this.resolveRenderPromise=i=>{},this.resolveInterceptionPromise=i=>{},this.delegate=t,this.element=e}scrollToAnchor(t){const e=this.snapshot.getElementForAnchor(t);e?(this.scrollToElement(e),this.focusElement(e)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(t){this.scrollToAnchor(jn(t))}scrollToElement(t){t.scrollIntoView()}focusElement(t){t instanceof HTMLElement&&(t.hasAttribute("tabindex")?t.focus():(t.setAttribute("tabindex","-1"),t.focus(),t.removeAttribute("tabindex")))}scrollToPosition({x:t,y:e}){this.scrollRoot.scrollTo(t,e)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(t){const{isPreview:e,shouldRender:i,newSnapshot:s}=t;if(i)try{this.renderPromise=new Promise(D=>this.resolveRenderPromise=D),this.renderer=t,await this.prepareToRenderSnapshot(t);const c=new Promise(D=>this.resolveInterceptionPromise=D),v={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(s,v)||await c,await this.renderSnapshot(t),this.delegate.viewRenderedSnapshot(s,e),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(t.reloadReason)}invalidate(t){this.delegate.viewInvalidated(t)}async prepareToRenderSnapshot(t){this.markAsPreview(t.isPreview),await t.prepareToRender()}markAsPreview(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(t){await t.render()}finishRenderingSnapshot(t){t.finishRendering()}}class Kh extends Cc{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new bo(this.element)}}class Tc{constructor(t,e){this.clickBubbled=i=>{this.respondsToEventTarget(i.target)?this.clickEvent=i:delete this.clickEvent},this.linkClicked=i=>{this.clickEvent&&this.respondsToEventTarget(i.target)&&i.target instanceof Element&&this.delegate.shouldInterceptLinkClick(i.target,i.detail.url,i.detail.originalEvent)&&(this.clickEvent.preventDefault(),i.preventDefault(),this.delegate.linkClickIntercepted(i.target,i.detail.url,i.detail.originalEvent)),delete this.clickEvent},this.willVisit=i=>{delete this.clickEvent},this.delegate=t,this.element=e}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(t){const e=t instanceof Element?t:t instanceof Node?t.parentElement:null;return e&&e.closest("turbo-frame, html")==this.element}}class _c{constructor(t,e){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=i=>{if(i instanceof MouseEvent&&this.clickEventIsSignificant(i)){const s=i.composedPath&&i.composedPath()[0]||i.target,c=this.findLinkFromClickTarget(s);if(c&&Xh(c)){const v=this.getLocationForLink(c);this.delegate.willFollowLinkToLocation(c,v,i)&&(i.preventDefault(),this.delegate.followedLinkToLocation(c,v))}}},this.delegate=t,this.eventTarget=e}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}findLinkFromClickTarget(t){return ao(t,"a[href]:not([target^=_]):not([download])")}getLocationForLink(t){return Ee(t.getAttribute("href")||"")}}function Xh(n){if(n.hasAttribute("target")){for(const t of document.getElementsByName(n.target))if(t instanceof HTMLIFrameElement)return!1;return!0}else return!0}class Lc{constructor(t,e){this.delegate=t,this.linkInterceptor=new _c(this,e)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(t,e,i){return this.delegate.willSubmitFormLinkToLocation(t,e,i)&&t.hasAttribute("data-turbo-method")}followedLinkToLocation(t,e){const i=document.createElement("form"),s="hidden";for(const[tt,ct]of e.searchParams)i.append(Object.assign(document.createElement("input"),{type:s,name:tt,value:ct}));const c=Object.assign(e,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",c.href),i.setAttribute("hidden","");const v=t.getAttribute("data-turbo-method");v&&i.setAttribute("method",v);const x=t.getAttribute("data-turbo-frame");x&&i.setAttribute("data-turbo-frame",x);const D=mo(t);D&&i.setAttribute("data-turbo-action",D);const B=t.getAttribute("data-turbo-confirm");B&&i.setAttribute("data-turbo-confirm",B),t.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(t,e,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}}class kc{static async preservingPermanentElements(t,e,i){const s=new this(t,e);s.enter(),await i(),s.leave()}constructor(t,e){this.delegate=t,this.permanentElementMap=e}enter(){for(const t in this.permanentElementMap){const[e,i]=this.permanentElementMap[t];this.delegate.enteringBardo(e,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(const t in this.permanentElementMap){const[e]=this.permanentElementMap[t];this.replaceCurrentPermanentElementWithClone(e),this.replacePlaceholderWithPermanentElement(e),this.delegate.leavingBardo(e)}}replaceNewPermanentElementWithPlaceholder(t){const e=Jh(t);t.replaceWith(e)}replaceCurrentPermanentElementWithClone(t){const e=t.cloneNode(!0);t.replaceWith(e)}replacePlaceholderWithPermanentElement(t){const e=this.getPlaceholderById(t.id);e==null||e.replaceWith(t)}getPlaceholderById(t){return this.placeholders.find(e=>e.content==t)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function Jh(n){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",n.id),t}class Pa{constructor(t,e,i,s,c=!0){this.activeElement=null,this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=s,this.willRender=c,this.renderElement=i,this.promise=new Promise((v,x)=>this.resolvingFunctions={resolve:v,reject:x})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(t){await kc.preservingPermanentElements(this,this.permanentElementMap,t)}focusFirstAutofocusableElement(){const t=this.connectedSnapshot.firstAutofocusableElement;Yh(t)&&t.focus()}enteringBardo(t){this.activeElement||t.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(t){t.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}function Yh(n){return n&&typeof n.focus=="function"}class ha extends Pa{static renderElement(t,e){var i;const s=document.createRange();s.selectNodeContents(t),s.deleteContents();const c=e,v=(i=c.ownerDocument)===null||i===void 0?void 0:i.createRange();v&&(v.selectNodeContents(c),t.appendChild(v.extractContents()))}constructor(t,e,i,s,c,v=!0){super(e,i,s,c,v),this.delegate=t}get shouldRender(){return!0}async render(){await Qs(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await Qs(),this.focusFirstAutofocusableElement(),await Qs(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const t=this.currentElement.firstElementChild,e=Gh(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=Qh(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(t)return t.scrollIntoView({block:e,behavior:i}),!0}return!1}activateScriptElements(){for(const t of this.newScriptElements){const e=hs(t);t.replaceWith(e)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function Gh(n,t){return n=="end"||n=="start"||n=="center"||n=="nearest"?n:t}function Qh(n,t){return n=="auto"||n=="smooth"?n:t}class qi{static get defaultCSS(){return Ac`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${qi.animationDuration}ms ease-out,
          opacity ${qi.animationDuration/2}ms ${qi.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(t){this.value=t,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,qi.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,qi.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const t=document.createElement("style");return t.type="text/css",t.textContent=qi.defaultCSS,this.cspNonce&&(t.nonce=this.cspNonce),t}createProgressElement(){const t=document.createElement("div");return t.className="turbo-progress-bar",t}get cspNonce(){return oo("csp-nonce")}}qi.animationDuration=300;class Zh extends bo{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(t=>!nd(t)).map(t=>od(t)).reduce((t,e)=>{const{outerHTML:i}=e,s=i in t?t[i]:{type:td(e),tracked:ed(e),elements:[]};return Object.assign(Object.assign({},t),{[i]:Object.assign(Object.assign({},s),{elements:[...s.elements,e]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,e){return Object.keys(this.detailsByOuterHTML).filter(i=>!(i in e.detailsByOuterHTML)).map(i=>this.detailsByOuterHTML[i]).filter(({type:i})=>i==t).map(({elements:[i]})=>i)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,e)=>{const{type:i,tracked:s,elements:c}=this.detailsByOuterHTML[e];return i==null&&!s?[...t,...c]:c.length>1?[...t,...c.slice(1)]:t},[])}getMetaValue(t){const e=this.findMetaElementByName(t);return e?e.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((e,i)=>{const{elements:[s]}=this.detailsByOuterHTML[i];return sd(s,t)?s:e},void 0)}}function td(n){if(id(n))return"script";if(rd(n))return"stylesheet"}function ed(n){return n.getAttribute("data-turbo-track")=="reload"}function id(n){return n.localName=="script"}function nd(n){return n.localName=="noscript"}function rd(n){const t=n.localName;return t=="style"||t=="link"&&n.getAttribute("rel")=="stylesheet"}function sd(n,t){return n.localName=="meta"&&n.getAttribute("name")==t}function od(n){return n.hasAttribute("nonce")&&n.setAttribute("nonce",""),n}class li extends bo{static fromHTMLString(t=""){return this.fromDocument(yc(t))}static fromElement(t){return this.fromDocument(t.ownerDocument)}static fromDocument({head:t,body:e}){return new this(e,new Zh(t))}constructor(t,e){super(t),this.headSnapshot=e}clone(){const t=this.element.cloneNode(!0),e=this.element.querySelectorAll("select"),i=t.querySelectorAll("select");for(const[s,c]of e.entries()){const v=i[s];for(const x of v.selectedOptions)x.selected=!1;for(const x of c.selectedOptions)v.options[x.index].selected=!0}for(const s of t.querySelectorAll('input[type="password"]'))s.value="";return new li(t,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var t;const e=(t=this.getSetting("root"))!==null&&t!==void 0?t:"/";return Ee(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(t){return this.headSnapshot.getMetaValue(`turbo-${t}`)}}var vr;(function(n){n.visitStart="visitStart",n.requestStart="requestStart",n.requestEnd="requestEnd",n.visitEnd="visitEnd"})(vr||(vr={}));var oi;(function(n){n.initialized="initialized",n.started="started",n.canceled="canceled",n.failed="failed",n.completed="completed"})(oi||(oi={}));const ad={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var yn;(function(n){n[n.networkFailure=0]="networkFailure",n[n.timeoutFailure=-1]="timeoutFailure",n[n.contentTypeMismatch=-2]="contentTypeMismatch"})(yn||(yn={}));class ld{constructor(t,e,i,s={}){this.identifier=xr(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=oi.initialized,this.delegate=t,this.location=e,this.restorationIdentifier=i||xr();const{action:c,historyChanged:v,referrer:x,snapshot:D,snapshotHTML:B,response:U,visitCachedSnapshot:tt,willRender:ct,updateHistory:at,shouldCacheSnapshot:nt,acceptsStreamResponse:X}=Object.assign(Object.assign({},ad),s);this.action=c,this.historyChanged=v,this.referrer=x,this.snapshot=D,this.snapshotHTML=B,this.response=U,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=tt,this.willRender=ct,this.updateHistory=at,this.scrolled=!ct,this.shouldCacheSnapshot=nt,this.acceptsStreamResponse=X}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==oi.initialized&&(this.recordTimingMetric(vr.visitStart),this.state=oi.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==oi.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=oi.canceled)}complete(){this.state==oi.started&&(this.recordTimingMetric(vr.visitEnd),this.state=oi.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==oi.started&&(this.state=oi.failed,this.adapter.visitFailed(this))}changeHistory(){var t;if(!this.historyChanged&&this.updateHistory){const e=this.location.href===((t=this.referrer)===null||t===void 0?void 0:t.href)?"replace":this.action,i=Ec(e);this.history.update(i,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Ma(this,Fe.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(vr.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(t=this.response){if(this.response=t,t){const{statusCode:e}=t;ml(e)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,e)}}finishRequest(){this.recordTimingMetric(vr.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:t,responseHTML:e}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,ml(t)&&e!=null?(await this.view.renderPage(li.fromHTMLString(e),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(li.fromHTMLString(e),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!jn(this.location)||t.hasAnchor(jn(this.location)))&&(this.action=="restore"||t.isPreviewable))return t}getPreloadedSnapshot(){if(this.snapshotHTML)return li.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const t=this.getCachedSnapshot();if(t){const e=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(t,e,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),e||this.complete())})}}followRedirect(){var t;this.redirectedToLocation&&!this.followedRedirect&&(!((t=this.response)===null||t===void 0)&&t.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(t){this.acceptsStreamResponse&&t.acceptResponseType(zn.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(t,e){}async requestSucceededWithResponse(t,e){const i=await e.responseHTML,{redirected:s,statusCode:c}=e;i==null?this.recordResponse({statusCode:yn.contentTypeMismatch,redirected:s}):(this.redirectedToLocation=e.redirected?e.location:void 0,this.recordResponse({statusCode:c,responseHTML:i,redirected:s}))}async requestFailedWithResponse(t,e){const i=await e.responseHTML,{redirected:s,statusCode:c}=e;i==null?this.recordResponse({statusCode:yn.contentTypeMismatch,redirected:s}):this.recordResponse({statusCode:c,responseHTML:i,redirected:s})}requestErrored(t,e){this.recordResponse({statusCode:yn.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:t}=this.restorationData;if(t)return this.view.scrollToPosition(t),!0}scrollToAnchor(){const t=jn(this.location);if(t!=null)return this.view.scrollToAnchor(t),!0}recordTimingMetric(t){this.timingMetrics[t]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(t=>t&&this.visitCachedSnapshot(t)),this.snapshotCached=!0)}async render(t){this.cancelRender(),await new Promise(e=>{this.frame=requestAnimationFrame(()=>e())}),await t(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function ml(n){return n>=200&&n<300}class cd{constructor(t){this.progressBar=new qi,this.showProgressBar=()=>{this.progressBar.show()},this.session=t}visitProposedToLocation(t,e){this.navigator.startVisit(t,(e==null?void 0:e.restorationIdentifier)||xr(),e)}visitStarted(t){this.location=t.location,t.loadCachedSnapshot(),t.issueRequest(),t.goToSamePageAnchor()}visitRequestStarted(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||t.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(t){t.loadResponse()}visitRequestFailedWithStatusCode(t,e){switch(e){case yn.networkFailure:case yn.timeoutFailure:case yn.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:e}});default:return t.loadResponse()}}visitRequestFinished(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(t){}pageInvalidated(t){this.reload(t)}visitFailed(t){}visitRendered(t){}formSubmissionStarted(t){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(t){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(t){var e;ge("turbo:reload",{detail:t}),window.location.href=((e=this.location)===null||e===void 0?void 0:e.toString())||window.location.href}get navigator(){return this.session.navigator}}class ud{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=t=>{for(const e of this.temporaryElements)e.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const t=document.querySelectorAll(this.deprecatedSelector);return t.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...t]}}class hd{constructor(t,e){this.session=t,this.element=e,this.linkInterceptor=new Tc(this,e),this.formSubmitObserver=new Na(this,e)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(t,e,i){return this.shouldRedirect(t)}linkClickIntercepted(t,e,i){const s=this.findFrameElement(t);s&&s.delegate.linkClickIntercepted(t,e,i)}willSubmitForm(t,e){return t.closest("turbo-frame")==null&&this.shouldSubmit(t,e)&&this.shouldRedirect(t,e)}formSubmitted(t,e){const i=this.findFrameElement(t,e);i&&i.delegate.formSubmitted(t,e)}shouldSubmit(t,e){var i;const s=Ra(t,e),c=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),v=Ee((i=c==null?void 0:c.content)!==null&&i!==void 0?i:"/");return this.shouldRedirect(t,e)&&Ar(s,v)}shouldRedirect(t,e){if(t instanceof HTMLFormElement?this.session.submissionIsNavigatable(t,e):this.session.elementIsNavigatable(t)){const s=this.findFrameElement(t,e);return s?s!=t.closest("turbo-frame"):!1}else return!1}findFrameElement(t,e){const i=(e==null?void 0:e.getAttribute("data-turbo-frame"))||t.getAttribute("data-turbo-frame");if(i&&i!="_top"){const s=this.element.querySelector(`#${i}:not([disabled])`);if(s instanceof Vi)return s}}}class dd{constructor(t){this.restorationIdentifier=xr(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=e=>{if(this.shouldHandlePopState()){const{turbo:i}=e.state||{};if(i){this.location=new URL(window.location.href);const{restorationIdentifier:s}=i;this.restorationIdentifier=s,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,s)}}},this.onPageLoad=async e=>{await Rh(),this.pageLoaded=!0},this.delegate=t}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(t,e){this.update(history.pushState,t,e)}replace(t,e){this.update(history.replaceState,t,e)}update(t,e,i=xr()){const s={turbo:{restorationIdentifier:i}};t.call(history,s,"",e.href),this.location=e,this.restorationIdentifier=i}getRestorationDataForIdentifier(t){return this.restorationData[t]||{}}updateRestorationData(t){const{restorationIdentifier:e}=this,i=this.restorationData[e];this.restorationData[e]=Object.assign(Object.assign({},i),t)}assumeControlOfScrollRestoration(){var t;this.previousScrollRestoration||(this.previousScrollRestoration=(t=history.scrollRestoration)!==null&&t!==void 0?t:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}class fd{constructor(t){this.delegate=t}proposeVisit(t,e={}){this.delegate.allowsVisitingLocationWithAction(t,e.action)&&(Ar(t,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(t,e):window.location.href=t.toString())}startVisit(t,e,i={}){this.stop(),this.currentVisit=new ld(this,Ee(t),e,Object.assign({referrer:this.location},i)),this.currentVisit.start()}submitForm(t,e){this.stop(),this.formSubmission=new gs(this,t,e,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(t){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(t)}async formSubmissionSucceededWithResponse(t,e){if(t==this.formSubmission){const i=await e.responseHTML;if(i){const s=t.isSafe;s||this.view.clearSnapshotCache();const{statusCode:c,redirected:v}=e,D={action:this.getActionForFormSubmission(t),shouldCacheSnapshot:s,response:{statusCode:c,responseHTML:i,redirected:v}};this.proposeVisit(e.location,D)}}}async formSubmissionFailedWithResponse(t,e){const i=await e.responseHTML;if(i){const s=li.fromHTMLString(i);e.serverError?await this.view.renderError(s,this.currentVisit):await this.view.renderPage(s,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished(t){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(t)}visitStarted(t){this.delegate.visitStarted(t)}visitCompleted(t){this.delegate.visitCompleted(t)}locationWithActionIsSamePage(t,e){const i=jn(t),s=jn(this.view.lastRenderedLocation),c=e==="restore"&&typeof i>"u";return e!=="replace"&&la(t)===la(this.view.lastRenderedLocation)&&(c||i!=null&&i!==s)}visitScrolledToSamePageLocation(t,e){this.delegate.visitScrolledToSamePageLocation(t,e)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:t,formElement:e}){return mo(t,e)||"advance"}}var Bi;(function(n){n[n.initial=0]="initial",n[n.loading=1]="loading",n[n.interactive=2]="interactive",n[n.complete=3]="complete"})(Bi||(Bi={}));class pd{constructor(t){this.stage=Bi.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=t}start(){this.started||(this.stage==Bi.initial&&(this.stage=Bi.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Bi.loading&&(this.stage=Bi.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Bi.interactive&&(this.stage=Bi.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class gd{constructor(t){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=t}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(t){this.delegate.scrollPositionChanged(t)}}class md{render({fragment:t}){kc.preservingPermanentElements(this,bd(t),()=>document.documentElement.appendChild(t))}enteringBardo(t,e){e.replaceWith(t.cloneNode(!0))}leavingBardo(){}}function bd(n){const t=Sc(document.documentElement),e={};for(const i of t){const{id:s}=i;for(const c of n.querySelectorAll("turbo-stream")){const v=xc(c.templateElement.content,s);v&&(e[s]=[i,v])}}return e}class vd{constructor(t){this.sources=new Set,this.started=!1,this.inspectFetchResponse=e=>{const i=yd(e);i&&Ad(i)&&(e.preventDefault(),this.receiveMessageResponse(i))},this.receiveMessageEvent=e=>{this.started&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)},this.delegate=t}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(t){return this.sources.has(t)}async receiveMessageResponse(t){const e=await t.responseHTML;e&&this.receiveMessageHTML(e)}receiveMessageHTML(t){this.delegate.receivedMessageFromStream(zn.wrap(t))}}function yd(n){var t;const e=(t=n.detail)===null||t===void 0?void 0:t.fetchResponse;if(e instanceof Da)return e}function Ad(n){var t;return((t=n.contentType)!==null&&t!==void 0?t:"").startsWith(zn.contentType)}class bl extends Pa{static renderElement(t,e){const{documentElement:i,body:s}=document;i.replaceChild(e,s)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:t,head:e}=document;t.replaceChild(this.newHead,e),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const t of this.scriptElements){const e=t.parentNode;if(e){const i=hs(t);e.replaceChild(i,t)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class da extends Pa{static renderElement(t,e){document.body&&e instanceof HTMLBodyElement?document.body.replaceWith(e):document.documentElement.appendChild(e)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.mergeProvisionalElements(),e=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await e}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const e of this.newHeadStylesheetElements)t.push(Nh(e)),document.head.appendChild(e);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(hs(t))}async mergeProvisionalElements(){const t=[...this.newHeadProvisionalElements];for(const e of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(e,t)||document.head.removeChild(e);for(const e of t)document.head.appendChild(e)}isCurrentElementInElementList(t,e){for(const[i,s]of e.entries()){if(t.tagName=="TITLE"){if(s.tagName!="TITLE")continue;if(t.innerHTML==s.innerHTML)return e.splice(i,1),!0}if(s.isEqualNode(t))return e.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const e=hs(t);t.replaceWith(e)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class Ed{constructor(t){this.keys=[],this.snapshots={},this.size=t}has(t){return Xs(t)in this.snapshots}get(t){if(this.has(t)){const e=this.read(t);return this.touch(t),e}}put(t,e){return this.write(t,e),this.touch(t),e}clear(){this.snapshots={}}read(t){return this.snapshots[Xs(t)]}write(t,e){this.snapshots[Xs(t)]=e}touch(t){const e=Xs(t),i=this.keys.indexOf(e);i>-1&&this.keys.splice(i,1),this.keys.unshift(e),this.trim()}trim(){for(const t of this.keys.splice(this.size))delete this.snapshots[t]}}class wd extends Cc{constructor(){super(...arguments),this.snapshotCache=new Ed(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(t,e=!1,i=!0,s){const c=new da(this.snapshot,t,da.renderElement,e,i);return c.shouldRender?s==null||s.changeHistory():this.forceReloaded=!0,this.render(c)}renderError(t,e){e==null||e.changeHistory();const i=new bl(this.snapshot,t,bl.renderElement,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:e}=this;await Oh();const i=t.clone();return this.snapshotCache.put(e,i),i}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}get snapshot(){return li.fromElement(this.element)}}class xd{constructor(t){this.selector="a[data-turbo-preload]",this.delegate=t}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(t){for(const e of t.querySelectorAll(this.selector))this.preloadURL(e)}async preloadURL(t){const e=new URL(t.href);if(!this.snapshotCache.has(e))try{const s=await(await fetch(e.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),c=li.fromHTMLString(s);this.snapshotCache.put(e,c)}catch{}}}class Sd{constructor(){this.navigator=new fd(this),this.history=new dd(this),this.preloader=new xd(this),this.view=new wd(this,document.documentElement),this.adapter=new cd(this),this.pageObserver=new pd(this),this.cacheObserver=new ud,this.linkClickObserver=new _c(this,window),this.formSubmitObserver=new Na(this,document),this.scrollObserver=new gd(this),this.streamObserver=new vd(this),this.formLinkClickObserver=new Lc(this,document.documentElement),this.frameRedirector=new hd(this,document.documentElement),this.streamMessageRenderer=new md,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(t){this.adapter=t}visit(t,e={}){const i=e.frame?document.getElementById(e.frame):null;i instanceof Vi?(i.src=t.toString(),i.loaded):this.navigator.proposeVisit(Ee(t),e)}connectStreamSource(t){this.streamObserver.connectStreamSource(t)}disconnectStreamSource(t){this.streamObserver.disconnectStreamSource(t)}renderStreamMessage(t){this.streamMessageRenderer.render(zn.wrap(t))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(t){this.progressBarDelay=t}setFormMode(t){this.formMode=t}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(t,e){this.enabled?this.navigator.startVisit(t,e,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(t){this.history.updateRestorationData({scrollPosition:t})}willSubmitFormLinkToLocation(t,e){return this.elementIsNavigatable(t)&&Ar(e,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(t,e,i){return this.elementIsNavigatable(t)&&Ar(e,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(t,e,i)}followedLinkToLocation(t,e){const i=this.getActionForLink(t),s=t.hasAttribute("data-turbo-stream");this.visit(e.href,{action:i,acceptsStreamResponse:s})}allowsVisitingLocationWithAction(t,e){return this.locationWithActionIsSamePage(t,e)||this.applicationAllowsVisitingLocation(t)}visitProposedToLocation(t,e){vl(t),this.adapter.visitProposedToLocation(t,e)}visitStarted(t){t.acceptsStreamResponse||ca(document.documentElement),vl(t.location),t.silent||this.notifyApplicationAfterVisitingLocation(t.location,t.action)}visitCompleted(t){ua(document.documentElement),this.notifyApplicationAfterPageLoad(t.getTimingMetrics())}locationWithActionIsSamePage(t,e){return this.navigator.locationWithActionIsSamePage(t,e)}visitScrolledToSamePageLocation(t,e){this.notifyApplicationAfterVisitingSamePageLocation(t,e)}willSubmitForm(t,e){const i=Ra(t,e);return this.submissionIsNavigatable(t,e)&&Ar(Ee(i),this.snapshot.rootLocation)}formSubmitted(t,e){this.navigator.submitForm(t,e)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(t){this.renderStreamMessage(t)}viewWillCacheSnapshot(){var t;!((t=this.navigator.currentVisit)===null||t===void 0)&&t.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:t},e){const i=this.notifyApplicationBeforeRender(t,e),{defaultPrevented:s,detail:{render:c}}=i;return this.view.renderer&&c&&(this.view.renderer.renderElement=c),!s}viewRenderedSnapshot(t,e){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(t){this.preloader.preloadOnLoadLinksForView(t)}viewInvalidated(t){this.adapter.pageInvalidated(t)}frameLoaded(t){this.notifyApplicationAfterFrameLoad(t)}frameRendered(t,e){this.notifyApplicationAfterFrameRender(t,e)}applicationAllowsFollowingLinkToLocation(t,e,i){return!this.notifyApplicationAfterClickingLinkToLocation(t,e,i).defaultPrevented}applicationAllowsVisitingLocation(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(t,e,i){return ge("turbo:click",{target:t,detail:{url:e.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(t){return ge("turbo:before-visit",{detail:{url:t.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(t,e){return ge("turbo:visit",{detail:{url:t.href,action:e}})}notifyApplicationBeforeCachingSnapshot(){return ge("turbo:before-cache")}notifyApplicationBeforeRender(t,e){return ge("turbo:before-render",{detail:Object.assign({newBody:t},e),cancelable:!0})}notifyApplicationAfterRender(){return ge("turbo:render")}notifyApplicationAfterPageLoad(t={}){return ge("turbo:load",{detail:{url:this.location.href,timing:t}})}notifyApplicationAfterVisitingSamePageLocation(t,e){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:t.toString(),newURL:e.toString()}))}notifyApplicationAfterFrameLoad(t){return ge("turbo:frame-load",{target:t})}notifyApplicationAfterFrameRender(t,e){return ge("turbo:frame-render",{detail:{fetchResponse:t},target:e,cancelable:!0})}submissionIsNavigatable(t,e){if(this.formMode=="off")return!1;{const i=e?this.elementIsNavigatable(e):!0;return this.formMode=="optin"?i&&t.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(t)}}elementIsNavigatable(t){const e=ao(t,"[data-turbo]"),i=ao(t,"turbo-frame");return this.drive||i?e?e.getAttribute("data-turbo")!="false":!0:e?e.getAttribute("data-turbo")=="true":!1}getActionForLink(t){return mo(t)||"advance"}get snapshot(){return this.view.snapshot}}function vl(n){Object.defineProperties(n,Cd)}const Cd={absoluteURL:{get(){return this.toString()}}};class Td{constructor(t){this.session=t}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(t){Ih("turbo-cache-control",t)}}const Oc={after(){this.targetElements.forEach(n=>{var t;return(t=n.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,n.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.append(this.templateContent))},before(){this.targetElements.forEach(n=>{var t;return(t=n.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,n)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.prepend(this.templateContent))},remove(){this.targetElements.forEach(n=>n.remove())},replace(){this.targetElements.forEach(n=>n.replaceWith(this.templateContent))},update(){this.targetElements.forEach(n=>{n.innerHTML="",n.append(this.templateContent)})}},zt=new Sd,_d=new Td(zt),{navigator:Ld}=zt;function Rc(){zt.start()}function kd(n){zt.registerAdapter(n)}function Od(n,t){zt.visit(n,t)}function Ia(n){zt.connectStreamSource(n)}function Fa(n){zt.disconnectStreamSource(n)}function Rd(n){zt.renderStreamMessage(n)}function Dd(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),zt.clearCache()}function Md(n){zt.setProgressBarDelay(n)}function Nd(n){gs.confirmMethod=n}function Pd(n){zt.setFormMode(n)}var Id=Object.freeze({__proto__:null,navigator:Ld,session:zt,cache:_d,PageRenderer:da,PageSnapshot:li,FrameRenderer:ha,start:Rc,registerAdapter:kd,visit:Od,connectStreamSource:Ia,disconnectStreamSource:Fa,renderStreamMessage:Rd,clearCache:Dd,setProgressBarDelay:Md,setConfirmMethod:Nd,setFormMode:Pd,StreamActions:Oc});class Fd extends Error{}class Bd{constructor(t){this.fetchResponseLoaded=e=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:e})=>{const i=e.querySelector("#"+this.element.id);i&&this.previousFrameElement&&i.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=t,this.view=new Kh(this,this.element),this.appearanceObserver=new Bh(this,this.element),this.formLinkClickObserver=new Lc(this,this.element),this.linkInterceptor=new Tc(this,this.element),this.restorationIdentifier=xr(),this.formSubmitObserver=new Na(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==vn.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==vn.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==vn.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){const{src:t}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=t,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==vn.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(Ee(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(t){(t.redirected||t.succeeded&&t.isHTML)&&(this.sourceURL=t.response.url);try{const e=await t.responseHTML;if(e){const i=yc(e);li.fromDocument(i).isVisitable?await this.loadFrameResponse(t,i):await this.handleUnvisitableFrameResponse(t)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(t){this.proposeVisitIfNavigatedWithAction(t,t),this.loadSourceURL()}willSubmitFormLinkToLocation(t){return this.shouldInterceptNavigation(t)}submittedFormLinkToLocation(t,e,i){const s=this.findFrameElement(t);s&&i.setAttribute("data-turbo-frame",s.id)}shouldInterceptLinkClick(t,e,i){return this.shouldInterceptNavigation(t)}linkClickIntercepted(t,e){this.navigateFrame(t,e)}willSubmitForm(t,e){return t.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(t,e)}formSubmitted(t,e){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new gs(this,t,e);const{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(t){var e;t.headers["Turbo-Frame"]=this.id,!((e=this.currentNavigationElement)===null||e===void 0)&&e.hasAttribute("data-turbo-stream")&&t.acceptResponseType(zn.contentType)}requestStarted(t){ca(this.element)}requestPreventedHandlingResponse(t,e){this.resolveVisitPromise()}async requestSucceededWithResponse(t,e){await this.loadResponse(e),this.resolveVisitPromise()}async requestFailedWithResponse(t,e){await this.loadResponse(e),this.resolveVisitPromise()}requestErrored(t,e){console.error(e),this.resolveVisitPromise()}requestFinished(t){ua(this.element)}formSubmissionStarted({formElement:t}){ca(t,this.findFrameElement(t))}formSubmissionSucceededWithResponse(t,e){const i=this.findFrameElement(t.formElement,t.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,t.formElement,t.submitter),i.delegate.loadResponse(e),t.isSafe||zt.clearCache()}formSubmissionFailedWithResponse(t,e){this.element.delegate.loadResponse(e),zt.clearCache()}formSubmissionErrored(t,e){console.error(e)}formSubmissionFinished({formElement:t}){ua(t,this.findFrameElement(t))}allowsImmediateRender({element:t},e){const i=ge("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:t},e),cancelable:!0}),{defaultPrevented:s,detail:{render:c}}=i;return this.view.renderer&&c&&(this.view.renderer.renderElement=c),!s}viewRenderedSnapshot(t,e){}preloadOnLoadLinksForView(t){zt.preloadOnLoadLinksForView(t)}viewInvalidated(){}willRenderFrame(t,e){this.previousFrameElement=t.cloneNode(!0)}async loadFrameResponse(t,e){const i=await this.extractForeignFrameElement(e.body);if(i){const s=new bo(i),c=new ha(this,this.view.snapshot,s,ha.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(c),this.complete=!0,zt.frameRendered(t,this.element),zt.frameLoaded(this.element),this.fetchResponseLoaded(t)}else this.willHandleFrameMissingFromResponse(t)&&this.handleFrameMissingFromResponse(t)}async visit(t){var e;const i=new Ma(this,Fe.get,t,new URLSearchParams,this.element);return(e=this.currentFetchRequest)===null||e===void 0||e.cancel(),this.currentFetchRequest=i,new Promise(s=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,s()},i.perform()})}navigateFrame(t,e,i){const s=this.findFrameElement(t,i);s.delegate.proposeVisitIfNavigatedWithAction(s,t,i),this.withCurrentNavigationElement(t,()=>{s.src=e})}proposeVisitIfNavigatedWithAction(t,e,i){if(this.action=mo(i,e,t),this.action){const s=li.fromElement(t).clone(),{visitCachedSnapshot:c}=t.delegate;t.delegate.fetchResponseLoaded=v=>{if(t.src){const{statusCode:x,redirected:D}=v,B=t.ownerDocument.documentElement.outerHTML,tt={response:{statusCode:x,redirected:D,responseHTML:B},visitCachedSnapshot:c,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:s};this.action&&(tt.action=this.action),zt.visit(t.src,tt)}}}}changeHistory(){if(this.action){const t=Ec(this.action);zt.history.update(t,Ee(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(t){console.warn(`The response (${t.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(t.response)}willHandleFrameMissingFromResponse(t){this.element.setAttribute("complete","");const e=t.response,i=async(c,v={})=>{c instanceof Response?this.visitResponse(c):zt.visit(c,v)};return!ge("turbo:frame-missing",{target:this.element,detail:{response:e,visit:i},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(t){this.view.missing(),this.throwFrameMissingError(t)}throwFrameMissingError(t){const e=`The response (${t.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Fd(e)}async visitResponse(t){const e=new Da(t),i=await e.responseHTML,{location:s,redirected:c,statusCode:v}=e;return zt.visit(s,{response:{redirected:c,statusCode:v,responseHTML:i}})}findFrameElement(t,e){var i;const s=so("data-turbo-frame",e,t)||this.element.getAttribute("target");return(i=yl(s))!==null&&i!==void 0?i:this.element}async extractForeignFrameElement(t){let e;const i=CSS.escape(this.id);try{if(e=Al(t.querySelector(`turbo-frame#${i}`),this.sourceURL),e)return e;if(e=Al(t.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),e)return await e.loaded,await this.extractForeignFrameElement(e)}catch(s){return console.error(s),new Vi}return null}formActionIsVisitable(t,e){const i=Ra(t,e);return Ar(Ee(i),this.rootLocation)}shouldInterceptNavigation(t,e){const i=so("data-turbo-frame",e,t)||this.element.getAttribute("target");if(t instanceof HTMLFormElement&&!this.formActionIsVisitable(t,e)||!this.enabled||i=="_top")return!1;if(i){const s=yl(i);if(s)return!s.disabled}return!(!zt.elementIsNavigatable(t)||e&&!zt.elementIsNavigatable(e))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(t){this.ignoringChangesToAttribute("src",()=>{this.element.src=t??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(t){this.ignoringChangesToAttribute("complete",()=>{t?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var t;const e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),i=(t=e==null?void 0:e.content)!==null&&t!==void 0?t:"/";return Ee(i)}isIgnoringChangesTo(t){return this.ignoredAttributes.has(t)}ignoringChangesToAttribute(t,e){this.ignoredAttributes.add(t),e(),this.ignoredAttributes.delete(t)}withCurrentNavigationElement(t,e){this.currentNavigationElement=t,e(),delete this.currentNavigationElement}}function yl(n){if(n!=null){const t=document.getElementById(n);if(t instanceof Vi)return t}}function Al(n,t){if(n){const e=n.getAttribute("src");if(e!=null&&t!=null&&xh(e,t))throw new Error(`Matching <turbo-frame id="${n.id}"> element has a source URL which references itself`);if(n.ownerDocument!==document&&(n=document.importNode(n,!0)),n instanceof Vi)return n.connectedCallback(),n.disconnectedCallback(),n}}class Ba extends HTMLElement{static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){var t;return(t=this.renderPromise)!==null&&t!==void 0?t:this.renderPromise=(async()=>{const e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await Qs(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var t;const e=this.targetElements.flatMap(s=>[...s.children]).filter(s=>!!s.id),i=[...((t=this.templateContent)===null||t===void 0?void 0:t.children)||[]].filter(s=>!!s.id).map(s=>s.id);return e.filter(s=>i.includes(s.id))}get performAction(){if(this.action){const t=Oc[this.action];if(t)return t;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(t){throw new Error(`${this.description}: ${t}`)}get description(){var t,e;return(e=((t=this.outerHTML.match(/<[^>]+>/))!==null&&t!==void 0?t:[])[0])!==null&&e!==void 0?e:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Ba.renderElement}})}get targetElementsById(){var t;const e=(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){var t;const e=(t=this.ownerDocument)===null||t===void 0?void 0:t.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}}class jd extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Ia(this.streamSource)}disconnectedCallback(){this.streamSource&&Fa(this.streamSource)}get src(){return this.getAttribute("src")||""}}Vi.delegateConstructor=Bd;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Vi);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Ba);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",jd);(()=>{let n=document.currentScript;if(n&&!n.hasAttribute("data-turbo-suppress-warning"))for(n=n.parentElement;n;){if(n==document.body)return console.warn(Ac`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,n.outerHTML);n=n.parentElement}})();window.Turbo=Id;Rc();const qd="modulepreload",Wd=function(n){return"/shared/"+n},El={},Lt=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),v=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.all(e.map(x=>{if(x=Wd(x),x in El)return;El[x]=!0;const D=x.endsWith(".css"),B=D?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${B}`))return;const U=document.createElement("link");if(U.rel=D?"stylesheet":qd,D||(U.as="script",U.crossOrigin=""),U.href=x,v&&U.setAttribute("nonce",v),document.head.appendChild(U),D)return new Promise((tt,ct)=>{U.addEventListener("load",tt),U.addEventListener("error",()=>ct(new Error(`Unable to preload CSS for ${x}`)))})}))}return s.then(()=>t()).catch(c=>{const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=c,window.dispatchEvent(v),!v.defaultPrevented)throw c})};let Dc;async function Hd(){return Dc||wl(Vd().then(wl))}function wl(n){return Dc=n}async function Vd(){const{createConsumer:n}=await Lt(async()=>{const{createConsumer:t}=await import("./index-FRQGQGEM.js");return{createConsumer:t}},[]);return n()}async function $d(n,t){const{subscriptions:e}=await Hd();return e.create(n,t)}function fa(n){return!n||typeof n!="object"||n instanceof Date||n instanceof RegExp?n:Array.isArray(n)?n.map(fa):Object.keys(n).reduce(function(t,e){var i=e[0].toLowerCase()+e.slice(1).replace(/([A-Z]+)/g,function(s,c){return"_"+c.toLowerCase()});return t[i]=fa(n[e]),t},{})}class Ud extends HTMLElement{async connectedCallback(){Ia(this),this.subscription=await $d(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){Fa(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(t){const e=new MessageEvent("message",{data:t});return this.dispatchEvent(e)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){const t=this.getAttribute("channel"),e=this.getAttribute("signed-stream-name");return{channel:t,signed_stream_name:e,...fa({...this.dataset})}}}customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",Ud);function zd(n){if(n.target instanceof HTMLFormElement){const{target:t,detail:{fetchOptions:e}}=n;t.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:i}}})=>{const s=Jd(e.body)?e.body:new URLSearchParams,c=Kd(i,s,t);/get/i.test(c)||(/post/i.test(c)?s.delete("_method"):s.set("_method",c),e.method="post")},{once:!0})}}function Kd(n,t,e){const i=Xd(n),s=t.get("_method"),c=e.getAttribute("method")||"get";return typeof i=="string"?i:typeof s=="string"?s:c}function Xd(n){return(n instanceof HTMLButtonElement||n instanceof HTMLInputElement)&&n.hasAttribute("formmethod")?n.formMethod:null}function Jd(n){return n instanceof FormData||n instanceof URLSearchParams}addEventListener("turbo:before-fetch-request",zd);class Yd{constructor(t,e,i){this.eventTarget=t,this.eventName=e,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){const e=Gd(t);for(const i of this.bindings){if(e.immediatePropagationStopped)break;i.handleEvent(e)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((t,e)=>{const i=t.index,s=e.index;return i<s?-1:i>s?1:0})}}function Gd(n){if("immediatePropagationStopped"in n)return n;{const{stopImmediatePropagation:t}=n;return Object.assign(n,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}class Qd{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(t=>t.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(t=>t.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((t,e)=>t.concat(Array.from(e.values())),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,e=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),e&&this.clearEventListenersForBinding(t)}handleError(t,e,i={}){this.application.handleError(t,`Error ${e}`,i)}clearEventListenersForBinding(t){const e=this.fetchEventListenerForBinding(t);e.hasBindings()||(e.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){const{eventTarget:e,eventName:i,eventOptions:s}=t,c=this.fetchEventListenerMapForEventTarget(e),v=this.cacheKey(i,s);c.delete(v),c.size==0&&this.eventListenerMaps.delete(e)}fetchEventListenerForBinding(t){const{eventTarget:e,eventName:i,eventOptions:s}=t;return this.fetchEventListener(e,i,s)}fetchEventListener(t,e,i){const s=this.fetchEventListenerMapForEventTarget(t),c=this.cacheKey(e,i);let v=s.get(c);return v||(v=this.createEventListener(t,e,i),s.set(c,v)),v}createEventListener(t,e,i){const s=new Yd(t,e,i);return this.started&&s.connect(),s}fetchEventListenerMapForEventTarget(t){let e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e}cacheKey(t,e){const i=[t];return Object.keys(e).sort().forEach(s=>{i.push(`${e[s]?"":"!"}${s}`)}),i.join(":")}}const Zd={stop({event:n,value:t}){return t&&n.stopPropagation(),!0},prevent({event:n,value:t}){return t&&n.preventDefault(),!0},self({event:n,value:t,element:e}){return t?e===n.target:!0}},tf=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function ef(n){const e=n.trim().match(tf)||[];let i=e[2],s=e[3];return s&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${s}`,s=""),{eventTarget:nf(e[4]),eventName:i,eventOptions:e[7]?rf(e[7]):{},identifier:e[5],methodName:e[6],keyFilter:e[1]||s}}function nf(n){if(n=="window")return window;if(n=="document")return document}function rf(n){return n.split(":").reduce((t,e)=>Object.assign(t,{[e.replace(/^!/,"")]:!/^!/.test(e)}),{})}function sf(n){if(n==window)return"window";if(n==document)return"document"}function ja(n){return n.replace(/(?:[_-])([a-z0-9])/g,(t,e)=>e.toUpperCase())}function pa(n){return ja(n.replace(/--/g,"-").replace(/__/g,"_"))}function ms(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Mc(n){return n.replace(/([A-Z])/g,(t,e)=>`-${e.toLowerCase()}`)}function of(n){return n.match(/[^\s]+/g)||[]}function xl(n){return n!=null}function ga(n,t){return Object.prototype.hasOwnProperty.call(n,t)}const Sl=["meta","ctrl","alt","shift"];class af{constructor(t,e,i,s){this.element=t,this.index=e,this.eventTarget=i.eventTarget||t,this.eventName=i.eventName||lf(t)||Js("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||Js("missing identifier"),this.methodName=i.methodName||Js("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=s}static forToken(t,e){return new this(t.element,t.index,ef(t.content),e)}toString(){const t=this.keyFilter?`.${this.keyFilter}`:"",e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}${e}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(t){if(!this.keyFilter)return!1;const e=this.keyFilter.split("+");if(this.keyFilterDissatisfied(t,e))return!0;const i=e.filter(s=>!Sl.includes(s))[0];return i?(ga(this.keyMappings,i)||Js(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[i].toLowerCase()!==t.key.toLowerCase()):!1}shouldIgnoreMouseEvent(t){if(!this.keyFilter)return!1;const e=[this.keyFilter];return!!this.keyFilterDissatisfied(t,e)}get params(){const t={},e=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:i,value:s}of Array.from(this.element.attributes)){const c=i.match(e),v=c&&c[1];v&&(t[ja(v)]=cf(s))}return t}get eventTargetName(){return sf(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(t,e){const[i,s,c,v]=Sl.map(x=>e.includes(x));return t.metaKey!==i||t.ctrlKey!==s||t.altKey!==c||t.shiftKey!==v}}const Cl={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:n=>n.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function lf(n){const t=n.tagName.toLowerCase();if(t in Cl)return Cl[t](n)}function Js(n){throw new Error(n)}function cf(n){try{return JSON.parse(n)}catch{return n}}class uf{constructor(t,e){this.context=t,this.action=e}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){const e=this.prepareActionEvent(t);this.willBeInvokedByEvent(t)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const t=this.controller[this.methodName];if(typeof t=="function")return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){const{element:e}=this.action,{actionDescriptorFilters:i}=this.context.application,{controller:s}=this.context;let c=!0;for(const[v,x]of Object.entries(this.eventOptions))if(v in i){const D=i[v];c=c&&D({name:v,value:x,event:t,element:e,controller:s})}else continue;return c}prepareActionEvent(t){return Object.assign(t,{params:this.action.params})}invokeWithEvent(t){const{target:e,currentTarget:i}=t;try{this.method.call(this.controller,t),this.context.logDebugActivity(this.methodName,{event:t,target:e,currentTarget:i,action:this.methodName})}catch(s){const{identifier:c,controller:v,element:x,index:D}=this,B={identifier:c,controller:v,element:x,index:D,event:t};this.context.handleError(s,`invoking action "${this.action}"`,B)}}willBeInvokedByEvent(t){const e=t.target;return t instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(t)||t instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(t)?!1:this.element===e?!0:e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class Nc{constructor(t,e){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const t=new Set(this.matchElementsInTree());for(const e of Array.from(this.elements))t.has(e)||this.removeElement(e);for(const e of Array.from(t))this.addElement(e)}}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){t.type=="attributes"?this.processAttributeChange(t.target,t.attributeName):t.type=="childList"&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,e){this.elements.has(t)?this.delegate.elementAttributeChanged&&this.matchElement(t)?this.delegate.elementAttributeChanged(t,e):this.removeElement(t):this.matchElement(t)&&this.addElement(t)}processRemovedNodes(t){for(const e of Array.from(t)){const i=this.elementFromNode(e);i&&this.processTree(i,this.removeElement)}}processAddedNodes(t){for(const e of Array.from(t)){const i=this.elementFromNode(e);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,e){for(const i of this.matchElementsInTree(t))e.call(this,i)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected!=this.element.isConnected?!1:this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}}class qa{constructor(t,e,i){this.attributeName=e,this.delegate=i,this.elementObserver=new Nc(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){const e=this.matchElement(t)?[t]:[],i=Array.from(t.querySelectorAll(this.selector));return e.concat(i)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)}}function hf(n,t,e){Pc(n,t).add(e)}function df(n,t,e){Pc(n,t).delete(e),ff(n,t)}function Pc(n,t){let e=n.get(t);return e||(e=new Set,n.set(t,e)),e}function ff(n,t){const e=n.get(t);e!=null&&e.size==0&&n.delete(t)}class qn{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((e,i)=>e.concat(Array.from(i)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((e,i)=>e+i.size,0)}add(t,e){hf(this.valuesByKey,t,e)}delete(t,e){df(this.valuesByKey,t,e)}has(t,e){const i=this.valuesByKey.get(t);return i!=null&&i.has(e)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some(i=>i.has(t))}getValuesForKey(t){const e=this.valuesByKey.get(t);return e?Array.from(e):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter(([e,i])=>i.has(t)).map(([e,i])=>e)}}class pf{constructor(t,e,i,s){this._selector=e,this.details=s,this.elementObserver=new Nc(t,this),this.delegate=i,this.matchesByElement=new qn}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(t){this._selector=t,this.refresh()}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(t){const{selector:e}=this;if(e){const i=t.matches(e);return this.delegate.selectorMatchElement?i&&this.delegate.selectorMatchElement(t,this.details):i}else return!1}matchElementsInTree(t){const{selector:e}=this;if(e){const i=this.matchElement(t)?[t]:[],s=Array.from(t.querySelectorAll(e)).filter(c=>this.matchElement(c));return i.concat(s)}else return[]}elementMatched(t){const{selector:e}=this;e&&this.selectorMatched(t,e)}elementUnmatched(t){const e=this.matchesByElement.getKeysForValue(t);for(const i of e)this.selectorUnmatched(t,i)}elementAttributeChanged(t,e){const{selector:i}=this;if(i){const s=this.matchElement(t),c=this.matchesByElement.has(i,t);s&&!c?this.selectorMatched(t,i):!s&&c&&this.selectorUnmatched(t,i)}}selectorMatched(t,e){this.delegate.selectorMatched(t,e,this.details),this.matchesByElement.add(e,t)}selectorUnmatched(t,e){this.delegate.selectorUnmatched(t,e,this.details),this.matchesByElement.delete(e,t)}}class gf{constructor(t,e){this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){const e=t.attributeName;e&&this.refreshAttribute(e,t.oldValue)}refreshAttribute(t,e){const i=this.delegate.getStringMapKeyForAttribute(t);if(i!=null){this.stringMap.has(t)||this.stringMapKeyAdded(i,t);const s=this.element.getAttribute(t);if(this.stringMap.get(t)!=s&&this.stringMapValueChanged(s,i,e),s==null){const c=this.stringMap.get(t);this.stringMap.delete(t),c&&this.stringMapKeyRemoved(i,t,c)}else this.stringMap.set(t,s)}}stringMapKeyAdded(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)}stringMapValueChanged(t,e,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e,i)}stringMapKeyRemoved(t,e,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(t=>t.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class Ic{constructor(t,e,i){this.attributeObserver=new qa(t,e,this),this.delegate=i,this.tokensByElement=new qn}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){const[e,i]=this.refreshTokensForElement(t);this.tokensUnmatched(e),this.tokensMatched(i)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach(e=>this.tokenMatched(e))}tokensUnmatched(t){t.forEach(e=>this.tokenUnmatched(e))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){const e=this.tokensByElement.getValuesForKey(t),i=this.readTokensForElement(t),s=bf(e,i).findIndex(([c,v])=>!vf(c,v));return s==-1?[[],[]]:[e.slice(s),i.slice(s)]}readTokensForElement(t){const e=this.attributeName,i=t.getAttribute(e)||"";return mf(i,t,e)}}function mf(n,t,e){return n.trim().split(/\s+/).filter(i=>i.length).map((i,s)=>({element:t,attributeName:e,content:i,index:s}))}function bf(n,t){const e=Math.max(n.length,t.length);return Array.from({length:e},(i,s)=>[n[s],t[s]])}function vf(n,t){return n&&t&&n.index==t.index&&n.content==t.content}class Fc{constructor(t,e,i){this.tokenListObserver=new Ic(t,e,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){const{element:e}=t,{value:i}=this.fetchParseResultForToken(t);i&&(this.fetchValuesByTokenForElement(e).set(t,i),this.delegate.elementMatchedValue(e,i))}tokenUnmatched(t){const{element:e}=t,{value:i}=this.fetchParseResultForToken(t);i&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,i))}fetchParseResultForToken(t){let e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e}fetchValuesByTokenForElement(t){let e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(e){return{error:e}}}}class yf{constructor(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Fc(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){const e=new uf(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)}disconnectAction(t){const e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))}disconnectAllActions(){this.bindings.forEach(t=>this.delegate.bindingDisconnected(t,!0)),this.bindingsByAction.clear()}parseValueForToken(t){const e=af.forToken(t,this.schema);if(e.identifier==this.identifier)return e}elementMatchedValue(t,e){this.connectAction(e)}elementUnmatchedValue(t,e){this.disconnectAction(e)}}class Af{constructor(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new gf(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,e){const i=this.valueDescriptorMap[e];this.hasValue(t)||this.invokeChangedCallback(t,i.writer(this.receiver[t]),i.writer(i.defaultValue))}stringMapValueChanged(t,e,i){const s=this.valueDescriptorNameMap[e];t!==null&&(i===null&&(i=s.writer(s.defaultValue)),this.invokeChangedCallback(e,t,i))}stringMapKeyRemoved(t,e,i){const s=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,s.writer(this.receiver[t]),i):this.invokeChangedCallback(t,s.writer(s.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(const{key:t,name:e,defaultValue:i,writer:s}of this.valueDescriptors)i!=null&&!this.controller.data.has(t)&&this.invokeChangedCallback(e,s(i),void 0)}invokeChangedCallback(t,e,i){const s=`${t}Changed`,c=this.receiver[s];if(typeof c=="function"){const v=this.valueDescriptorNameMap[t];try{const x=v.reader(e);let D=i;i&&(D=v.reader(i)),c.call(this.receiver,x,D)}catch(x){throw x instanceof TypeError&&(x.message=`Stimulus Value "${this.context.identifier}.${v.name}" - ${x.message}`),x}}}get valueDescriptors(){const{valueDescriptorMap:t}=this;return Object.keys(t).map(e=>t[e])}get valueDescriptorNameMap(){const t={};return Object.keys(this.valueDescriptorMap).forEach(e=>{const i=this.valueDescriptorMap[e];t[i.name]=i}),t}hasValue(t){const e=this.valueDescriptorNameMap[t],i=`has${ms(e.name)}`;return this.receiver[i]}}class Ef{constructor(t,e){this.context=t,this.delegate=e,this.targetsByName=new qn}start(){this.tokenListObserver||(this.tokenListObserver=new Ic(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:e}){this.scope.containsElement(t)&&this.connectTarget(t,e)}tokenUnmatched({element:t,content:e}){this.disconnectTarget(t,e)}connectTarget(t,e){var i;this.targetsByName.has(e,t)||(this.targetsByName.add(e,t),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetConnected(t,e)))}disconnectTarget(t,e){var i;this.targetsByName.has(e,t)&&(this.targetsByName.delete(e,t),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetDisconnected(t,e)))}disconnectAllTargets(){for(const t of this.targetsByName.keys)for(const e of this.targetsByName.getValuesForKey(t))this.disconnectTarget(e,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function bs(n,t){const e=Bc(n);return Array.from(e.reduce((i,s)=>(xf(s,t).forEach(c=>i.add(c)),i),new Set))}function wf(n,t){return Bc(n).reduce((i,s)=>(i.push(...Sf(s,t)),i),[])}function Bc(n){const t=[];for(;n;)t.push(n),n=Object.getPrototypeOf(n);return t.reverse()}function xf(n,t){const e=n[t];return Array.isArray(e)?e:[]}function Sf(n,t){const e=n[t];return e?Object.keys(e).map(i=>[i,e[i]]):[]}class Cf{constructor(t,e){this.started=!1,this.context=t,this.delegate=e,this.outletsByName=new qn,this.outletElementsByName=new qn,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(t=>{this.setupSelectorObserverForOutlet(t),this.setupAttributeObserverForOutlet(t)}),this.started=!0,this.dependentContexts.forEach(t=>t.refresh()))}refresh(){this.selectorObserverMap.forEach(t=>t.refresh()),this.attributeObserverMap.forEach(t=>t.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(t=>t.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(t=>t.stop()),this.attributeObserverMap.clear())}selectorMatched(t,e,{outletName:i}){const s=this.getOutlet(t,i);s&&this.connectOutlet(s,t,i)}selectorUnmatched(t,e,{outletName:i}){const s=this.getOutletFromMap(t,i);s&&this.disconnectOutlet(s,t,i)}selectorMatchElement(t,{outletName:e}){const i=this.selector(e),s=this.hasOutlet(t,e),c=t.matches(`[${this.schema.controllerAttribute}~=${e}]`);return i?s&&c&&t.matches(i):!1}elementMatchedAttribute(t,e){const i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}elementAttributeValueChanged(t,e){const i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}elementUnmatchedAttribute(t,e){const i=this.getOutletNameFromOutletAttributeName(e);i&&this.updateSelectorObserverForOutlet(i)}connectOutlet(t,e,i){var s;this.outletElementsByName.has(i,e)||(this.outletsByName.add(i,t),this.outletElementsByName.add(i,e),(s=this.selectorObserverMap.get(i))===null||s===void 0||s.pause(()=>this.delegate.outletConnected(t,e,i)))}disconnectOutlet(t,e,i){var s;this.outletElementsByName.has(i,e)&&(this.outletsByName.delete(i,t),this.outletElementsByName.delete(i,e),(s=this.selectorObserverMap.get(i))===null||s===void 0||s.pause(()=>this.delegate.outletDisconnected(t,e,i)))}disconnectAllOutlets(){for(const t of this.outletElementsByName.keys)for(const e of this.outletElementsByName.getValuesForKey(t))for(const i of this.outletsByName.getValuesForKey(t))this.disconnectOutlet(i,e,t)}updateSelectorObserverForOutlet(t){const e=this.selectorObserverMap.get(t);e&&(e.selector=this.selector(t))}setupSelectorObserverForOutlet(t){const e=this.selector(t),i=new pf(document.body,e,this,{outletName:t});this.selectorObserverMap.set(t,i),i.start()}setupAttributeObserverForOutlet(t){const e=this.attributeNameForOutletName(t),i=new qa(this.scope.element,e,this);this.attributeObserverMap.set(t,i),i.start()}selector(t){return this.scope.outlets.getSelectorForOutletName(t)}attributeNameForOutletName(t){return this.scope.schema.outletAttributeForScope(this.identifier,t)}getOutletNameFromOutletAttributeName(t){return this.outletDefinitions.find(e=>this.attributeNameForOutletName(e)===t)}get outletDependencies(){const t=new qn;return this.router.modules.forEach(e=>{const i=e.definition.controllerConstructor;bs(i,"outlets").forEach(c=>t.add(c,e.identifier))}),t}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const t=this.dependentControllerIdentifiers;return this.router.contexts.filter(e=>t.includes(e.identifier))}hasOutlet(t,e){return!!this.getOutlet(t,e)||!!this.getOutletFromMap(t,e)}getOutlet(t,e){return this.application.getControllerForElementAndIdentifier(t,e)}getOutletFromMap(t,e){return this.outletsByName.getValuesForKey(e).find(i=>i.element===t)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class Tf{constructor(t,e){this.logDebugActivity=(i,s={})=>{const{identifier:c,controller:v,element:x}=this;s=Object.assign({identifier:c,controller:v,element:x},s),this.application.logDebugActivity(this.identifier,i,s)},this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new yf(this,this.dispatcher),this.valueObserver=new Af(this,this.controller),this.targetObserver=new Ef(this,this),this.outletObserver=new Cf(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(i){this.handleError(i,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,e,i={}){const{identifier:s,controller:c,element:v}=this;i=Object.assign({identifier:s,controller:c,element:v},i),this.application.handleError(t,`Error ${e}`,i)}targetConnected(t,e){this.invokeControllerMethod(`${e}TargetConnected`,t)}targetDisconnected(t,e){this.invokeControllerMethod(`${e}TargetDisconnected`,t)}outletConnected(t,e,i){this.invokeControllerMethod(`${pa(i)}OutletConnected`,t,e)}outletDisconnected(t,e,i){this.invokeControllerMethod(`${pa(i)}OutletDisconnected`,t,e)}invokeControllerMethod(t,...e){const i=this.controller;typeof i[t]=="function"&&i[t](...e)}}function _f(n){return Lf(n,kf(n))}function Lf(n,t){const e=Mf(n),i=Of(n.prototype,t);return Object.defineProperties(e.prototype,i),e}function kf(n){return bs(n,"blessings").reduce((e,i)=>{const s=i(n);for(const c in s){const v=e[c]||{};e[c]=Object.assign(v,s[c])}return e},{})}function Of(n,t){return Df(t).reduce((e,i)=>{const s=Rf(n,t,i);return s&&Object.assign(e,{[i]:s}),e},{})}function Rf(n,t,e){const i=Object.getOwnPropertyDescriptor(n,e);if(!(i&&"value"in i)){const c=Object.getOwnPropertyDescriptor(t,e).value;return i&&(c.get=i.get||c.get,c.set=i.set||c.set),c}}const Df=typeof Object.getOwnPropertySymbols=="function"?n=>[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)]:Object.getOwnPropertyNames,Mf=(()=>{function n(e){function i(){return Reflect.construct(e,arguments,new.target)}return i.prototype=Object.create(e.prototype,{constructor:{value:i}}),Reflect.setPrototypeOf(i,e),i}function t(){const i=n(function(){this.a.call(this)});return i.prototype.a=function(){},new i}try{return t(),n}catch{return i=>class extends i{}}})();function Nf(n){return{identifier:n.identifier,controllerConstructor:_f(n.controllerConstructor)}}class Pf{constructor(t,e){this.application=t,this.definition=Nf(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){const e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()}disconnectContextForScope(t){const e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())}fetchContextForScope(t){let e=this.contextsByScope.get(t);return e||(e=new Tf(this,t),this.contextsByScope.set(t,e)),e}}class If{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){const e=this.data.get(this.getDataKey(t))||"";return of(e)}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}}class Ff{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){const e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)}set(t,e){const i=this.getAttributeNameForKey(t);return this.element.setAttribute(i,e),this.get(t)}has(t){const e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)}delete(t){if(this.has(t)){const e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}else return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${Mc(t)}`}}class Bf{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,e,i){let s=this.warnedKeysByObject.get(t);s||(s=new Set,this.warnedKeysByObject.set(t,s)),s.has(e)||(s.add(e),this.logger.warn(i,t))}}function ma(n,t){return`[${n}~="${t}"]`}class jf{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,i)=>e||this.findTarget(i)||this.findLegacyTarget(i),void 0)}findAll(...t){return t.reduce((e,i)=>[...e,...this.findAllTargets(i),...this.findAllLegacyTargets(i)],[])}findTarget(t){const e=this.getSelectorForTargetName(t);return this.scope.findElement(e)}findAllTargets(t){const e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)}getSelectorForTargetName(t){const e=this.schema.targetAttributeForScope(this.identifier);return ma(e,t)}findLegacyTarget(t){const e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)}findAllLegacyTargets(t){const e=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(e).map(i=>this.deprecate(i,t))}getLegacySelectorForTargetName(t){const e=`${this.identifier}.${t}`;return ma(this.schema.targetAttribute,e)}deprecate(t,e){if(t){const{identifier:i}=this,s=this.schema.targetAttribute,c=this.schema.targetAttributeForScope(i);this.guide.warn(t,`target:${e}`,`Please replace ${s}="${i}.${e}" with ${c}="${e}". The ${s} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}}class qf{constructor(t,e){this.scope=t,this.controllerElement=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((e,i)=>e||this.findOutlet(i),void 0)}findAll(...t){return t.reduce((e,i)=>[...e,...this.findAllOutlets(i)],[])}getSelectorForOutletName(t){const e=this.schema.outletAttributeForScope(this.identifier,t);return this.controllerElement.getAttribute(e)}findOutlet(t){const e=this.getSelectorForOutletName(t);if(e)return this.findElement(e,t)}findAllOutlets(t){const e=this.getSelectorForOutletName(t);return e?this.findAllElements(e,t):[]}findElement(t,e){return this.scope.queryElements(t).filter(s=>this.matchesElement(s,t,e))[0]}findAllElements(t,e){return this.scope.queryElements(t).filter(s=>this.matchesElement(s,t,e))}matchesElement(t,e,i){const s=t.getAttribute(this.scope.schema.controllerAttribute)||"";return t.matches(e)&&s.split(" ").includes(i)}}class Wa{constructor(t,e,i,s){this.targets=new jf(this),this.classes=new If(this),this.data=new Ff(this),this.containsElement=c=>c.closest(this.controllerSelector)===this.element,this.schema=t,this.element=e,this.identifier=i,this.guide=new Bf(s),this.outlets=new qf(this.documentScope,e)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return ma(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new Wa(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class Wf{constructor(t,e,i){this.element=t,this.schema=e,this.delegate=i,this.valueListObserver=new Fc(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){const{element:e,content:i}=t;return this.parseValueForElementAndIdentifier(e,i)}parseValueForElementAndIdentifier(t,e){const i=this.fetchScopesByIdentifierForElement(t);let s=i.get(e);return s||(s=this.delegate.createScopeForElementAndIdentifier(t,e),i.set(e,s)),s}elementMatchedValue(t,e){const i=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,i),i==1&&this.delegate.scopeConnected(e)}elementUnmatchedValue(t,e){const i=this.scopeReferenceCounts.get(e);i&&(this.scopeReferenceCounts.set(e,i-1),i==1&&this.delegate.scopeDisconnected(e))}fetchScopesByIdentifierForElement(t){let e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e}}class Hf{constructor(t){this.application=t,this.scopeObserver=new Wf(this.element,this.schema,this),this.scopesByIdentifier=new qn,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((t,e)=>t.concat(e.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);const e=new Pf(this.application,t);this.connectModule(e);const i=t.controllerConstructor.afterLoad;i&&i.call(t.controllerConstructor,t.identifier,this.application)}unloadIdentifier(t){const e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)}getContextForElementAndIdentifier(t,e){const i=this.modulesByIdentifier.get(e);if(i)return i.contexts.find(s=>s.element==t)}proposeToConnectScopeForElementAndIdentifier(t,e){const i=this.scopeObserver.parseValueForElementAndIdentifier(t,e);i?this.scopeObserver.elementMatchedValue(i.element,i):console.error(`Couldn't find or create scope for identifier: "${e}" and element:`,t)}handleError(t,e,i){this.application.handleError(t,e,i)}createScopeForElementAndIdentifier(t,e){return new Wa(this.schema,t,e,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(i=>t.connectContextForScope(i))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(i=>t.disconnectContextForScope(i))}}const Vf={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:n=>`data-${n}-target`,outletAttributeForScope:(n,t)=>`data-${n}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Tl("abcdefghijklmnopqrstuvwxyz".split("").map(n=>[n,n]))),Tl("0123456789".split("").map(n=>[n,n])))};function Tl(n){return n.reduce((t,[e,i])=>Object.assign(Object.assign({},t),{[e]:i}),{})}class $f{constructor(t=document.documentElement,e=Vf){this.logger=console,this.debug=!1,this.logDebugActivity=(i,s,c={})=>{this.debug&&this.logFormattedMessage(i,s,c)},this.element=t,this.schema=e,this.dispatcher=new Qd(this),this.router=new Hf(this),this.actionDescriptorFilters=Object.assign({},Zd)}static start(t,e){const i=new this(t,e);return i.start(),i}async start(){await Uf(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,e){this.load({identifier:t,controllerConstructor:e})}registerActionOption(t,e){this.actionDescriptorFilters[t]=e}load(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(s=>{s.controllerConstructor.shouldLoad&&this.router.loadDefinition(s)})}unload(t,...e){(Array.isArray(t)?t:[t,...e]).forEach(s=>this.router.unloadIdentifier(s))}get controllers(){return this.router.contexts.map(t=>t.controller)}getControllerForElementAndIdentifier(t,e){const i=this.router.getContextForElementAndIdentifier(t,e);return i?i.controller:null}handleError(t,e,i){var s;this.logger.error(`%s

%o

%o`,e,t,i),(s=window.onerror)===null||s===void 0||s.call(window,e,"",0,0,t)}logFormattedMessage(t,e,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${t} #${e}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}}function Uf(){return new Promise(n=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>n()):n()})}function zf(n){return bs(n,"classes").reduce((e,i)=>Object.assign(e,Kf(i)),{})}function Kf(n){return{[`${n}Class`]:{get(){const{classes:t}=this;if(t.has(n))return t.get(n);{const e=t.getAttributeName(n);throw new Error(`Missing attribute "${e}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${ms(n)}Class`]:{get(){return this.classes.has(n)}}}}function Xf(n){return bs(n,"outlets").reduce((e,i)=>Object.assign(e,Jf(i)),{})}function _l(n,t,e){return n.application.getControllerForElementAndIdentifier(t,e)}function Ll(n,t,e){let i=_l(n,t,e);if(i||(n.application.router.proposeToConnectScopeForElementAndIdentifier(t,e),i=_l(n,t,e),i))return i}function Jf(n){const t=pa(n);return{[`${t}Outlet`]:{get(){const e=this.outlets.find(n),i=this.outlets.getSelectorForOutletName(n);if(e){const s=Ll(this,e,n);if(s)return s;throw new Error(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${t}Outlets`]:{get(){const e=this.outlets.findAll(n);return e.length>0?e.map(i=>{const s=Ll(this,i,n);if(s)return s;console.warn(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`,i)}).filter(i=>i):[]}},[`${t}OutletElement`]:{get(){const e=this.outlets.find(n),i=this.outlets.getSelectorForOutletName(n);if(e)return e;throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(n)}},[`has${ms(t)}Outlet`]:{get(){return this.outlets.has(n)}}}}function Yf(n){return bs(n,"targets").reduce((e,i)=>Object.assign(e,Gf(i)),{})}function Gf(n){return{[`${n}Target`]:{get(){const t=this.targets.find(n);if(t)return t;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${ms(n)}Target`]:{get(){return this.targets.has(n)}}}}function Qf(n){const t=wf(n,"values"),e={valueDescriptorMap:{get(){return t.reduce((i,s)=>{const c=jc(s,this.identifier),v=this.data.getAttributeNameForKey(c.key);return Object.assign(i,{[v]:c})},{})}}};return t.reduce((i,s)=>Object.assign(i,Zf(s)),e)}function Zf(n,t){const e=jc(n,t),{key:i,name:s,reader:c,writer:v}=e;return{[s]:{get(){const x=this.data.get(i);return x!==null?c(x):e.defaultValue},set(x){x===void 0?this.data.delete(i):this.data.set(i,v(x))}},[`has${ms(s)}`]:{get(){return this.data.has(i)||e.hasCustomDefaultValue}}}}function jc([n,t],e){return np({controller:e,token:n,typeDefinition:t})}function lo(n){switch(n){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function ds(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(n))return"array";if(Object.prototype.toString.call(n)==="[object Object]")return"object"}function tp(n){const{controller:t,token:e,typeObject:i}=n,s=xl(i.type),c=xl(i.default),v=s&&c,x=s&&!c,D=!s&&c,B=lo(i.type),U=ds(n.typeObject.default);if(x)return B;if(D)return U;if(B!==U){const tt=t?`${t}.${e}`:e;throw new Error(`The specified default value for the Stimulus Value "${tt}" must match the defined type "${B}". The provided default value of "${i.default}" is of type "${U}".`)}if(v)return B}function ep(n){const{controller:t,token:e,typeDefinition:i}=n,c=tp({controller:t,token:e,typeObject:i}),v=ds(i),x=lo(i),D=c||v||x;if(D)return D;const B=t?`${t}.${i}`:e;throw new Error(`Unknown value type "${B}" for "${e}" value`)}function ip(n){const t=lo(n);if(t)return kl[t];const e=ga(n,"default"),i=ga(n,"type"),s=n;if(e)return s.default;if(i){const{type:c}=s,v=lo(c);if(v)return kl[v]}return n}function np(n){const{token:t,typeDefinition:e}=n,i=`${Mc(t)}-value`,s=ep(n);return{type:s,key:i,name:ja(i),get defaultValue(){return ip(e)},get hasCustomDefaultValue(){return ds(e)!==void 0},reader:rp[s],writer:Ol[s]||Ol.default}}const kl={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},rp={array(n){const t=JSON.parse(n);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${n}" of type "${ds(t)}"`);return t},boolean(n){return!(n=="0"||String(n).toLowerCase()=="false")},number(n){return Number(n.replace(/_/g,""))},object(n){const t=JSON.parse(n);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${n}" of type "${ds(t)}"`);return t},string(n){return n}},Ol={default:sp,array:Rl,object:Rl};function Rl(n){return JSON.stringify(n)}function sp(n){return`${n}`}class vs{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:i={},prefix:s=this.identifier,bubbles:c=!0,cancelable:v=!0}={}){const x=s?`${s}:${t}`:t,D=new CustomEvent(x,{detail:i,bubbles:c,cancelable:v});return e.dispatchEvent(D),D}}vs.blessings=[zf,Yf,Qf,Xf];vs.targets=[];vs.outlets=[];vs.values={};let qc=class extends vs{initialize(){this.scroll=this.scroll.bind(this)}connect(){this.element.addEventListener("click",this.scroll)}disconnect(){this.element.removeEventListener("click",this.scroll)}scroll(t){t.preventDefault();const e=this.element.hash.replace(/^#/,""),i=document.getElementById(e);if(!i){console.warn(`[stimulus-scroll-to] The element with the id: "${e}" does not exist on the page.`);return}const s=i.getBoundingClientRect().top+window.pageYOffset-this.offset;window.scrollTo({top:s,behavior:this.behavior})}get offset(){return this.hasOffsetValue?this.offsetValue:this.defaultOptions.offset!==void 0?this.defaultOptions.offset:10}get behavior(){return this.behaviorValue||this.defaultOptions.behavior||"smooth"}get defaultOptions(){return{}}};qc.values={offset:Number,behavior:String};class Ha{constructor(t,e){this.application=t,this.loadingControllers={},this.resolverFn=e,this.loadStimulusControllers=this.loadStimulusControllers.bind(this),this.observer=new qa(t.element,t.schema.controllerAttribute,{elementMatchedAttribute:this.loadStimulusControllers,elementAttributeValueChanged:this.loadStimulusControllers})}start(){this.observer.start()}stop(){this.observer.stop()}static install(t,e){const i=new Ha(t,e);return i.start(),i}loadStimulusControllers(t){t.getAttribute(this.application.schema.controllerAttribute).split(/\s+/).forEach(i=>this.loadController(i))}async loadController(t){if(!this.loadingControllers[t]&&!this.application.router.modulesByIdentifier.has(t)){this.loadingControllers[t]=!0;const e=await this.resolverFn(t);e&&this.application.register(t,e),delete this.loadingControllers[t]}}}function op(...n){const t=ap(n);return async i=>{const s=t[i];return(await s()).default}}function ap(n){return Object.entries(Object.assign({},...n)).reduce((t,[e,i])=>(t[cp(e)]=i,t),{})}const lp=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[_-]controller\..+?)$/;function cp(n){const t=(n.match(lp)||[])[1];if(t)return t.replace(/_/g,"-").replace(/\//g,"--")}var Zs={logger:typeof console<"u"?console:void 0,WebSocket:typeof WebSocket<"u"?WebSocket:void 0},Kt={log(...n){this.enabled&&(n.push(Date.now()),Zs.logger.log("[ActionCable]",...n))}};const ns=()=>new Date().getTime(),Ys=n=>(ns()-n)/1e3;class Va{constructor(t){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=ns(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),Kt.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=ns(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),Kt.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=ns()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,Kt.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=ns(),Kt.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){const{staleThreshold:t,reconnectionBackoffRate:e}=this.constructor,i=Math.pow(1+e,Math.min(this.reconnectAttempts,10)),c=(this.reconnectAttempts===0?1:e)*Math.random();return t*1e3*i*(1+c)}reconnectIfStale(){this.connectionIsStale()&&(Kt.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Ys(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?Kt.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Ys(this.disconnectedAt)} s`):(Kt.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Ys(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&Ys(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(Kt.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}}Va.staleThreshold=6;Va.reconnectionBackoffRate=.15;var Wc={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart",remote:"remote"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]};const{message_types:Zr,protocols:ba}=Wc,up=ba.slice(0,ba.length-1),Dl=[].indexOf;class $a{constructor(t){this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new Va(this),this.disconnected=!0}send(t){return this.isOpen()?(this.webSocket.send(JSON.stringify(t)),!0):!1}open(){if(this.isActive())return Kt.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1;{const t=[...ba,...this.consumer.subprotocols||[]];return Kt.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${t}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new Zs.WebSocket(this.consumer.url,t),this.installEventHandlers(),this.monitor.start(),!0}}close({allowReconnect:t}={allowReconnect:!0}){if(t||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(Kt.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(t){Kt.log("Failed to reopen WebSocket",t)}finally{Kt.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}triedToReconnect(){return this.monitor.reconnectAttempts>0}isProtocolSupported(){return Dl.call(up,this.getProtocol())>=0}isState(...t){return Dl.call(t,this.getState())>=0}getState(){if(this.webSocket){for(let t in Zs.WebSocket)if(Zs.WebSocket[t]===this.webSocket.readyState)return t.toLowerCase()}return null}installEventHandlers(){for(let t in this.events){const e=this.events[t].bind(this);this.webSocket[`on${t}`]=e}}uninstallEventHandlers(){for(let t in this.events)this.webSocket[`on${t}`]=function(){}}}$a.reopenDelay=500;$a.prototype.events={message(n){if(!this.isProtocolSupported())return;const{identifier:t,message:e,reason:i,reconnect:s,type:c}=JSON.parse(n.data);switch(c){case Zr.welcome:return this.triedToReconnect()&&(this.reconnectAttempted=!0),this.monitor.recordConnect(),this.subscriptions.reload();case Zr.disconnect:return Kt.log(`Disconnecting. Reason: ${i}`),this.close({allowReconnect:s});case Zr.ping:return this.monitor.recordPing();case Zr.confirmation:return this.subscriptions.confirmSubscription(t),this.reconnectAttempted?(this.reconnectAttempted=!1,this.subscriptions.notify(t,"connected",{reconnected:!0})):this.subscriptions.notify(t,"connected",{reconnected:!1});case Zr.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",e)}},open(){if(Kt.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return Kt.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(n){if(Kt.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){Kt.log("WebSocket onerror event")}};const hp=function(n,t){if(t!=null)for(let e in t){const i=t[e];n[e]=i}return n};class dp{constructor(t,e={},i){this.consumer=t,this.identifier=JSON.stringify(e),hp(this,i)}perform(t,e={}){return e.action=t,this.send(e)}send(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}class fp{constructor(t){this.subscriptions=t,this.pendingSubscriptions=[]}guarantee(t){this.pendingSubscriptions.indexOf(t)==-1?(Kt.log(`SubscriptionGuarantor guaranteeing ${t.identifier}`),this.pendingSubscriptions.push(t)):Kt.log(`SubscriptionGuarantor already guaranteeing ${t.identifier}`),this.startGuaranteeing()}forget(t){Kt.log(`SubscriptionGuarantor forgetting ${t.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(e=>e!==t)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(t=>{Kt.log(`SubscriptionGuarantor resubscribing ${t.identifier}`),this.subscriptions.subscribe(t)})},500)}}class pp{constructor(t){this.consumer=t,this.guarantor=new fp(this),this.subscriptions=[]}create(t,e){const i=t,s=typeof i=="object"?i:{channel:i},c=new dp(this.consumer,s,e);return this.add(c)}add(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.subscribe(t),t}remove(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t}reject(t){return this.findAll(t).map(e=>(this.forget(e),this.notify(e,"rejected"),e))}forget(t){return this.guarantor.forget(t),this.subscriptions=this.subscriptions.filter(e=>e!==t),t}findAll(t){return this.subscriptions.filter(e=>e.identifier===t)}reload(){return this.subscriptions.map(t=>this.subscribe(t))}notifyAll(t,...e){return this.subscriptions.map(i=>this.notify(i,t,...e))}notify(t,e,...i){let s;return typeof t=="string"?s=this.findAll(t):s=[t],s.map(c=>typeof c[e]=="function"?c[e](...i):void 0)}subscribe(t){this.sendCommand(t,"subscribe")&&this.guarantor.guarantee(t)}confirmSubscription(t){Kt.log(`Subscription confirmed ${t}`),this.findAll(t).map(e=>this.guarantor.forget(e))}sendCommand(t,e){const{identifier:i}=t;return this.consumer.send({command:e,identifier:i})}}class gp{constructor(t){this._url=t,this.subscriptions=new pp(this),this.connection=new $a(this),this.subprotocols=[]}get url(){return mp(this._url)}send(t){return this.connection.send(t)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}addSubProtocol(t){this.subprotocols=[...this.subprotocols,t]}}function mp(n){if(typeof n=="function"&&(n=n()),n&&!/^wss?:/i.test(n)){const t=document.createElement("a");return t.href=n,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}else return n}function bp(n=vp("url")||Wc.default_mount_path){return new gp(n)}function vp(n){const t=document.head.querySelector(`meta[name='action-cable-${n}']`);if(t)return t.getAttribute("content")}const yp=bp(),Ua=$f.start();Ua.register("scroll-to",qc);Ua.consumer=yp;Ha.install(Ua,op(Object.assign({"./cleave_controller.js":()=>Lt(()=>import("./cleave_controller-u8u1gHtD.js"),[]),"./confirm_controller.js":()=>Lt(()=>import("./confirm_controller-BPp8oc1u.js"),__vite__mapDeps([0,1,2])),"./countdown_controller.js":()=>Lt(()=>import("./countdown_controller-B1WJVb4Q.js"),__vite__mapDeps([3,4])),"./dt/admin-accounts_controller.js":()=>Lt(()=>import("./admin-accounts_controller-D8GqZaAV.js"),__vite__mapDeps([5,6,1])),"./dt/admin-audits_controller.js":()=>Lt(()=>import("./admin-audits_controller-CLiF5Zba.js"),__vite__mapDeps([7,6])),"./dt/admin-countries_controller.js":()=>Lt(()=>import("./admin-countries_controller-Fc_0XeBa.js"),__vite__mapDeps([8,6,1])),"./dt/admin-leagues_controller.js":()=>Lt(()=>import("./admin-leagues_controller-DcsHE1YH.js"),__vite__mapDeps([9,6])),"./dt/admin-players_controller.js":()=>Lt(()=>import("./admin-players_controller-Dlhjv0nt.js"),__vite__mapDeps([10,6,1])),"./dt/admin-teams_controller.js":()=>Lt(()=>import("./admin-teams_controller-CrckaB45.js"),__vite__mapDeps([11,6,1])),"./dt/firststeps-leagues_controller.js":()=>Lt(()=>import("./firststeps-leagues_controller-CvLJnejX.js"),__vite__mapDeps([12,6])),"./dt/manager-active-users_controller.js":()=>Lt(()=>import("./manager-active-users_controller-D7bbgmkN.js"),__vite__mapDeps([13,6,1])),"./dt/manager-awards_controller.js":()=>Lt(()=>import("./manager-awards_controller-BTitxVjc.js"),__vite__mapDeps([14,6,1])),"./dt/manager-season-users_controller.js":()=>Lt(()=>import("./manager-season-users_controller-B5kXno6P.js"),__vite__mapDeps([15,6])),"./dt/manager-waiting-users_controller.js":()=>Lt(()=>import("./manager-waiting-users_controller-yV_x2I3Y.js"),__vite__mapDeps([16,6,1])),"./dt/user-trades-buy_controller.js":()=>Lt(()=>import("./user-trades-buy_controller-DlL5DhwC.js"),__vite__mapDeps([17,6,1])),"./flash_controller.js":()=>Lt(()=>import("./flash_controller-95Y7Zmnq.js"),[]),"./flatpickr_controller.js":()=>Lt(()=>import("./flatpickr_controller-B0rX7KY3.js"),[]),"./form_controller.js":()=>Lt(()=>import("./form_controller-BixcNdhO.js"),__vite__mapDeps([18,1,2])),"./input-number_controller.js":()=>Lt(()=>import("./input-number_controller-BEhh-8hJ.js"),[]),"./managedt_controller.js":()=>Lt(()=>import("./managedt_controller-B6LiJpxr.js"),[]),"./manager/seasons_controller.js":()=>Lt(()=>import("./seasons_controller-DS62bRvJ.js"),__vite__mapDeps([19,20])),"./modal_controller.js":()=>Lt(()=>import("./modal_controller-CRd4f8cc.js"),[]),"./multi_controller.js":()=>Lt(()=>import("./multi_controller-BGVCmKAf.js"),__vite__mapDeps([21,2])),"./notifications_controller.js":()=>Lt(()=>import("./notifications_controller-CRdMywqS.js"),__vite__mapDeps([22,23,20])),"./popover_controller.js":()=>Lt(()=>import("./popover_controller-Dg3iofT_.js"),[]),"./request_controller.js":()=>Lt(()=>import("./request_controller-BnlUJdIv.js"),__vite__mapDeps([24,23,20])),"./select-frame_controller.js":()=>Lt(()=>import("./select-frame_controller-DoGvYeFw.js"),[]),"./select_controller.js":()=>Lt(()=>import("./select_controller-m7JuzGCD.js"),__vite__mapDeps([25,2])),"./sidebar_controller.js":()=>Lt(()=>import("./sidebar_controller-7he7gQrl.js"),[]),"./stepper_controller.js":()=>Lt(()=>import("./stepper_controller-DVMqjq8N.js"),[]),"./tab_controller.js":()=>Lt(()=>import("./tab_controller-C-cLRBCD.js"),[]),"./theme_controller.js":()=>Lt(()=>import("./theme_controller-CjgIml0K.js"),[]),"./timeout_controller.js":()=>Lt(()=>import("./timeout_controller-CeUbkpNf.js"),__vite__mapDeps([26,4])),"./toast_controller.js":()=>Lt(()=>import("./toast_controller-COwlaahM.js"),[]),"./trix_controller.js":()=>Lt(()=>import("./trix_controller-CG1AIAGa.js"),[]),"./upload_controller.js":()=>Lt(()=>import("./upload_controller-xBufE_EH.js"),[])})));var Ap="2.1.3";const Wn="[data-trix-attachment]",za={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},_e={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return Ml(n.parentNode)===_e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return Ml(n.parentNode)===_e[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Ml=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},Nl=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),jo=Nl&&parseInt(Nl[1]);var ys={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:jo&&jo>12,samsungAndroid:jo&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},At={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const Ep=[At.bytes,At.KB,At.MB,At.GB,At.TB,At.PB];var Hc={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(At.bytes);case 1:return"1 ".concat(At.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const e=Math.floor(Math.log(n)/Math.log(t)),i=(n/Math.pow(t,e)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat(Ep[e])}}};const vo="\uFEFF",bn=" ",Vc=function(n){for(const t in n){const e=n[t];this[t]=e}return this},Ka=document.documentElement,wp=Ka.matches,Xt=function(n){let{onElement:t,matchingSelector:e,withCallback:i,inPhase:s,preventDefault:c,times:v}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=t||Ka,D=e,B=s==="capturing",U=function(tt){v!=null&&--v==0&&U.destroy();const ct=An(tt.target,{matchingSelector:D});ct!=null&&(i==null||i.call(ct,tt,ct),c&&tt.preventDefault())};return U.destroy=()=>x.removeEventListener(n,U,B),x.addEventListener(n,U,B),U},ss=function(n){let{onElement:t,bubbles:e,cancelable:i,attributes:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=t??Ka;e=e!==!1,i=i!==!1;const v=document.createEvent("Events");return v.initEvent(n,e,i),s!=null&&Vc.call(v,s),c.dispatchEvent(v)},$c=function(n,t){if((n==null?void 0:n.nodeType)===1)return wp.call(n,t)},An=function(n){let{matchingSelector:t,untilNode:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(t==null)return n;if(n.closest&&e==null)return n.closest(t);for(;n&&n!==e;){if($c(n,t))return n;n=n.parentNode}}},Xa=n=>document.activeElement!==n&&Bn(n,document.activeElement),Bn=function(n,t){if(n&&t)for(;t;){if(t===n)return!0;t=t.parentNode}},qo=function(n){var t;if((t=n)===null||t===void 0||!t.parentNode)return;let e=0;for(n=n.previousSibling;n;)e++,n=n.previousSibling;return e},En=n=>{var t;return n==null||(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)},co=function(n){let{onlyNodesOfType:t,usingFilter:e,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,s,e??null,i===!0)},Te=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},kt=function(n){let t,e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(i=n,n=i.tagName):i={attributes:i};const s=document.createElement(n);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(t in i.attributes)e=i.attributes[t],s.setAttribute(t,e);if(i.style)for(t in i.style)e=i.style[t],s.style[t]=e;if(i.data)for(t in i.data)e=i.data[t],s.dataset[t]=e;return i.className&&i.className.split(" ").forEach(c=>{s.classList.add(c)}),i.textContent&&(s.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(c=>{s.appendChild(c)}),s};let ts;const os=function(){if(ts!=null)return ts;ts=[];for(const n in _e){const t=_e[n];t.tagName&&ts.push(t.tagName)}return ts},Wo=n=>Er(n==null?void 0:n.firstChild),Pl=function(n){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?Er(n):Er(n)||!Er(n.firstChild)&&function(e){return os().includes(Te(e))&&!os().includes(Te(e.firstChild))}(n)},Er=n=>xp(n)&&(n==null?void 0:n.data)==="block",xp=n=>(n==null?void 0:n.nodeType)===Node.COMMENT_NODE,wr=function(n){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return as(n)?n.data===vo?!t||n.parentNode.dataset.trixCursorTarget===t:void 0:wr(n.firstChild)},Hn=n=>$c(n,Wn),Uc=n=>as(n)&&(n==null?void 0:n.data)==="",as=n=>(n==null?void 0:n.nodeType)===Node.TEXT_NODE,Ja={level2Enabled:!0,getLevel(){return this.level2Enabled&&ys.supportsInputEvents?2:0},pickFiles(n){const t=kt("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{n(t.files),En(t)}),En(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var to={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},Vn={bold:{tagName:"strong",inheritable:!0,parser(n){const t=window.getComputedStyle(n);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){const t="a:not(".concat(Wn,")"),e=n.closest(t);if(e)return e.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},zc={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(At.bold,'" tabindex="-1">').concat(At.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(At.italic,'" tabindex="-1">').concat(At.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(At.strike,'" tabindex="-1">').concat(At.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(At.link,'" tabindex="-1">').concat(At.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(At.heading1,'" tabindex="-1">').concat(At.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(At.quote,'" tabindex="-1">').concat(At.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(At.code,'" tabindex="-1">').concat(At.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(At.bullets,'" tabindex="-1">').concat(At.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(At.numbers,'" tabindex="-1">').concat(At.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(At.outdent,'" tabindex="-1">').concat(At.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(At.indent,'" tabindex="-1">').concat(At.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(At.attachFiles,'" tabindex="-1">').concat(At.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(At.undo,'" tabindex="-1">').concat(At.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(At.redo,'" tabindex="-1">').concat(At.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(At.urlPlaceholder,'" aria-label="').concat(At.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(At.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(At.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const va={interval:5e3};var As=Object.freeze({__proto__:null,attachments:za,blockAttributes:_e,browser:ys,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:Hc,input:Ja,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:At,parser:to,textAttributes:Vn,toolbar:zc,undo:va});class se{static proxyMethod(t){const{name:e,toMethod:i,toProperty:s,optional:c}=Sp(t);this.prototype[e]=function(){let v,x;var D,B;return i?x=c?(D=this[i])===null||D===void 0?void 0:D.call(this):this[i]():s&&(x=this[s]),c?(v=(B=x)===null||B===void 0?void 0:B[e],v?Il.call(v,x,arguments):void 0):(v=x[e],Il.call(v,x,arguments))}}}const Sp=function(n){const t=n.match(Cp);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(n));const e={name:t[4]};return t[2]!=null?e.toMethod=t[1]:e.toProperty=t[1],t[3]!=null&&(e.optional=!0),e},{apply:Il}=Function.prototype,Cp=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Ho,Vo,$o;class fs extends se{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t==null?void 0:t.toString())}static fromUCS2String(t){return new this(t,ya(t))}static fromCodepoints(t){return new this(Aa(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return Aa(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return ya(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Tp=((Ho=Array.from)===null||Ho===void 0?void 0:Ho.call(Array,"👼").length)===1,_p=((Vo=" ".codePointAt)===null||Vo===void 0?void 0:Vo.call(" ",0))!=null,Lp=(($o=String.fromCodePoint)===null||$o===void 0?void 0:$o.call(String,32,128124))===" 👼";let ya,Aa;ya=Tp&&_p?n=>Array.from(n).map(t=>t.codePointAt(0)):function(n){const t=[];let e=0;const{length:i}=n;for(;e<i;){let s=n.charCodeAt(e++);if(55296<=s&&s<=56319&&e<i){const c=n.charCodeAt(e++);(64512&c)==56320?s=((1023&s)<<10)+(1023&c)+65536:e--}t.push(s)}return t},Aa=Lp?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{const t=[];return Array.from(n).forEach(e=>{let i="";e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t.push(i+String.fromCharCode(e))}),t})().join("")};let kp=0;class Kn extends se{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++kp}hasSameConstructorAs(t){return this.constructor===(t==null?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],e=this.contentsForInspection()||{};for(const i in e){const s=e[i];t.push("".concat(i,"=").concat(s))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return fs.box(this)}getCacheKey(){return this.id.toString()}}const $n=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0},Ya=function(n){const t=n.slice(0);for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return t.splice(...i),t},Op=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,Rp=function(){const n=kt("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=kt("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),e=kt("form");e.appendChild(n),e.appendChild(t);const i=function(){try{return new FormData(e).has(t.dirName)}catch{return!1}}(),s=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return i?function(c){return t.value=c,new FormData(e).get(t.dirName)}:s?function(c){return n.value=c,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(c){const v=c.trim().charAt(0);return Op.test(v)?"rtl":"ltr"}}();let Uo=null,zo=null,Ko=null,Gs=null;const Ea=()=>(Uo||(Uo=Mp().concat(Dp())),Uo),ie=n=>_e[n],Dp=()=>(zo||(zo=Object.keys(_e)),zo),wa=n=>Vn[n],Mp=()=>(Ko||(Ko=Object.keys(Vn)),Ko),Kc=function(n,t){Np(n).textContent=t.replace(/%t/g,n)},Np=function(n){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",n.toLowerCase());const e=Pp();return e&&t.setAttribute("nonce",e),document.head.insertBefore(t,document.head.firstChild),t},Pp=function(){const n=Fl("trix-csp-nonce")||Fl("csp-nonce");if(n)return n.getAttribute("content")},Fl=n=>document.head.querySelector("meta[name=".concat(n,"]")),Bl={"application/x-trix-feature-detection":"test"},Xc=function(n){const t=n.getData("text/plain"),e=n.getData("text/html");if(!t||!e)return t==null?void 0:t.length;{const{body:i}=new DOMParser().parseFromString(e,"text/html");if(i.textContent===t)return!i.querySelector("*")}},Jc=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,Ga=n=>setTimeout(n,1),Yc=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const e in n){const i=n[e];t[e]=i}return t},Cr=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0},jt=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[jl(n[0]),jl(n[1]!=null?n[1]:n[0])]},Wi=function(n){if(n==null)return;const[t,e]=jt(n);return xa(t,e)},uo=function(n,t){if(n==null||t==null)return;const[e,i]=jt(n),[s,c]=jt(t);return xa(e,s)&&xa(i,c)},jl=function(n){return typeof n=="number"?n:Yc(n)},xa=function(n,t){return typeof n=="number"?n===t:Cr(n,t)};class Gc extends se{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(e=>e!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const Un=new Gc,Qc=function(){const n=window.getSelection();if(n.rangeCount>0)return n},ls=function(){var n;const t=(n=Qc())===null||n===void 0?void 0:n.getRangeAt(0);if(t&&!Ip(t))return t},Zc=function(n){const t=window.getSelection();return t.removeAllRanges(),t.addRange(n),Un.update()},Ip=n=>ql(n.startContainer)||ql(n.endContainer),ql=n=>!Object.getPrototypeOf(n),rs=n=>n.replace(new RegExp("".concat(vo),"g"),"").replace(new RegExp("".concat(bn),"g")," "),Qa=new RegExp("[^\\S".concat(bn,"]")),Za=n=>n.replace(new RegExp("".concat(Qa.source),"g")," ").replace(/\ {2,}/g," "),Wl=function(n,t){if(n.isEqualTo(t))return["",""];const e=Xo(n,t),{length:i}=e.utf16String;let s;if(i){const{offset:c}=e,v=n.codepoints.slice(0,c).concat(n.codepoints.slice(c+i));s=Xo(t,fs.fromCodepoints(v))}else s=Xo(t,n);return[e.utf16String.toString(),s.utf16String.toString()]},Xo=function(n,t){let e=0,i=n.length,s=t.length;for(;e<i&&n.charAt(e).isEqualTo(t.charAt(e));)e++;for(;i>e+1&&n.charAt(i-1).isEqualTo(t.charAt(s-1));)i--,s--;return{utf16String:n.slice(e,i),offset:e}};class $e extends Kn{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let e=es(t[0]),i=e.getKeys();return t.slice(1).forEach(s=>{i=e.getKeysCommonToHash(es(s)),e=e.slice(i)}),e}static box(t){return es(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=eo(t)}add(t,e){return this.merge(Fp(t,e))}remove(t){return new $e(eo(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new $e(Bp(this.values,jp(t)))}slice(t){const e={};return Array.from(t).forEach(i=>{this.has(i)&&(e[i]=this.values[i])}),new $e(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=es(t),this.getKeys().filter(e=>this.values[e]===t.values[e])}isEqualTo(t){return $n(this.toArray(),es(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const e in this.values){const i=this.values[e];t.push(t.push(e,i))}this.array=t.slice(0)}return this.array}toObject(){return eo(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Fp=function(n,t){const e={};return e[n]=t,e},Bp=function(n,t){const e=eo(n);for(const i in t){const s=t[i];e[i]=s}return e},eo=function(n,t){const e={};return Object.keys(n).sort().forEach(i=>{i!==t&&(e[i]=n[i])}),e},es=function(n){return n instanceof $e?n:new $e(n)},jp=function(n){return n instanceof $e?n.values:n};class tl{static groupObjects(){let t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s&&i==null&&(i=0);const c=[];return Array.from(e).forEach(v=>{var x;if(t){var D,B,U;if((D=v.canBeGrouped)!==null&&D!==void 0&&D.call(v,i)&&(B=(U=t[t.length-1]).canBeGroupedWith)!==null&&B!==void 0&&B.call(U,v,i))return void t.push(v);c.push(new this(t,{depth:i,asTree:s})),t=null}(x=v.canBeGrouped)!==null&&x!==void 0&&x.call(v,i)?t=[v]:c.push(v)}),t&&c.push(new this(t,{depth:i,asTree:s})),c}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:e,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=t,i&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach(e=>{t.push(e.getCacheKey())}),t.join("/")}}class qp extends se{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(e=>{const i=JSON.stringify(e);this.objects[i]==null&&(this.objects[i]=e)})}find(t){const e=JSON.stringify(t);return this.objects[e]}}class Wp{constructor(t){this.reset(t)}add(t){const e=Hl(t);this.elements[e]=t}remove(t){const e=Hl(t),i=this.elements[e];if(i)return delete this.elements[e],i}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(e=>{this.add(e)}),t}}const Hl=n=>n.dataset.trixStoreKey;class ho extends se{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,e)=>(this.performing=!0,this.perform((i,s)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(s):e(s)})))),this.promise}perform(t){return t(!1)}release(){var t,e;(t=this.promise)===null||t===void 0||(e=t.cancel)===null||e===void 0||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}ho.proxyMethod("getPromise().then"),ho.proxyMethod("getPromise().catch");class Xn extends se{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var e;return(e=this.findViewForObject(t))===null||e===void 0?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,i){let s=this.getCachedViewForObject(e);return s?this.recordChildView(s):(s=this.createChildView(...arguments),this.cacheViewForObject(s,e)),s}createChildView(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e instanceof tl&&(i.viewClass=t,t=Hp);const s=new t(e,i);return this.recordChildView(s)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(e=>{t.push(e),t=t.concat(e.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const e=t==null?void 0:t.id;if(e)return this.rootView.element.querySelector("[data-trix-id='".concat(e,"']"))}findViewForObject(t){for(const e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return(e=this.getViewCache())===null||e===void 0?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){const i=this.getViewCache();i&&(i[e.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const e=this.getAllChildViews().concat(this).map(i=>i.object.getCacheKey());for(const i in t)e.includes(i)||delete t[i]}}}class Hp extends Xn{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach(e=>{Array.from(e.getNodes()).forEach(i=>{t.appendChild(i)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}const{css:cn}=As;class el extends Xn{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const e=t=kt({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=kt({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(s=>{t.appendChild(s)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=kt({tagName:"progress",attributes:{class:cn.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[Vl("left"),e,Vl("right")]}createCaptionElement(){const t=kt({tagName:"figcaption",className:cn.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add("".concat(cn.attachmentCaption,"--edited")),t.textContent=e;else{let i,s;const c=this.getCaptionConfig();if(c.name&&(i=this.attachment.getFilename()),c.size&&(s=this.attachment.getFormattedFilesize()),i){const v=kt({tagName:"span",className:cn.attachmentName,textContent:i});t.appendChild(v)}if(s){i&&t.appendChild(document.createTextNode(" "));const v=kt({tagName:"span",className:cn.attachmentSize,textContent:s});t.appendChild(v)}}return t}getClassName(){const t=[cn.attachment,"".concat(cn.attachment,"--").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push("".concat(cn.attachment,"--").concat(e)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!Vp(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const e=this.attachment.getType(),i=Yc((t=za[e])===null||t===void 0?void 0:t.caption);return e==="file"&&(i.name=!0),i}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}}const Vl=n=>kt({tagName:"span",textContent:vo,data:{trixCursorTarget:n,trixSerialize:!1}}),Vp=function(n,t){const e=kt("div");return e.innerHTML=n||"",e.querySelector(t)};class tu extends el{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=kt({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",At.captionPlaceholder),t}refresh(t){var e;if(t||(t=(e=this.findElement())===null||e===void 0?void 0:e.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const e=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(t.src=i||e,i===e)t.removeAttribute("data-trix-serialized-attributes");else{const x=JSON.stringify({src:e});t.setAttribute("data-trix-serialized-attributes",x)}const s=this.attachment.getWidth(),c=this.attachment.getHeight();s!=null&&(t.width=s),c!=null&&(t.height=c);const v=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=v}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class eu extends Xn{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const e=this.createElement();if(e){const i=function(s){for(;(c=s)!==null&&c!==void 0&&c.firstElementChild;){var c;s=s.firstElementChild}return s}(e);Array.from(t).forEach(s=>{i.appendChild(s)}),t=[e]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?tu:el;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const e=[],i=this.string.split(`
`);for(let s=0;s<i.length;s++){const c=i[s];if(s>0){const v=kt("br");e.push(v)}if(c.length){const v=document.createTextNode(this.preserveSpaces(c));e.push(v)}}return e}}createElement(){let t,e,i;const s={};for(e in this.attributes){i=this.attributes[e];const v=wa(e);if(v){if(v.tagName){var c;const x=kt(v.tagName);c?(c.appendChild(x),c=x):t=c=x}if(v.styleProperty&&(s[v.styleProperty]=i),v.style)for(e in v.style)i=v.style[e],s[e]=i}}if(Object.keys(s).length)for(e in t||(t=kt("span")),s)i=s[e],t.style[e]=i;return t}createContainerElement(){for(const t in this.attributes){const e=this.attributes[t],i=wa(t);if(i&&i.groupTagName){const s={};return s[t]=e,kt(i.groupTagName,s)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,bn)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(bn," $2")).replace(/\ {2}/g,"".concat(bn," ")).replace(/\ {2}/g," ".concat(bn)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,bn)),t}}class iu extends Xn{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],e=tl.groupObjects(this.getPieces()),i=e.length-1;for(let c=0;c<e.length;c++){const v=e[c],x={};c===0&&(x.isFirst=!0),c===i&&(x.isLast=!0),$p(s)&&(x.followsWhitespace=!0);const D=this.findOrCreateCachedChildView(eu,v,{textConfig:this.textConfig,context:x});t.push(...Array.from(D.getNodes()||[]));var s=v}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}}const $p=n=>/\s$/.test(n==null?void 0:n.toString()),{css:$l}=As;class nu extends Xn{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(kt("br"));else{var e;const i=(e=ie(this.block.getLastAttribute()))===null||e===void 0?void 0:e.text,s=this.findOrCreateCachedChildView(iu,this.block.text,{textConfig:i});t.push(...Array.from(s.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(kt("br"))}if(this.attributes.length)return t;{let i;const{tagName:s}=_e.default;this.block.isRTL()&&(i={dir:"rtl"});const c=kt({tagName:s,attributes:i});return t.forEach(v=>c.appendChild(v)),[c]}}createContainerElement(t){const e={};let i;const s=this.attributes[t],{tagName:c,htmlAttributes:v=[]}=ie(s);if(t===0&&this.block.isRTL()&&Object.assign(e,{dir:"rtl"}),s==="attachmentGallery"){const x=this.block.getBlockBreakPosition();i="".concat($l.attachmentGallery," ").concat($l.attachmentGallery,"--").concat(x)}return Object.entries(this.block.htmlAttributes).forEach(x=>{let[D,B]=x;v.includes(D)&&(e[D]=B)}),kt({tagName:c,className:i,attributes:e})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class yo extends Xn{static render(t){const e=kt("div"),i=new this(t,{element:e});return i.render(),i.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new Wp,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=kt("div"),!this.document.isEmpty()){const t=tl.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(e=>{const i=this.findOrCreateCachedChildView(nu,e);Array.from(i.getNodes()).map(s=>this.shadowElement.appendChild(s))})}}isSynced(){return Up(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(Ul(this.element)),Ga(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(e=>{t.appendChild(e.cloneNode(!0))}),Array.from(Ul(t)).forEach(e=>{const i=this.elementStore.remove(e);i&&e.parentNode.replaceChild(i,e)}),t}}const Ul=n=>n.querySelectorAll("[data-trix-store-key]"),Up=(n,t)=>zl(n.innerHTML)===zl(t.innerHTML),zl=n=>n.replace(/&nbsp;/g," ");function Ue(n,t,e){return(t=zp(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function zp(n){var t=function(e,i){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var c=s.call(e,i||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}(n,"string");return typeof t=="symbol"?t:String(t)}class Jn extends Kn{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){const e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=$e.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}Ue(Jn,"types",{});class ru extends ho{constructor(t){super(...arguments),this.url=t}perform(t){const e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}}class Tr extends Kn{static attachmentForFile(t){const e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new $e({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=$e.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=this.attributes.merge(t);var i,s,c,v;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(s=i.attachmentDidChangeAttributes)===null||s===void 0||s.call(i,this),(c=this.delegate)===null||c===void 0||(v=c.attachmentDidChangeAttributes)===null||v===void 0?void 0:v.call(c,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Tr.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?Hc.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var e,i;if(this.uploadProgress!==t)return this.uploadProgress=t,(e=this.uploadProgressDelegate)===null||e===void 0||(i=e.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,i,s,c;if(t!==this.getPreviewURL())return this.previewURL=t,(e=this.previewDelegate)===null||e===void 0||(i=e.attachmentDidChangeAttributes)===null||i===void 0||i.call(e,this),(s=this.delegate)===null||s===void 0||(c=s.attachmentDidChangePreviewURL)===null||c===void 0?void 0:c.call(s,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new ru(t).then(i=>{let{width:s,height:c}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:s,height:c}),this.preloadingURL=null,this.setPreviewURL(t),e==null?void 0:e()}).catch(()=>(this.preloadingURL=null,e==null?void 0:e()))}}Ue(Tr,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Sr extends Jn{static fromJSON(t){return new this(Tr.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(Sr.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(t==null||(e=t.attachment)===null||e===void 0?void 0:e.id)}toString(){return"￼"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Ue(Sr,"permittedAttributes",["caption","presentation"]),Jn.registerType("attachment",Sr);class il extends Jn{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(e=>e.replace(/\r\n?/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.length?(e=this,i=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[e,i]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"…"),JSON.stringify(t.toString())}}Jn.registerType("string",il);class fo extends Kn{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this.constructor(Ya(this.objects,...e))}eachObject(t){return this.objects.map((e,i)=>t(e,i))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){const[i,s]=this.splitObjectAtPosition(e);return new this.constructor(i).insertSplittableListAtIndex(t,s)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[e,i,s]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(i,s+1))}selectSplittableList(t){const e=this.objects.filter(i=>t(i));return new this.constructor(e)}removeObjectsInRange(t){const[e,i,s]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(i,s-i+1)}transformObjectsInRange(t,e){const[i,s,c]=this.splitObjectsAtRange(t),v=i.map((x,D)=>s<=D&&D<=c?e(x):x);return new this.constructor(v)}splitObjectsAtRange(t){let e,[i,s,c]=this.splitObjectAtPosition(Xp(t));return[i,e]=new this.constructor(i).splitObjectAtPosition(Jp(t)+c),[i,s,e-1]}getObjectAtPosition(t){const{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,i;const{index:s,offset:c}=this.findIndexAndOffsetAtPosition(t),v=this.objects.slice(0);if(s!=null)if(c===0)e=s,i=0;else{const x=this.getObjectAtIndex(s),[D,B]=x.splitAtOffset(c);v.splice(s,1,D,B),e=s+1,i=D.getLength()-c}else e=v.length,i=0;return[v,e,i]}consolidate(){const t=[];let e=this.objects[0];return this.objects.slice(1).forEach(i=>{var s,c;(s=(c=e).canBeConsolidatedWith)!==null&&s!==void 0&&s.call(c,i)?e=e.consolidateWith(i):(t.push(e),e=i)}),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){const i=this.objects.slice(0).slice(t,e+1),s=new this.constructor(i).consolidate().toArray();return this.splice(t,i.length,...s)}findIndexAndOffsetAtPosition(t){let e,i=0;for(e=0;e<this.objects.length;e++){const s=i+this.objects[e].getLength();if(i<=t&&t<s)return{index:e,offset:t-i};i=s}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let i=0;for(let s=0;s<this.objects.length;s++){const c=this.objects[s];if(s<t)i+=c.getLength();else if(s===t){i+=e;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||Kp(this.objects,t==null?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}}const Kp=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;let e=!0;for(let i=0;i<n.length;i++){const s=n[i];e&&!s.isEqualTo(t[i])&&(e=!1)}return e},Xp=n=>n[0],Jp=n=>n[1];class ai extends Kn{static textForAttachmentWithAttributes(t,e){return new this([new Sr(t,e)])}static textForStringWithAttributes(t,e){return new this([new il(t,e)])}static fromJSON(t){return new this(Array.from(t).map(e=>Jn.fromJSON(e)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const e=t.filter(i=>!i.isEmpty());this.pieceList=new fo(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const e=this.getPieces().map(i=>t.find(i)||i);return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;const i=this.getTextAtRange(t),s=i.getLength();return t[0]<e&&(e-=s),this.removeTextAtRange(t).insertTextAtPosition(i,e)}addAttributeAtRange(t,e,i){const s={};return s[t]=e,this.addAttributesAtRange(s,i)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithoutAttribute(t)))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAttributes(t)))}getAttributesAtPosition(t){var e;return((e=this.pieceList.getObjectAtPosition(t))===null||e===void 0?void 0:e.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map(e=>e.getAttributes());return $e.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let i,s=i=e;const c=this.getLength();for(;s>0&&this.getCommonAttributesAtRange([s-1,i])[t];)s--;for(;i<c&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[s,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let e=0;for(const s of this.pieceList.toArray()){var i;if(((i=s.attachment)===null||i===void 0?void 0:i.id)===t)return{attachment:s.attachment,position:e};e+=s.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){const e=this.getAttachmentAndPositionById(t.id),i=e.position;if(t=e.attachment)return[i,i+1]}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e);return i?this.addAttributesAtRange(t,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var e;return super.isEqualTo(t)||(t==null||(e=t.pieceList)===null||e===void 0?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList(e=>e.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return Rp(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class vi extends Kn{static fromJSON(t){return new this(ai.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,e,i){super(...arguments),this.text=Yp(t||new ai),this.attributes=e||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t==null?void 0:t.text)&&$n(this.attributes,t==null?void 0:t.attributes)&&Cr(this.htmlAttributes,t==null?void 0:t.htmlAttributes)}copyWithText(t){return new vi(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new vi(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const e=this.attributes.concat(Kl(t));return this.copyWithAttributes(e)}addHTMLAttribute(t,e){const i=Object.assign({},this.htmlAttributes,{[t]:e});return new vi(this.text,this.attributes,i)}removeAttribute(t){const{listAttribute:e}=ie(t),i=Jl(Jl(this.attributes,t),e);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Xl(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Xl(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>ie(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const e=this.attributes.lastIndexOf(t),i=Ya(this.attributes,e+1,0,...Kl(t));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter(t=>ie(t).listAttribute)}isListItem(){var t;return(t=ie(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=ie(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=ie(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){const i=this.toString();let s;switch(t){case"forward":s=i.indexOf(`
`,e);break;case"backward":s=i.slice(0,e).lastIndexOf(`
`)}if(s!==-1)return s}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const e=ai.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(i.appendText(t.text))}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.getLength()?(e=this,i=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return su(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){const i=t.getAttributes(),s=i[e],c=this.attributes[e];return c===s&&!(ie(c).group===!1&&!(()=>{if(!Gs){Gs=[];for(const v in _e){const{listAttribute:x}=_e[v];x!=null&&Gs.push(x)}}return Gs})().includes(i[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const Yp=function(n){return n=Gp(n),n=Zp(n)},Gp=function(n){let t=!1;const e=n.getPieces();let i=e.slice(0,e.length-1);const s=e[e.length-1];return s?(i=i.map(c=>c.isBlockBreak()?(t=!0,tg(c)):c),t?new ai([...i,s]):n):n},Qp=ai.textForStringWithAttributes(`
`,{blockBreak:!0}),Zp=function(n){return su(n)?n:n.appendText(Qp)},su=function(n){const t=n.getLength();return t===0?!1:n.getTextAtRange([t-1,t]).isBlockBreak()},tg=n=>n.copyWithoutAttribute("blockBreak"),Kl=function(n){const{listAttribute:t}=ie(n);return t?[t,n]:[n]},Xl=n=>n.slice(-1)[0],Jl=function(n,t){const e=n.lastIndexOf(t);return e===-1?n:Ya(n,e,1)};class Qe extends Kn{static fromJSON(t){return new this(Array.from(t).map(e=>vi.fromJSON(e)))}static fromString(t,e){const i=ai.textForStringWithAttributes(t,e);return new this([new vi(i)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new vi]),this.blockList=fo.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const e=new qp(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){const e=this.getBlocks().map(i=>t.find(i)||i.copyUsingObjectMap(t));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.getBlocks().map(i=>{const s=t.concat(i.getAttributes());return i.copyWithAttributes(s)});return new this.constructor(e)}replaceBlock(t,e){const i=this.blockList.indexOf(t);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,i))}insertDocumentAtRange(t,e){const{blockList:i}=t;e=jt(e);let[s]=e;const{index:c,offset:v}=this.locationFromPosition(s);let x=this;const D=this.getBlockAtPosition(s);return Wi(e)&&D.isEmpty()&&!D.hasAttributes()?x=new this.constructor(x.blockList.removeObjectAtIndex(c)):D.getBlockBreakPosition()===v&&s++,x=x.removeTextAtRange(e),new this.constructor(x.blockList.insertSplittableListAtPosition(i,s))}mergeDocumentAtRange(t,e){let i,s;e=jt(e);const[c]=e,v=this.locationFromPosition(c),x=this.getBlockAtIndex(v.index).getAttributes(),D=t.getBaseBlockAttributes(),B=x.slice(-D.length);if($n(D,B)){const ct=x.slice(0,-D.length);i=t.copyWithBaseBlockAttributes(ct)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(x);const U=i.getBlockCount(),tt=i.getBlockAtIndex(0);if($n(x,tt.getAttributes())){const ct=tt.getTextWithoutBlockBreak();if(s=this.insertTextAtRange(ct,e),U>1){i=new this.constructor(i.getBlocks().slice(1));const at=c+ct.getLength();s=s.insertDocumentAtRange(i,at)}}else s=this.insertDocumentAtRange(i,e);return s}insertTextAtRange(t,e){e=jt(e);const[i]=e,{index:s,offset:c}=this.locationFromPosition(i),v=this.removeTextAtRange(e);return new this.constructor(v.blockList.editObjectAtIndex(s,x=>x.copyWithText(x.text.insertTextAtPosition(t,c))))}removeTextAtRange(t){let e;t=jt(t);const[i,s]=t;if(Wi(t))return this;const[c,v]=Array.from(this.locationRangeFromRange(t)),x=c.index,D=c.offset,B=this.getBlockAtIndex(x),U=v.index,tt=v.offset,ct=this.getBlockAtIndex(U);if(s-i==1&&B.getBlockBreakPosition()===D&&ct.getBlockBreakPosition()!==tt&&ct.text.getStringAtPosition(tt)===`
`)e=this.blockList.editObjectAtIndex(U,at=>at.copyWithText(at.text.removeTextAtRange([tt,tt+1])));else{let at;const nt=B.text.getTextAtRange([0,D]),X=ct.text.getTextAtRange([tt,ct.getLength()]),K=nt.appendText(X);at=x!==U&&D===0&&B.getAttributeLevel()>=ct.getAttributeLevel()?ct.copyWithText(K):B.copyWithText(K);const C=U+1-x;e=this.blockList.splice(x,C,at)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let i;t=jt(t);const[s,c]=t;if(s<=e&&e<=c)return this;let v=this.getDocumentAtRange(t),x=this.removeTextAtRange(t);const D=s<e;D&&(e-=v.getLength());const[B,...U]=v.getBlocks();return U.length===0?(i=B.getTextWithoutBlockBreak(),D&&(e+=1)):i=B.text,x=x.insertTextAtRange(i,e),U.length===0?x:(v=new this.constructor(U),e+=i.getLength(),x.insertDocumentAtRange(v,e))}addAttributeAtRange(t,e,i){let{blockList:s}=this;return this.eachBlockAtRange(i,(c,v,x)=>s=s.editObjectAtIndex(x,function(){return ie(t)?c.addAttribute(t,e):v[0]===v[1]?c:c.copyWithText(c.text.addAttributeAtRange(t,e,v))})),new this.constructor(s)}addAttribute(t,e){let{blockList:i}=this;return this.eachBlock((s,c)=>i=i.editObjectAtIndex(c,()=>s.addAttribute(t,e))),new this.constructor(i)}removeAttributeAtRange(t,e){let{blockList:i}=this;return this.eachBlockAtRange(e,function(s,c,v){ie(t)?i=i.editObjectAtIndex(v,()=>s.removeAttribute(t)):c[0]!==c[1]&&(i=i.editObjectAtIndex(v,()=>s.copyWithText(s.text.removeAttributeAtRange(t,c))))}),new this.constructor(i)}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e),[s]=Array.from(i),{index:c}=this.locationFromPosition(s),v=this.getTextAtIndex(c);return new this.constructor(this.blockList.editObjectAtIndex(c,x=>x.copyWithText(v.updateAttributesForAttachment(t,e))))}removeAttributeForAttachment(t,e){const i=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,i)}setHTMLAttributeAtPosition(t,e,i){const s=this.getBlockAtPosition(t),c=s.addHTMLAttribute(e,i);return this.replaceBlock(s,c)}insertBlockBreakAtRange(t){let e;t=jt(t);const[i]=t,{offset:s}=this.locationFromPosition(i),c=this.removeTextAtRange(t);return s===0&&(e=[new vi]),new this.constructor(c.blockList.insertSplittableListAtPosition(new fo(e),i))}applyBlockAttributeAtRange(t,e,i){const s=this.expandRangeToLineBreaksAndSplitBlocks(i);let c=s.document;i=s.range;const v=ie(t);if(v.listAttribute){c=c.removeLastListAttributeAtRange(i,{exceptAttributeName:t});const x=c.convertLineBreaksToBlockBreaksInRange(i);c=x.document,i=x.range}else c=v.exclusive?c.removeBlockAttributesAtRange(i):v.terminal?c.removeLastTerminalAttributeAtRange(i):c.consolidateBlocksAtRange(i);return c.addAttributeAtRange(t,e,i)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(t,function(s,c,v){const x=s.getLastAttribute();x&&ie(x).listAttribute&&x!==e.exceptAttributeName&&(i=i.editObjectAtIndex(v,()=>s.removeAttribute(x)))}),new this.constructor(i)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,s,c){const v=i.getLastAttribute();v&&ie(v).terminal&&(e=e.editObjectAtIndex(c,()=>i.removeAttribute(v)))}),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,s,c){i.hasAttributes()&&(e=e.editObjectAtIndex(c,()=>i.copyWithoutAttributes()))}),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=jt(t);let[i,s]=t;const c=this.locationFromPosition(i),v=this.locationFromPosition(s);let x=this;const D=x.getBlockAtIndex(c.index);if(c.offset=D.findLineBreakInDirectionFromPosition("backward",c.offset),c.offset!=null&&(e=x.positionFromLocation(c),x=x.insertBlockBreakAtRange([e,e+1]),v.index+=1,v.offset-=x.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,v.offset===0&&v.index>c.index)v.index-=1,v.offset=x.getBlockAtIndex(v.index).getBlockBreakPosition();else{const B=x.getBlockAtIndex(v.index);B.text.getStringAtRange([v.offset-1,v.offset])===`
`?v.offset-=1:v.offset=B.findLineBreakInDirectionFromPosition("forward",v.offset),v.offset!==B.getBlockBreakPosition()&&(e=x.positionFromLocation(v),x=x.insertBlockBreakAtRange([e,e+1]))}return i=x.positionFromLocation(c),s=x.positionFromLocation(v),{document:x,range:t=jt([i,s])}}convertLineBreaksToBlockBreaksInRange(t){t=jt(t);let[e]=t;const i=this.getStringAtRange(t).slice(0,-1);let s=this;return i.replace(/.*?\n/g,function(c){e+=c.length,s=s.insertBlockBreakAtRange([e-1,e])}),{document:s,range:t}}consolidateBlocksAtRange(t){t=jt(t);const[e,i]=t,s=this.locationFromPosition(e).index,c=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(s,c))}getDocumentAtRange(t){t=jt(t);const e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e;const i=t=jt(t);return i[i.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return(e=this.getBlockAtIndex(t))===null||e===void 0?void 0:e.text}getTextAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(i)}getCharacterAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let i,s;t=jt(t);const[c,v]=t,x=this.locationFromPosition(c),D=this.locationFromPosition(v);if(x.index===D.index)return i=this.getBlockAtIndex(x.index),s=[x.offset,D.offset],e(i,s,x.index);for(let B=x.index;B<=D.index;B++)if(i=this.getBlockAtIndex(B),i){switch(B){case x.index:s=[x.offset,i.text.getLength()];break;case D.index:s=[0,D.offset];break;default:s=[0,i.text.getLength()]}e(i,s,B)}}getCommonAttributesAtRange(t){t=jt(t);const[e]=t;if(Wi(t))return this.getCommonAttributesAtPosition(e);{const i=[],s=[];return this.eachBlockAtRange(t,function(c,v){if(v[0]!==v[1])return i.push(c.text.getCommonAttributesAtRange(v)),s.push(Yl(c))}),$e.fromCommonAttributesOfObjects(i).merge($e.fromCommonAttributesOfObjects(s)).toObject()}}getCommonAttributesAtPosition(t){let e,i;const{index:s,offset:c}=this.locationFromPosition(t),v=this.getBlockAtIndex(s);if(!v)return{};const x=Yl(v),D=v.text.getAttributesAtPosition(c),B=v.text.getAttributesAtPosition(c-1),U=Object.keys(Vn).filter(tt=>Vn[tt].inheritable);for(e in B)i=B[e],(i===D[e]||U.includes(e))&&(x[e]=i);return x}getRangeOfCommonAttributeAtPosition(t,e){const{index:i,offset:s}=this.locationFromPosition(e),c=this.getTextAtIndex(i),[v,x]=Array.from(c.getExpandedRangeForAttributeAtOffset(t,s)),D=this.positionFromLocation({index:i,offset:v}),B=this.positionFromLocation({index:i,offset:x});return jt([D,B])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){const i=this.getBlockAtIndex(e).getAttributes(),s=Math.min(t.length,i.length);t=(()=>{const c=[];for(let v=0;v<s&&i[v]===t[v];v++)c.push(i[v]);return c})()}return t}getAttachmentById(t){for(const e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject(e=>{let{text:i}=e;return t=t.concat(i.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let e=0;const i=this.blockList.toArray();for(let s=0;s<i.length;s++){const{text:c}=i[s],v=c.getRangeOfAttachment(t);if(v)return jt([e+v[0],e+v[1]]);e+=c.getLength()}}getLocationRangeOfAttachment(t){const e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(const e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0;const i=[];return this.getBlocks().forEach(s=>{const c=s.getLength();s.hasAttribute(t)&&i.push([e,e+c]),e+=c}),i}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,s=[];const c=[];return this.getPieces().forEach(v=>{const x=v.getLength();(function(D){return e?D.getAttribute(t)===e:D.hasAttribute(t)})(v)&&(s[1]===i?s[1]=i+x:c.push(s=[i,i+x])),i+=x}),c}locationFromPosition(t){const e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(e.index!=null)return e;{const i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return jt(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=jt(t)))return;const[e,i]=Array.from(t),s=this.locationFromPosition(e),c=this.locationFromPosition(i);return jt([s,c])}rangeFromLocationRange(t){let e;t=jt(t);const i=this.positionFromLocation(t[0]);return Wi(t)||(e=this.positionFromLocation(t[1])),jt([i,e])}isEqualTo(t){return this.blockList.isEqualTo(t==null?void 0:t.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){const t=[];return Array.from(this.getTexts()).forEach(e=>{t.push(...Array.from(e.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject(e=>t.push(e.copyWithText(e.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(t=>JSON.parse(t.text.toConsole())))}}const Yl=function(n){const t={},e=n.getLastAttribute();return e&&(t[e]=!0),t},eg="style href src width height language class".split(" "),ig="javascript:".split(" "),ng="script iframe form noscript".split(" ");class nl extends se{static sanitize(t,e){const i=new this(t,e);return i.sanitize(),i}constructor(t){let{allowedAttributes:e,forbiddenProtocols:i,forbiddenElements:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=e||eg,this.forbiddenProtocols=i||ig,this.forbiddenElements=s||ng,this.body=rg(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=co(this.body),e=[];for(;t.nextNode();){const i=t.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?e.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:e.push(i)}}return e.forEach(i=>En(i)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(e=>{let{name:i}=e;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||t.removeAttribute(i)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{const e=t.previousElementSibling;e&&Te(e)==="li"&&e.appendChild(t)}),this.body}elementIsRemovable(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(Te(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!Hn(t)}}const rg=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=n,Array.from(t.head.querySelectorAll("style")).forEach(e=>{t.body.appendChild(e)}),t.body},Jo=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:n=rs(n),attributes:t,type:"string"}},Gl=(n,t)=>{try{const e=JSON.parse(n.getAttribute("data-trix-".concat(t)));return e.contentType==="text/html"&&e.content&&(e.content=nl.sanitize(e.content).getHTML()),e}catch{return{}}};class ps extends se{static parse(t,e){const i=new this(t,e);return i.parse(),i}constructor(t){let{referenceElement:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Qe.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();const t=nl.sanitize(this.html).getHTML();this.containerElement.innerHTML=t;const e=co(this.containerElement,{usingFilter:og});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=kt({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return En(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(e===this.containerElement||this.isBlockElement(e)){var i;const s=this.getBlockAttributes(e),c=this.getBlockHTMLAttributes(e);$n(s,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(s,e,c),this.currentBlockElement=e)}}appendBlockForElement(t){const e=this.isBlockElement(t),i=Bn(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const s=this.getBlockAttributes(t),c=this.getBlockHTMLAttributes(t);if(t.firstChild){if(i&&$n(s,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(s,t,c),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!i&&!e){const s=this.findParentBlockElement(t);if(s)return this.appendBlockForElement(s);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var i;return Ql(t.parentNode)||(e=Za(e),ou((i=t.previousSibling)===null||i===void 0?void 0:i.textContent)&&(e=ag(e))),this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(Hn(t)){if(e=Gl(t,"attachment"),Object.keys(e).length){const i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,i),t.innerHTML=""}return this.processedElements.push(t)}switch(Te(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"};const i=(s=>{const c=s.getAttribute("width"),v=s.getAttribute("height"),x={};return c&&(x.width=parseInt(c,10)),v&&(x.height=parseInt(v,10)),x})(t);for(const s in i){const c=i[s];e[s]=c}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(to.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(to.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(e);const s=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(t,i);return this.blocks.push(s),s}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(Jo(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,e))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],s=i[i.length-1];if((s==null?void 0:s.type)!=="string")return i.push(Jo(t));s.string+=t}prependStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],s=i[0];if((s==null?void 0:s.type)!=="string")return i.unshift(Jo(t));s.string=t+s.string}getTextAttributes(t){let e;const i={};for(const s in Vn){const c=Vn[s];if(c.tagName&&An(t,{matchingSelector:c.tagName,untilNode:this.containerElement}))i[s]=!0;else if(c.parser){if(e=c.parser(t),e){let v=!1;for(const x of this.findBlockElementAncestors(t))if(c.parser(x)===e){v=!0;break}v||(i[s]=e)}}else c.styleProperty&&(e=t.style[c.styleProperty],e&&(i[s]=e))}if(Hn(t)){const s=Gl(t,"attributes");for(const c in s)e=s[c],i[c]=e}return i}getBlockAttributes(t){const e=[];for(;t&&t!==this.containerElement;){for(const s in _e){const c=_e[s];var i;c.parse!==!1&&Te(t)===c.tagName&&((i=c.test)!==null&&i!==void 0&&i.call(c,t)||!c.test)&&(e.push(s),c.listAttribute&&e.push(c.listAttribute))}t=t.parentNode}return e.reverse()}getBlockHTMLAttributes(t){const e={},i=Object.values(_e).find(s=>s.tagName===Te(t));return((i==null?void 0:i.htmlAttributes)||[]).forEach(s=>{t.hasAttribute(s)&&(e[s]=t.getAttribute(s))}),e}findBlockElementAncestors(t){const e=[];for(;t&&t!==this.containerElement;){const i=Te(t);os().includes(i)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&!Hn(t)&&!An(t,{matchingSelector:"td",untilNode:this.containerElement}))return os().includes(Te(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if((t==null?void 0:t.nodeType)!==Node.TEXT_NODE||!lg(t.data))return;const{parentNode:e,previousSibling:i,nextSibling:s}=t;return sg(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||Ql(e)?void 0:!i||this.isBlockElement(i)||!s||this.isBlockElement(s)}isExtraBR(t){return Te(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(to.removeBlankTableCells){var e;const i=(e=t.previousSibling)===null||e===void 0?void 0:e.textContent;return i&&/\S/.test(i)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){const i=this.getMarginOfBlockElementAtIndex(e);i&&(i.top>2*t.top&&this.prependStringToTextAtIndex(`
`,e),i.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,e))}}getMarginOfBlockElementAtIndex(t){const e=this.blockElements[t];if(e&&e.textContent&&!os().includes(Te(e))&&!this.processedElements.includes(e))return Zl(e)}getMarginOfDefaultBlockElement(){const t=kt(_e.default.tagName);return this.containerElement.appendChild(t),Zl(t)}}const Ql=function(n){const{whiteSpace:t}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(t)},sg=n=>n&&!ou(n.textContent),Zl=function(n){const t=window.getComputedStyle(n);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},og=function(n){return Te(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},ag=n=>n.replace(new RegExp("^".concat(Qa.source,"+")),""),lg=n=>new RegExp("^".concat(Qa.source,"*$")).test(n),ou=n=>/\s$/.test(n),cg=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Sa="data-trix-serialized-attributes",ug="[".concat(Sa,"]"),hg=new RegExp("<!--block-->","g"),dg={"application/json":function(n){let t;if(n instanceof Qe)t=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=ps.parse(n.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(n){let t;if(n instanceof Qe)t=yo.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=n.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(e=>{En(e)}),cg.forEach(e=>{Array.from(t.querySelectorAll("[".concat(e,"]"))).forEach(i=>{i.removeAttribute(e)})}),Array.from(t.querySelectorAll(ug)).forEach(e=>{try{const i=JSON.parse(e.getAttribute(Sa));e.removeAttribute(Sa);for(const s in i){const c=i[s];e.setAttribute(s,c)}}catch{}}),t.innerHTML.replace(hg,"")}};var fg=Object.freeze({__proto__:null});class ee extends se{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}ee.proxyMethod("attachment.getAttribute"),ee.proxyMethod("attachment.hasAttribute"),ee.proxyMethod("attachment.setAttribute"),ee.proxyMethod("attachment.getAttributes"),ee.proxyMethod("attachment.setAttributes"),ee.proxyMethod("attachment.isPending"),ee.proxyMethod("attachment.isPreviewable"),ee.proxyMethod("attachment.getURL"),ee.proxyMethod("attachment.getHref"),ee.proxyMethod("attachment.getFilename"),ee.proxyMethod("attachment.getFilesize"),ee.proxyMethod("attachment.getFormattedFilesize"),ee.proxyMethod("attachment.getExtension"),ee.proxyMethod("attachment.getContentType"),ee.proxyMethod("attachment.getFile"),ee.proxyMethod("attachment.setFile"),ee.proxyMethod("attachment.releaseFile"),ee.proxyMethod("attachment.getUploadProgress"),ee.proxyMethod("attachment.setUploadProgress");class au extends se{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(e=>{this.manageAttachment(e)})}getAttachments(){const t=[];for(const e in this.managedAttachments){const i=this.managedAttachments[e];t.push(i)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new ee(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,i;if(this.attachmentIsManaged(t))return(e=this.delegate)===null||e===void 0||(i=e.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}unmanageAttachment(t){const e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}}class lu{constructor(t){this.composition=t,this.document=this.composition.document;const e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class gn extends se{constructor(){super(...arguments),this.document=new Qe,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,i;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,i,s,c;let{document:v,selectedRange:x}=t;return(e=this.delegate)===null||e===void 0||(i=e.compositionWillLoadSnapshot)===null||i===void 0||i.call(e),this.setDocument(v??new Qe),this.setSelection(x??[0,0]),(s=this.delegate)===null||s===void 0||(c=s.compositionDidLoadSnapshot)===null||c===void 0?void 0:c.call(s)}insertText(t){let{updatePosition:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));const s=i[0],c=s+t.getLength();return e&&this.setSelection(c),this.notifyDelegateOfInsertionAtRange([s,c])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new vi;const e=new Qe([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Qe;const e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));const i=e[0],s=i+t.getLength();return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}insertString(t,e){const i=this.getCurrentTextAttributes(),s=ai.textForStringWithAttributes(t,i);return this.insertText(s,e)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const e=t[0],i=e+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([e,i])}insertLineBreak(){const t=new lu(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const e=new Qe([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const e=ps.parse(t).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,i));const s=i[0],c=s+e.getLength()-1;return this.setSelection(c),this.notifyDelegateOfInsertionAtRange([s,c])}replaceHTML(t){const e=ps.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),s=this.document.rangeFromLocationRange(i);return this.setDocument(e),this.setSelection(s)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const e=[];return Array.from(t).forEach(i=>{var s;if((s=this.delegate)!==null&&s!==void 0&&s.compositionShouldAcceptFile(i)){const c=Tr.attachmentForFile(i);e.push(c)}}),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new ai;return Array.from(t).forEach(i=>{var s;const c=i.getType(),v=(s=za[c])===null||s===void 0?void 0:s.presentation,x=this.getCurrentTextAttributes();v&&(x.presentation=v);const D=ai.textForAttachmentWithAttributes(i,x);e=e.appendText(D)}),this.insertText(e)}shouldManageDeletingInDirection(t){const e=this.getLocationRange();if(Wi(e)){if(t==="backward"&&e[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,i,s,{length:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=this.getLocationRange();let x=this.getSelectedRange();const D=Wi(x);if(D?i=t==="backward"&&v[0].offset===0:s=v[0].index!==v[1].index,i&&this.canDecreaseBlockAttributeLevel()){const B=this.getBlock();if(B.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(x[0]),B.isEmpty())return!1}return D&&(x=this.getExpandedRangeInDirection(t,{length:c}),t==="backward"&&(e=this.getAttachmentAtRange(x))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(x)),this.setSelection(x[0]),!i&&!s&&void 0)}moveTextFromRange(t){const[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){const e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){const[t,e]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const e=this.currentAttributes[t];return e!=null&&e!==!1}toggleCurrentAttribute(t){const e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return ie(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const e=this.getSelectedDocument();if(e){for(const i of Array.from(e.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return ie(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,e,i){var s;const c=this.document.getBlockAtPosition(t),v=(s=ie(c.getLastAttribute()))===null||s===void 0?void 0:s.htmlAttributes;if(c&&v!=null&&v.includes(e)){const x=this.document.setHTMLAttributeAtPosition(t,e,i);this.setDocument(x)}}setTextAttribute(t,e){const i=this.getSelectedRange();if(!i)return;const[s,c]=Array.from(i);if(s!==c)return this.setDocument(this.document.addAttributeAtRange(t,e,i));if(t==="href"){const v=ai.textForStringWithAttributes(e,{href:e});return this.insertText(v)}}setBlockAttribute(t,e){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)}removeCurrentAttribute(t){return ie(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const e=this.getBlock();if(e){if((t=ie(e.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return e.getNestingLevel()>0;{const i=this.getPreviousBlock();if(i)return function(){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return $n((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,s.length),s)}(i.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const e=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:e}=this.document.locationFromPosition(t);let i=e;const s=this.getBlock().getAttributeLevel();let c=this.document.getBlockAtIndex(i+1);for(;c&&c.isListItem()&&!(c.getAttributeLevel()<=s);)i++,c=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:e,offset:0});const v=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,v]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const e=this.document.getCommonAttributesAtRange(t);if(Array.from(Ea()).forEach(i=>{e[i]||this.canSetCurrentAttribute(i)||(e[i]=!1)}),!Cr(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return Vc.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const e in this.currentAttributes){const i=this.currentAttributes[e];i!==!1&&wa(e)&&(t[e]=i)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var e;const i=this.document.locationRangeFromRange(t);return(e=this.delegate)===null||e===void 0?void 0:e.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||jt({index:0,offset:0})}withTargetLocationRange(t,e){let i;this.targetLocationRange=t;try{i=e()}finally{this.targetLocationRange=null}return i}withTargetRange(t,e){const i=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(i,e)}withTargetDOMRange(t,e){const i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(i,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,s]=Array.from(this.getSelectedRange());return t==="backward"?e?i-=e:i=this.translateUTF16PositionFromOffset(i,-1):e?s+=e:s=this.translateUTF16PositionFromOffset(s,1),jt([i,s])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const e=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(e)!=null}moveCursorInDirection(t){let e,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const s=this.getSelectedRange();i=this.getExpandedRangeInDirection(t),e=!uo(s,i)}if(t==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),e){const s=this.getAttachmentAtRange(i);if(s)return this.editAttachment(s)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const e=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(i)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return(e=this.document.getPieceAtPosition(t))===null||e===void 0?void 0:e.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:e,removed:i}=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const v=[],x=[],D=new Set;s.forEach(U=>{D.add(U)});const B=new Set;return c.forEach(U=>{B.add(U),D.has(U)||v.push(U)}),s.forEach(U=>{B.has(U)||x.push(U)}),{added:v,removed:x}}(this.attachments,t);return this.attachments=t,Array.from(i).forEach(s=>{var c,v;s.delegate=null,(c=this.delegate)===null||c===void 0||(v=c.compositionDidRemoveAttachment)===null||v===void 0||v.call(c,s)}),(()=>{const s=[];return Array.from(e).forEach(c=>{var v,x;c.delegate=this,s.push((v=this.delegate)===null||v===void 0||(x=v.compositionDidAddAttachment)===null||x===void 0?void 0:x.call(v,c))}),s})()}attachmentDidChangeAttributes(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentDidChangePreviewURL(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(e,t)}editAttachment(t,e){var i,s;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(i=this.delegate)===null||i===void 0||(s=i.compositionDidStartEditingAttachment)===null||s===void 0?void 0:s.call(i,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(e=t.compositionDidStopEditingAttachment)===null||e===void 0||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t;const{block:i}=t;let s=t.startPosition,c=[s-1,s];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&t.nextCharacter===`
`?s+=1:e=e.removeTextAtRange(c),c=[s,s]):t.nextCharacter===`
`?t.previousCharacter===`
`?c=[s-1,s+1]:(c=[s,s+1],s+=1):t.startLocation.offset-1!=0&&(s+=1);const v=new Qe([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(v,c)),this.setSelection(s)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const e=this.document.getDocumentAtRange(t);if(e.toString()==="".concat("￼",`
`))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.compositionDidChangeCurrentAttributes)===null||e===void 0?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(e,t)}translateUTF16PositionFromOffset(t,e){const i=this.document.toUTF16String(),s=i.offsetFromUCS2Offset(t);return i.offsetToUCS2Offset(s+e)}}gn.proxyMethod("getSelectionManager().getPointRange"),gn.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),gn.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),gn.proxyMethod("getSelectionManager().locationIsCursorTarget"),gn.proxyMethod("getSelectionManager().selectionIsExpanded"),gn.proxyMethod("delegate?.getSelectionManager");class Ca extends se{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.undoEntries.slice(-1)[0];if(!i||!pg(s,t,e)){const c=this.createEntry({description:t,context:e});this.undoEntries.push(c),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t==null?void 0:t.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}}const pg=(n,t,e)=>(n==null?void 0:n.description)===(t==null?void 0:t.toString())&&(n==null?void 0:n.context)===JSON.stringify(e),Yo="attachmentGallery";class cu{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange(Yo,t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,this.document.getCharacterAtPosition(e[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),e[0]!==0&&this.document.getCharacterAtPosition(e[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(Yo,!0,e))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Yo)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const uu=function(n){const t=new cu(n);return t.perform(),t.getSnapshot()},gg=[uu];class hu{constructor(t,e,i){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=i,this.undoManager=new Ca(this.composition),this.filters=gg.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=ps.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:i}=t;return e=Qe.fromJSON(e),this.loadSnapshot({document:e,selectedRange:i})}loadSnapshot(t){return this.undoManager=new Ca(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,e,i){this.composition.setHTMLAtributeAtPosition(t,e,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class du{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},s=0,c=!1;const v={index:0,offset:0},x=this.findAttachmentElementParentForNode(t);x&&(t=x.parentNode,e=qo(x));const D=co(this.element,{usingFilter:fu});for(;D.nextNode();){const B=D.currentNode;if(B===t&&as(t)){wr(B)||(v.offset+=e);break}if(B.parentNode===t){if(s++===e)break}else if(!Bn(t,B)&&s>0)break;Pl(B,{strict:i})?(c&&v.index++,v.offset=0,c=!0):v.offset+=Go(B)}return v}findContainerAndOffsetFromLocation(t){let e,i;if(t.index===0&&t.offset===0){for(e=this.element,i=0;e.firstChild;)if(e=e.firstChild,Wo(e)){i=1;break}return[e,i]}let[s,c]=this.findNodeAndOffsetFromLocation(t);if(s){if(as(s))Go(s)===0?(e=s.parentNode.parentNode,i=qo(s.parentNode),wr(s,{name:"right"})&&i++):(e=s,i=t.offset-c);else{if(e=s.parentNode,!Pl(s.previousSibling)&&!Wo(e))for(;s===e.lastChild&&(s=e,e=e.parentNode,!Wo(e)););i=qo(s),t.offset!==0&&i++}return[e,i]}}findNodeAndOffsetFromLocation(t){let e,i,s=0;for(const c of this.getSignificantNodesForIndex(t.index)){const v=Go(c);if(t.offset<=s+v)if(as(c)){if(e=c,i=s,t.offset===i&&wr(e))break}else e||(e=c,i=s);if(s+=v,s>t.offset)break}return[e,i]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(Hn(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const e=[],i=co(this.element,{usingFilter:mg});let s=!1;for(;i.nextNode();){const v=i.currentNode;var c;if(Er(v)){if(c!=null?c++:c=0,c===t)s=!0;else if(s)break}else s&&e.push(v)}return e}}const Go=function(n){return n.nodeType===Node.TEXT_NODE?wr(n)?0:n.textContent.length:Te(n)==="br"||Hn(n)?1:0},mg=function(n){return bg(n)===NodeFilter.FILTER_ACCEPT?fu(n):NodeFilter.FILTER_REJECT},bg=function(n){return Uc(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},fu=function(n){return Hn(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class pu{createDOMRangeFromPoint(t){let e,{x:i,y:s}=t;if(document.caretPositionFromPoint){const{offsetNode:c,offset:v}=document.caretPositionFromPoint(i,s);return e=document.createRange(),e.setStart(c,v),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,s);if(document.body.createTextRange){const c=ls();try{const v=document.body.createTextRange();v.moveToPoint(i,s),v.select()}catch{}return e=ls(),Zc(c),e}}getClientRectsForDOMRange(t){const e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}}class Fn extends se{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new du(this.element),this.pointMapper=new pu,this.lockCount=0,Xt("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(ls()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=jt(t);const e=this.createDOMRangeFromLocationRange(t);e&&(Zc(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=jt(t);const e=this.getLocationAtPoint(t[0]),i=this.getLocationAtPoint(t[1]);this.setLocationRange([e,i])}getClientRectAtLocationRange(t){const e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){const e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return wr(e)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=Qc())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=ls())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(t==null||!this.domRangeWithinElement(t))return;const i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!i)return;const s=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return jt([i,s])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const e=()=>{if(this.paused=!1,clearTimeout(i),Array.from(t).forEach(s=>{s.destroy()}),Bn(document,this.element))return this.selectionDidChange()},i=setTimeout(e,200);t=["mousemove","keydown"].map(s=>Xt(s,{onElement:document,withCallback:e}))}selectionDidChange(){if(!this.paused&&!Xa(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,i;if((t??(t=this.createLocationRangeFromDOMRange(ls())))&&!uo(t,this.currentLocationRange))return this.currentLocationRange=t,(e=this.delegate)===null||e===void 0||(i=e.locationRangeDidChange)===null||i===void 0?void 0:i.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const e=this.findContainerAndOffsetFromLocation(t[0]),i=Wi(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(e!=null&&i!=null){const s=document.createRange();return s.setStart(...Array.from(e||[])),s.setEnd(...Array.from(i||[])),s}}getLocationAtPoint(t){const e=this.createDOMRangeFromPoint(t);var i;if(e)return(i=this.createLocationRangeFromDOMRange(e))===null||i===void 0?void 0:i[0]}domRangeWithinElement(t){return t.collapsed?Bn(this.element,t.startContainer):Bn(this.element,t.startContainer)&&Bn(this.element,t.endContainer)}}Fn.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Fn.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Fn.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Fn.proxyMethod("pointMapper.createDOMRangeFromPoint"),Fn.proxyMethod("pointMapper.getClientRectsForDOMRange");var gu=Object.freeze({__proto__:null,Attachment:Tr,AttachmentManager:au,AttachmentPiece:Sr,Block:vi,Composition:gn,Document:Qe,Editor:hu,HTMLParser:ps,HTMLSanitizer:nl,LineBreakInsertion:lu,LocationMapper:du,ManagedAttachment:ee,Piece:Jn,PointMapper:pu,SelectionManager:Fn,SplittableList:fo,StringPiece:il,Text:ai,UndoManager:Ca}),vg=Object.freeze({__proto__:null,ObjectView:Xn,AttachmentView:el,BlockView:nu,DocumentView:yo,PieceView:eu,PreviewableAttachmentView:tu,TextView:iu});const{lang:Qo,css:In,keyNames:yg}=As,Zo=function(n){return function(){const t=n.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class mu extends se{constructor(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Ue(this,"makeElementMutable",Zo(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Ue(this,"addToolbar",Zo(()=>{const c=kt({tagName:"div",className:In.attachmentToolbar,data:{trixMutable:!0},childNodes:kt({tagName:"div",className:"trix-button-row",childNodes:kt({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:kt({tagName:"button",className:"trix-button trix-button--remove",textContent:Qo.remove,attributes:{title:Qo.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&c.appendChild(kt({tagName:"div",className:In.attachmentMetadataContainer,childNodes:kt({tagName:"span",className:In.attachmentMetadata,childNodes:[kt({tagName:"span",className:In.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),kt({tagName:"span",className:In.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),Xt("click",{onElement:c,withCallback:this.didClickToolbar}),Xt("click",{onElement:c,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),ss("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:c,attachment:this.attachment}}),{do:()=>this.element.appendChild(c),undo:()=>En(c)}})),Ue(this,"installCaptionEditor",Zo(()=>{const c=kt({tagName:"textarea",className:In.attachmentCaptionEditor,attributes:{placeholder:Qo.captionPlaceholder},data:{trixMutable:!0}});c.value=this.attachmentPiece.getCaption();const v=c.cloneNode();v.classList.add("trix-autoresize-clone"),v.tabIndex=-1;const x=function(){v.value=c.value,c.style.height=v.scrollHeight+"px"};Xt("input",{onElement:c,withCallback:x}),Xt("input",{onElement:c,withCallback:this.didInputCaption}),Xt("keydown",{onElement:c,withCallback:this.didKeyDownCaption}),Xt("change",{onElement:c,withCallback:this.didChangeCaption}),Xt("blur",{onElement:c,withCallback:this.didBlurCaption});const D=this.element.querySelector("figcaption"),B=D.cloneNode();return{do:()=>{if(D.style.display="none",B.appendChild(c),B.appendChild(v),B.classList.add("".concat(In.attachmentCaption,"--editing")),D.parentElement.insertBefore(B,D),x(),this.options.editCaption)return Ga(()=>c.focus())},undo(){En(B),D.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=i,this.options=s,this.attachment=this.attachmentPiece.attachment,Te(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const c=this.pendingCaption;var t,e,i,s;this.pendingCaption=null,c?(t=this.delegate)===null||t===void 0||(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||e===void 0||e.call(t,{caption:c},this.attachment):(i=this.delegate)===null||i===void 0||(s=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||s===void 0||s.call(i,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if(t.target.getAttribute("data-trix-action")==="remove")return(e=this.delegate)===null||e===void 0?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,i;if(yg[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(e=this.delegate)===null||e===void 0||(i=e.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class bu extends se{constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new yo(this.composition.document,{element:this.element}),Xt("focus",{onElement:this.element,withCallback:this.didFocus}),Xt("blur",{onElement:this.element,withCallback:this.didBlur}),Xt("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),Xt("mousedown",{onElement:this.element,matchingSelector:Wn,withCallback:this.didClickAttachment}),Xt("click",{onElement:this.element,matchingSelector:"a".concat(Wn),preventDefault:!0})}didFocus(t){var e;const i=()=>{var s,c;if(!this.focused)return this.focused=!0,(s=this.delegate)===null||s===void 0||(c=s.compositionControllerDidFocus)===null||c===void 0?void 0:c.call(s)};return((e=this.blurPromise)===null||e===void 0?void 0:e.then(i))||i()}didBlur(t){this.blurPromise=new Promise(e=>Ga(()=>{var i,s;return Xa(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidBlur)===null||s===void 0||s.call(i)),this.blurPromise=null,e()}))}didClickAttachment(t,e){var i,s;const c=this.findAttachmentForElement(e),v=!!An(t.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidSelectAttachment)===null||s===void 0?void 0:s.call(i,c,{editCaption:v})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,i,s,c,v;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(s=i.compositionControllerWillSyncDocumentView)===null||s===void 0||s.call(i),this.documentView.sync(),(c=this.delegate)===null||c===void 0||(v=c.compositionControllerDidSyncDocumentView)===null||v===void 0||v.call(c)),(t=this.delegate)===null||t===void 0||(e=t.compositionControllerDidRender)===null||e===void 0?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===t)return;const s=this.documentView.findElementForObject(t);if(!s)return;this.uninstallAttachmentEditor();const c=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new mu(c,s,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(i,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(i,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class vu extends se{}const yu="data-trix-mutable",Ag="[".concat(yu,"]"),Eg={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Au extends se{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,Eg)}stop(){return this.observer.disconnect()}didMutate(t){var e,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(e=this.delegate)===null||e===void 0||(i=e.elementDidMutate)===null||i===void 0||i.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(e=>this.mutationIsSignificant(e))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!Uc(t)}nodeIsMutable(t){return An(t,{matchingSelector:Ag})}nodesModifiedByMutation(t){const e=[];switch(t.type){case"attributes":t.attributeName!==yu&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach(x=>{Array.from(t).includes(x)||t.push(x)}),e.push(...Array.from(i.deletions||[]));const s={},c=t.join("");c&&(s.textAdded=c);const v=e.join("");return v&&(s.textDeleted=v),s}getMutationsByType(t){return Array.from(this.mutations).filter(e=>e.type===t)}getTextChangesFromChildList(){let t,e;const i=[],s=[];return Array.from(this.getMutationsByType("childList")).forEach(c=>{i.push(...Array.from(c.addedNodes||[])),s.push(...Array.from(c.removedNodes||[]))}),i.length===0&&s.length===1&&Er(s[0])?(t=[],e=[`
`]):(t=Ta(i),e=Ta(s)),{additions:t.filter((c,v)=>c!==e[v]).map(rs),deletions:e.filter((c,v)=>c!==t[v]).map(rs)}}getTextChangesFromCharacterData(){let t,e;const i=this.getMutationsByType("characterData");if(i.length){const s=i[0],c=i[i.length-1],v=function(x,D){let B,U;return x=fs.box(x),(D=fs.box(D)).length<x.length?[U,B]=Wl(x,D):[B,U]=Wl(D,x),{added:B,removed:U}}(rs(s.oldValue),rs(c.target.data));t=v.added,e=v.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}}const Ta=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const e of Array.from(n))switch(e.nodeType){case Node.TEXT_NODE:t.push(e.data);break;case Node.ELEMENT_NODE:Te(e)==="br"?t.push(`
`):t.push(...Array.from(Ta(e.childNodes)||[]))}return t};class Eu extends ho{constructor(t){super(...arguments),this.file=t}perform(t){const e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch{}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}}class wg{constructor(t){this.element=t}shouldIgnore(t){return!!ys.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&xg(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,e;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((e=this.previousEvent)===null||e===void 0?void 0:e.key)==="Unidentified"}}const xg=(n,t)=>tc(n)===tc(t),Sg=new RegExp("(".concat("￼","|").concat(vo,"|").concat(bn,"|\\s)+"),"g"),tc=n=>n.replace(Sg," ").trim();class Ao extends se{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new Au(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new wg(this.element);for(const e in this.constructor.events)Xt(e,{onElement:this.element,withCallback:this.handlerFor(e)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestRender)===null||e===void 0?void 0:e.call(t)}requestReparse(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestReparse)===null||e===void 0||e.call(t),this.requestRender()}attachFiles(t){const e=Array.from(t).map(i=>new Eu(i));return Promise.all(e).then(i=>{this.handleInput(function(){var s,c;return(s=this.delegate)===null||s===void 0||s.inputControllerWillAttachFiles(),(c=this.responder)===null||c===void 0||c.insertFiles(i),this.requestRender()})})}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput(()=>{if(!Xa(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}})}}handleInput(t){try{var e;(e=this.delegate)===null||e===void 0||e.inputControllerWillHandleInput(),t.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(t,e){const i=document.createElement("a");return i.href=t,i.textContent=e||t,i.outerHTML}}var ta;Ue(Ao,"events",{});const{browser:Cg,keyNames:wu}=As;let Tg=0;class ji extends Ao{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const e in t){const i=t[e];this.inputSummary[e]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Un.reset()}elementDidMutate(t){var e,i;return this.isComposing()?(e=this.delegate)===null||e===void 0||(i=e.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(e):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:e,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;const s=e!=null?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,c=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,v=[`
`,` 
`].includes(e)&&!s,x=i===`
`&&!c;if(v&&!x||x&&!v){const B=this.getSelectedRange();if(B){var D;const U=v?e.replace(/\n$/,"").length||-1:(e==null?void 0:e.length)||1;if((D=this.responder)!==null&&D!==void 0&&D.positionIsBlockBreak(B[1]+U))return!0}}return s&&c}mutationIsSignificant(t){var e;const i=Object.keys(t).length>0,s=((e=this.compositionInput)===null||e===void 0?void 0:e.getEndData())==="";return i||!s}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new fn(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(s){if(s==null||!s.setData)return!1;for(const c in Bl){const v=Bl[c];try{if(s.setData(c,v),!s.getData(c)===v)return!1}catch{return!1}}return!0}(t))return;const i=(e=this.responder)===null||e===void 0?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",yo.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const e={};return Array.from((t==null?void 0:t.types)||[]).forEach(i=>{e[i]=!0}),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){const e=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},s=kt({style:i,tagName:"div",editable:!0});return document.body.appendChild(s),s.focus(),requestAnimationFrame(()=>{const c=s.innerHTML;return En(s),this.setSelectedRange(e),t(c)})}}Ue(ji,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=wu[n.keyCode];if(t){var e;let s=this.keys;["ctrl","alt","shift","meta"].forEach(c=>{var v;n["".concat(c,"Key")]&&(c==="ctrl"&&(c="control"),s=(v=s)===null||v===void 0?void 0:v[c])}),((e=s)===null||e===void 0?void 0:e[t])!=null&&(this.setInputSummary({keyName:t}),Un.reset(),s[t].call(this,n))}if(Jc(n)){const s=String.fromCharCode(n.keyCode).toLowerCase();if(s){var i;const c=["alt","shift"].map(v=>{if(n["".concat(v,"Key")])return v}).filter(v=>v);c.push(s),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(c)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;const t=kg(n);var e,i;return t?((e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){const{data:t}=n,{textAdded:e}=this.inputSummary;if(e&&e!==t&&e.toUpperCase()===t){var i;const s=this.getSelectedRange();return this.setSelectedRange([s[0],s[1]+e.length]),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(s)}},dragenter(n){n.preventDefault()},dragstart(n){var t,e;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidStartDrag)===null||e===void 0?void 0:e.call(t)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();const i={x:n.clientX,y:n.clientY};var t,e;if(!Cr(i,this.draggingPoint))return this.draggingPoint=i,(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidReceiveDragOverPoint)===null||e===void 0?void 0:e.call(t,this.draggingPoint)}},dragend(n){var t,e;(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidCancelDrag)===null||e===void 0||e.call(t),this.draggedRange=null,this.draggingPoint=null},drop(n){var t,e;n.preventDefault();const i=(t=n.dataTransfer)===null||t===void 0?void 0:t.files,s=n.dataTransfer.getData("application/x-trix-document"),c={x:n.clientX,y:n.clientY};if((e=this.responder)===null||e===void 0||e.setLocationRangeFromPointRange(c),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var v,x;(v=this.delegate)===null||v===void 0||v.inputControllerWillMoveText(),(x=this.responder)===null||x===void 0||x.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(s){var D;const B=Qe.fromJSONString(s);(D=this.responder)===null||D===void 0||D.insertDocument(B),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){const t=n.clipboardData||n.testClipboardData,e={clipboard:t};if(!t||Og(n))return void this.getPastedHTMLUsingHiddenElement(f=>{var y,b,u;return e.type="text/html",e.html=f,(y=this.delegate)===null||y===void 0||y.inputControllerWillPaste(e),(b=this.responder)===null||b===void 0||b.insertHTML(e.html),this.requestRender(),(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(e)});const i=t.getData("URL"),s=t.getData("text/html"),c=t.getData("public.url-name");if(i){var v,x,D;let f;e.type="text/html",f=c?Za(c).trim():i,e.html=this.createLinkHTML(i,f),(v=this.delegate)===null||v===void 0||v.inputControllerWillPaste(e),this.setInputSummary({textAdded:f,didDelete:this.selectionIsExpanded()}),(x=this.responder)===null||x===void 0||x.insertHTML(e.html),this.requestRender(),(D=this.delegate)===null||D===void 0||D.inputControllerDidPaste(e)}else if(Xc(t)){var B,U,tt;e.type="text/plain",e.string=t.getData("text/plain"),(B=this.delegate)===null||B===void 0||B.inputControllerWillPaste(e),this.setInputSummary({textAdded:e.string,didDelete:this.selectionIsExpanded()}),(U=this.responder)===null||U===void 0||U.insertString(e.string),this.requestRender(),(tt=this.delegate)===null||tt===void 0||tt.inputControllerDidPaste(e)}else if(s){var ct,at,nt;e.type="text/html",e.html=s,(ct=this.delegate)===null||ct===void 0||ct.inputControllerWillPaste(e),(at=this.responder)===null||at===void 0||at.insertHTML(e.html),this.requestRender(),(nt=this.delegate)===null||nt===void 0||nt.inputControllerDidPaste(e)}else if(Array.from(t.types).includes("Files")){var X,K;const f=(X=t.items)===null||X===void 0||(X=X[0])===null||X===void 0||(K=X.getAsFile)===null||K===void 0?void 0:K.call(X);if(f){var C,T,p;const y=_g(f);!f.name&&y&&(f.name="pasted-file-".concat(++Tg,".").concat(y)),e.type="File",e.file=f,(C=this.delegate)===null||C===void 0||C.inputControllerWillAttachFiles(),(T=this.responder)===null||T===void 0||T.insertFile(e.file),this.requestRender(),(p=this.delegate)===null||p===void 0||p.inputControllerDidPaste(e)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),Ue(ji,"keys",{backspace(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var t,e;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var t,e;return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var t,e;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),ji.proxyMethod("responder?.getSelectedRange"),ji.proxyMethod("responder?.setSelectedRange"),ji.proxyMethod("responder?.expandSelectionInDirection"),ji.proxyMethod("responder?.selectionIsInCursorTarget"),ji.proxyMethod("responder?.selectionIsExpanded");const _g=n=>{var t;return(t=n.type)===null||t===void 0||(t=t.match(/\/(\w+)$/))===null||t===void 0?void 0:t[1]},Lg=!((ta=" ".codePointAt)===null||ta===void 0||!ta.call(" ",0)),kg=function(n){if(n.key&&Lg&&n.key.codePointAt(0)===n.keyCode)return n.key;{let t;if(n.which===null?t=n.keyCode:n.which!==0&&n.charCode!==0&&(t=n.charCode),t!=null&&wu[t]!=="escape")return fs.fromCodepoints([t]).toString()}},Og=function(n){const t=n.clipboardData;if(t){if(t.types.includes("text/html")){for(const e of t.types){const i=/^CorePasteboardFlavorType/.test(e),s=/^dyn\./.test(e)&&t.getData(e);if(i||s)return!0}return!1}{const e=t.types.includes("com.apple.webarchive"),i=t.types.includes("com.apple.flat-rtfd");return e||i}}};class fn extends se{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const e=this.selectPlaceholder();e&&(this.forgetPlaceholder(),this.range=e)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(s=this.responder)===null||s===void 0||s.insertString(this.data.end),(c=this.responder)===null||c===void 0?void 0:c.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,i,s,c}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!Cg.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((e=this.data.end)===null||e===void 0?void 0:e.length)>0&&this.range}}fn.proxyMethod("inputController.setInputSummary"),fn.proxyMethod("inputController.requestRender"),fn.proxyMethod("inputController.requestReparse"),fn.proxyMethod("responder?.selectionIsExpanded"),fn.proxyMethod("responder?.insertPlaceholder"),fn.proxyMethod("responder?.selectPlaceholder"),fn.proxyMethod("responder?.forgetPlaceholder");class cs extends Ao{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidAllowUnhandledInput)===null||e===void 0?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(e=this.delegate)===null||e===void 0||e.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.insertString(e,i)})}toggleAttributeIfSupported(t){var e;if(Ea().includes(t))return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,e){var i;if(Ea().includes(t))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.setCurrentAttribute(t,e)})}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;e&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());const s=()=>{var v;return(v=this.responder)===null||v===void 0?void 0:v.deleteInDirection(t)},c=this.getTargetDOMRange({minLength:this.composing?1:2});return c?this.withTargetDOMRange(c,s):s()}withTargetDOMRange(t,e){var i;return typeof t=="function"&&(e=t,t=this.getTargetDOMRange()),t?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(t,e.bind(this)):(Un.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const s=(t=(e=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(e);if(s&&s.length){const c=Rg(s[0]);if(i===0||c.toString().length>=i)return c}}withEvent(t,e){let i;this.event=t;try{i=e.call(this)}finally{this.event=null}return i}}Ue(cs,"events",{keydown(n){if(Jc(n)){var t;const e=Ng(n);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(e)&&n.preventDefault()}else{let e=n.key;n.altKey&&(e+="+Alt"),n.shiftKey&&(e+="+Shift");const i=this.constructor.keys[e];if(i)return this.withEvent(n,i)}},paste(n){var t;let e;const i=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("URL");return xu(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):Mg(n)?(n.preventDefault(),e={type:"text/plain",string:n.clipboardData.getData("text/plain")},(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),(c=this.responder)===null||c===void 0||c.insertString(e.string),this.render(),(v=this.delegate)===null||v===void 0?void 0:v.inputControllerDidPaste(e)):i?(n.preventDefault(),e={type:"text/html",html:this.createLinkHTML(i)},(x=this.delegate)===null||x===void 0||x.inputControllerWillPaste(e),(D=this.responder)===null||D===void 0||D.insertHTML(e.html),this.render(),(B=this.delegate)===null||B===void 0?void 0:B.inputControllerDidPaste(e)):void 0;var s,c,v,x,D,B},beforeinput(n){const t=this.constructor.inputTypes[n.inputType];t&&(this.withEvent(n,t),this.scheduleRender())},input(n){Un.reset()},dragstart(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange(),point:ia(n)})},dragenter(n){ea(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();const e=ia(n);var t;if(!Cr(e,this.dragging.point))return this.dragging.point=e,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(e)}else ea(n)&&n.preventDefault()},drop(n){var t,e;if(this.dragging)return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(e=this.responder)===null||e===void 0||e.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(ea(n)){var i;n.preventDefault();const s=ia(n);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(s),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,ys.recentAndroid||this.scheduleRender())}}),Ue(cs,"keys",{ArrowLeft(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var n,t,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.deleteInDirection("backward"),this.render()},Tab(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),Ue(cs,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const e in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(e)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const n=this.deleteByDragRange;var t;if(n)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.moveTextFromRange(n)})},insertFromPaste(){const{dataTransfer:n}=this.event,t={dataTransfer:n},e=n.getData("URL"),i=n.getData("text/html");if(e){var s;let D;this.event.preventDefault(),t.type="text/html";const B=n.getData("public.url-name");D=B?Za(B).trim():e,t.html=this.createLinkHTML(e,D),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var U;return(U=this.responder)===null||U===void 0?void 0:U.insertHTML(t.html)}),this.afterRender=()=>{var U;return(U=this.delegate)===null||U===void 0?void 0:U.inputControllerDidPaste(t)}}else if(Xc(n)){var c;t.type="text/plain",t.string=n.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var D;return(D=this.responder)===null||D===void 0?void 0:D.insertString(t.string)}),this.afterRender=()=>{var D;return(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(t)}}else if(Dg(this.event)){var v;t.type="File",t.file=n.files[0],(v=this.delegate)===null||v===void 0||v.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var D;return(D=this.responder)===null||D===void 0?void 0:D.insertFile(t.file)}),this.afterRender=()=>{var D;return(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(t)}}else if(i){var x;this.event.preventDefault(),t.type="text/html",t.html=i,(x=this.delegate)===null||x===void 0||x.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var D;return(D=this.responder)===null||D===void 0?void 0:D.insertHTML(t.html)}),this.afterRender=()=>{var D;return(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(t)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){const n=this.event.dataTransfer.getData("text/plain"),t=this.event.getTargetRanges()[0];this.withTargetDOMRange(t,()=>{this.insertString(n,{updatePosition:!1})})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const Rg=function(n){const t=document.createRange();return t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),t},ea=n=>{var t;return Array.from(((t=n.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},Dg=n=>{var t;return((t=n.dataTransfer.files)===null||t===void 0?void 0:t[0])&&!xu(n)&&!(e=>{let{dataTransfer:i}=e;return i.types.includes("Files")&&i.types.includes("text/html")&&i.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(n)},xu=function(n){const t=n.clipboardData;if(t)return Array.from(t.types).filter(e=>e.match(/file/i)).length===t.types.length&&t.files.length>=1},Mg=function(n){const t=n.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},Ng=function(n){const t=[];return n.altKey&&t.push("alt"),n.shiftKey&&t.push("shift"),t.push(n.key),t},ia=n=>({x:n.clientX,y:n.clientY}),_a="[data-trix-attribute]",La="[data-trix-action]",Pg="".concat(_a,", ").concat(La),Eo="[data-trix-dialog]",Ig="".concat(Eo,"[data-trix-active]"),Fg="".concat(Eo," [data-trix-method]"),ec="".concat(Eo," [data-trix-input]"),ic=(n,t)=>(t||(t=mr(n)),n.querySelector("[data-trix-input][name='".concat(t,"']"))),nc=n=>n.getAttribute("data-trix-action"),mr=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute");class Su extends se{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),Xt("mousedown",{onElement:this.element,matchingSelector:La,withCallback:this.didClickActionButton}),Xt("mousedown",{onElement:this.element,matchingSelector:_a,withCallback:this.didClickAttributeButton}),Xt("click",{onElement:this.element,matchingSelector:Pg,preventDefault:!0}),Xt("click",{onElement:this.element,matchingSelector:Fg,withCallback:this.didClickDialogButton}),Xt("keydown",{onElement:this.element,matchingSelector:ec,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const s=nc(e);return this.getDialog(s)?this.toggleDialog(s):(c=this.delegate)===null||c===void 0?void 0:c.toolbarDidInvokeAction(s,e);var c}didClickAttributeButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const s=mr(e);var c;return this.getDialog(s)?this.toggleDialog(s):(c=this.delegate)===null||c===void 0||c.toolbarDidToggleAttribute(s),this.refreshAttributeButtons()}didClickDialogButton(t,e){const i=An(e,{matchingSelector:Eo});return this[e.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(t,e){if(t.keyCode===13){t.preventDefault();const i=e.getAttribute("name"),s=this.getDialog(i);this.setAttribute(s)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,e)=>{t.disabled=this.actions[e]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll(La)).map(e=>t(e,nc(e)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,e)=>(t.disabled=this.attributes[e]===!1,this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(_a)).map(e=>t(e,mr(e)))}applyKeyboardCommand(t){const e=JSON.stringify(t.sort());for(const i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const s=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(s.sort())===e)return ss("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(t){const e=this.getDialog(t);if(e)return e.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,i;this.hideDialog(),(e=this.delegate)===null||e===void 0||e.toolbarWillShowDialog();const s=this.getDialog(t);s.setAttribute("data-trix-active",""),s.classList.add("trix-active"),Array.from(s.querySelectorAll("input[disabled]")).forEach(v=>{v.removeAttribute("disabled")});const c=mr(s);if(c){const v=ic(s,t);v&&(v.value=this.attributes[c]||"",v.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(t)}setAttribute(t){const e=mr(t),i=ic(t,e);return i.willValidate&&!i.checkValidity()?(i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus()):((s=this.delegate)===null||s===void 0||s.toolbarDidUpdateAttribute(e,i.value),this.hideDialog());var s}removeAttribute(t){var e;const i=mr(t);return(e=this.delegate)===null||e===void 0||e.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const t=this.element.querySelector(Ig);var e;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(e=this.delegate)===null||e===void 0?void 0:e.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(ec)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class us extends vu{constructor(t){let{editorElement:e,document:i,html:s}=t;super(...arguments),this.editorElement=e,this.selectionManager=new Fn(this.editorElement),this.selectionManager.delegate=this,this.composition=new gn,this.composition.delegate=this,this.attachmentManager=new au(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Ja.getLevel()===2?new cs(this.editorElement):new ji(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new bu(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Su(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new hu(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(s)}registerSelectionManager(){return Un.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Un.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){const e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!uo(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,e){return this.invokeAction(t,e)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((e=this.actions[t])===null||e===void 0||(e=e.test)===null||e===void 0||!e.call(this));var e}invokeAction(t,e){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:e}):(i=this.actions[t])===null||i===void 0||(i=i.perform)===null||i===void 0?void 0:i.call(this);var i}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Cr(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(s=>{const{document:c,selectedRange:v}=t;t=s.call(this.editor,t)||{},t.document||(t.document=c),t.selectedRange||(t.selectedRange=v)}),e=t,i=this.composition.getSnapshot(),!uo(e.selectedRange,i.selectedRange)||!e.document.isEqualTo(i.document))return this.composition.loadSnapshot(t);var e,i}updateInputElement(){const t=function(e,i){const s=dg[i];if(s)return s(e);throw new Error("unknown content type: ".concat(i))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyEditorElement(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const e=ie(t),i=this.selectionManager.getLocationRange();if(e||!Wi(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return Wi(t)?t[0].index:t}getTimeContext(){return va.interval>0?Math.floor(new Date().getTime()/va.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Ue(us,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Ja.pickFiles(this.editor.insertFiles)}}}),us.proxyMethod("getSelectionManager().setLocationRange"),us.proxyMethod("getSelectionManager().getLocationRange");var Bg=Object.freeze({__proto__:null,AttachmentEditorController:mu,CompositionController:bu,Controller:vu,EditorController:us,InputController:Ao,Level0InputController:ji,Level2InputController:cs,ToolbarController:Su}),jg=Object.freeze({__proto__:null,MutationObserver:Au,SelectionChangeObserver:Gc}),qg=Object.freeze({__proto__:null,FileVerificationOperation:Eu,ImagePreloadOperation:ru});Kc("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class Cu extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=zc.getDefaultHTML())}}let Wg=0;const Hg=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.times=1,Xt(t,e)}("focus",{onElement:n,withCallback:()=>Vg(n)})},Vg=function(n){return $g(n),Ug()},$g=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),Xt("mscontrolselect",{onElement:n,preventDefault:!0})},Ug=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"DefaultParagraphSeparator")){const{tagName:i}=_e.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},rc=ys.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};Kc("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Wn,` figcaption textarea {
    resize: none;
}

%t `).concat(Wn,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Wn,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(rc.display,` !important;
    width: `).concat(rc.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));class Tu extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++Wg),this.trixId)}get labels(){const t=[];this.id&&this.ownerDocument&&t.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));const e=An(this,{matchingSelector:"label"});return e&&[this,null].includes(e.control)&&t.push(e),t}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const e="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",e);const i=kt("trix-toolbar",{id:e});return this.parentNode.insertBefore(i,this),i}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const i=kt("input",{type:"hidden",id:e});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var e;this.defaultValue=t,(e=this.editor)===null||e===void 0||e.loadHTML(this.defaultValue)}notify(t,e){if(this.editorController)return ss("trix-".concat(t),{onElement:this,attributes:e})}setInputElementValue(t){this.inputElement&&(this.inputElement.value=t)}connectedCallback(){this.hasAttribute("data-trix-internal")||(Hg(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const e=function(){const i=Array.from(t.labels).map(c=>{if(!c.contains(t))return c.textContent}).filter(c=>c),s=i.join(" ");return s?t.setAttribute("aria-label",s):t.removeAttribute("aria-label")};e(),Xt("focus",{onElement:t,withCallback:e})}(this),this.editorController||(ss("trix-before-initialize",{onElement:this}),this.editorController=new us({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>ss("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;return(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(t){if(!t.defaultPrevented&&t.target===this.form)return this.reset()}clickBubbled(t){if(t.defaultPrevented||this.contains(t.target))return;const e=An(t.target,{matchingSelector:"label"});return e&&Array.from(this.labels).includes(e)?this.focus():void 0}reset(){this.value=this.defaultValue}}const Hi={VERSION:Ap,config:As,core:fg,models:gu,views:vg,controllers:Bg,observers:jg,operations:qg,elements:Object.freeze({__proto__:null,TrixEditorElement:Tu,TrixToolbarElement:Cu}),filters:Object.freeze({__proto__:null,Filter:cu,attachmentGalleryFilter:uu})};Object.assign(Hi,gu),window.Trix=Hi,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Cu),customElements.get("trix-editor")||customElements.define("trix-editor",Tu)},0);const zg={en:{cancel:"Cancel",confirm:"Confirm",all_items:"All"},"pt-BR":{cancel:"Cancelar",confirm:"Confirmar",all_items:"Todos",select:"Selecione",attachFiles:"Anexar Arquivo",bold:"Negrito",bullets:"Marcadores",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Adicione um subtítulo…",code:"Código",heading1:"Cabeçalho",indent:"Aumentar Nível",italic:"Itálico",link:"Link",numbers:"Números",outdent:"Diminuir Nível",quote:"Citação",redo:"Repetir",remove:"Remover",strike:"Tachado",undo:"Desfazer",unlink:"Remover Link",url:"URL",urlPlaceholder:"Entre com uma URL...",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB",users:"Usuários",clubs:"Clubes",selected:"Selecionados"},es:{cancel:"Cancelar",confirm:"Confirmar",all_items:"Todos",attachFiles:"Adjuntar archivo",bold:"Negrita",bullets:"Marcadores",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Añadir un subtítulo…",code:"Código",heading1:"Cabecera",indent:"Aumentar Nível",italic:"Itálico",link:"Link",numbers:"Números",outdent:"Diminuir Nível",quote:"Comillas",redo:"Repetir",remove:"Retirar",strike:"Tachado",undo:"Deshacer",unlink:"Remover Enlace",url:"URL",urlPlaceholder:"Escriba una URL...",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}};window.Trix=Hi;const Kg=document.querySelector("body").getAttribute("data-locale");Hi.config.toolbar.getDefaultHTML=Jg;addEventListener("trix-before-initialize",()=>Object.assign(Hi.config.lang,zg[Kg]));addEventListener("trix-initialize",Xg,{once:!0});function Xg(n){const t=document.querySelectorAll("trix-toolbar"),e=Hi.config.toolbar.getDefaultHTML();t.forEach(i=>i.innerHTML=e)}Hi.config.textAttributes.underline={tagName:"u"};Hi.config;function Jg(){const{lang:n}=Hi.config;return`
  <div class="trix-button-row">
     <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
       <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="${n.bold}" tabindex="-1">#{lang.bold}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="${n.italic}" tabindex="-1">${n.italic}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="${n.strike}" tabindex="-1">${n.strike}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-underline" data-trix-attribute="underline" data-trix-key="u" title="underline" tabindex="-1">${n.underline}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="${n.link}" tabindex="-1">${n.link}</button>
     </span>
     <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
       <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="${n.heading1}" tabindex="-1">${n.heading1}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="${n.quote}" tabindex="-1">${n.quote}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="${n.bullets}" tabindex="-1">${n.bullets}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="${n.numbers}" tabindex="-1">${n.numbers}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="${n.outdent}" tabindex="-1">${n.outdent}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="${n.indent}" tabindex="-1">${n.indent}</button>
     </span>
     <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
       <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="${n.attachFiles}" tabindex="-1">${n.attachFiles}</button>
     </span>
     <span class="trix-button-group-spacer"></span>
     <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
       <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="${n.undo}" tabindex="-1">${n.undo}</button>
       <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="${n.redo}" tabindex="-1">${n.redo}</button>
     </span>
   </div>
   <div class="trix-dialogs" data-trix-dialogs>
     <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
       <div class="trix-dialog__link-fields">
         <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="${n.urlPlaceholder}" aria-label="${n.url}" data-trix-input>
         <div class="trix-button-group">
           <input type="button" class="trix-button trix-button--dialog" value="${n.link}" data-trix-method="setAttribute">
           <input type="button" class="trix-button trix-button--dialog" value="${n.unlink}" data-trix-method="removeAttribute">
         </div>
       </div>
     </div>
   </div>
`}var _u={exports:{}};(function(n,t){(function(e){n.exports=e()})(function(e){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(C,T){var p=C[0],f=C[1],y=C[2],b=C[3];p+=(f&y|~f&b)+T[0]-680876936|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[1]-389564586|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[2]+606105819|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[3]-1044525330|0,f=(f<<22|f>>>10)+y|0,p+=(f&y|~f&b)+T[4]-176418897|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[5]+1200080426|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[6]-1473231341|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[7]-45705983|0,f=(f<<22|f>>>10)+y|0,p+=(f&y|~f&b)+T[8]+1770035416|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[9]-1958414417|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[10]-42063|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[11]-1990404162|0,f=(f<<22|f>>>10)+y|0,p+=(f&y|~f&b)+T[12]+1804603682|0,p=(p<<7|p>>>25)+f|0,b+=(p&f|~p&y)+T[13]-40341101|0,b=(b<<12|b>>>20)+p|0,y+=(b&p|~b&f)+T[14]-1502002290|0,y=(y<<17|y>>>15)+b|0,f+=(y&b|~y&p)+T[15]+1236535329|0,f=(f<<22|f>>>10)+y|0,p+=(f&b|y&~b)+T[1]-165796510|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[6]-1069501632|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[11]+643717713|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[0]-373897302|0,f=(f<<20|f>>>12)+y|0,p+=(f&b|y&~b)+T[5]-701558691|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[10]+38016083|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[15]-660478335|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[4]-405537848|0,f=(f<<20|f>>>12)+y|0,p+=(f&b|y&~b)+T[9]+568446438|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[14]-1019803690|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[3]-187363961|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[8]+1163531501|0,f=(f<<20|f>>>12)+y|0,p+=(f&b|y&~b)+T[13]-1444681467|0,p=(p<<5|p>>>27)+f|0,b+=(p&y|f&~y)+T[2]-51403784|0,b=(b<<9|b>>>23)+p|0,y+=(b&f|p&~f)+T[7]+1735328473|0,y=(y<<14|y>>>18)+b|0,f+=(y&p|b&~p)+T[12]-1926607734|0,f=(f<<20|f>>>12)+y|0,p+=(f^y^b)+T[5]-378558|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[8]-2022574463|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[11]+1839030562|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[14]-35309556|0,f=(f<<23|f>>>9)+y|0,p+=(f^y^b)+T[1]-1530992060|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[4]+1272893353|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[7]-155497632|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[10]-1094730640|0,f=(f<<23|f>>>9)+y|0,p+=(f^y^b)+T[13]+681279174|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[0]-358537222|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[3]-722521979|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[6]+76029189|0,f=(f<<23|f>>>9)+y|0,p+=(f^y^b)+T[9]-640364487|0,p=(p<<4|p>>>28)+f|0,b+=(p^f^y)+T[12]-421815835|0,b=(b<<11|b>>>21)+p|0,y+=(b^p^f)+T[15]+530742520|0,y=(y<<16|y>>>16)+b|0,f+=(y^b^p)+T[2]-995338651|0,f=(f<<23|f>>>9)+y|0,p+=(y^(f|~b))+T[0]-198630844|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[7]+1126891415|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[14]-1416354905|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[5]-57434055|0,f=(f<<21|f>>>11)+y|0,p+=(y^(f|~b))+T[12]+1700485571|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[3]-1894986606|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[10]-1051523|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[1]-2054922799|0,f=(f<<21|f>>>11)+y|0,p+=(y^(f|~b))+T[8]+1873313359|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[15]-30611744|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[6]-1560198380|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[13]+1309151649|0,f=(f<<21|f>>>11)+y|0,p+=(y^(f|~b))+T[4]-145523070|0,p=(p<<6|p>>>26)+f|0,b+=(f^(p|~y))+T[11]-1120210379|0,b=(b<<10|b>>>22)+p|0,y+=(p^(b|~f))+T[2]+718787259|0,y=(y<<15|y>>>17)+b|0,f+=(b^(y|~p))+T[9]-343485551|0,f=(f<<21|f>>>11)+y|0,C[0]=p+C[0]|0,C[1]=f+C[1]|0,C[2]=y+C[2]|0,C[3]=b+C[3]|0}function c(C){var T=[],p;for(p=0;p<64;p+=4)T[p>>2]=C.charCodeAt(p)+(C.charCodeAt(p+1)<<8)+(C.charCodeAt(p+2)<<16)+(C.charCodeAt(p+3)<<24);return T}function v(C){var T=[],p;for(p=0;p<64;p+=4)T[p>>2]=C[p]+(C[p+1]<<8)+(C[p+2]<<16)+(C[p+3]<<24);return T}function x(C){var T=C.length,p=[1732584193,-271733879,-1732584194,271733878],f,y,b,u,ot,et;for(f=64;f<=T;f+=64)s(p,c(C.substring(f-64,f)));for(C=C.substring(f-64),y=C.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0;f<y;f+=1)b[f>>2]|=C.charCodeAt(f)<<(f%4<<3);if(b[f>>2]|=128<<(f%4<<3),f>55)for(s(p,b),f=0;f<16;f+=1)b[f]=0;return u=T*8,u=u.toString(16).match(/(.*?)(.{0,8})$/),ot=parseInt(u[2],16),et=parseInt(u[1],16)||0,b[14]=ot,b[15]=et,s(p,b),p}function D(C){var T=C.length,p=[1732584193,-271733879,-1732584194,271733878],f,y,b,u,ot,et;for(f=64;f<=T;f+=64)s(p,v(C.subarray(f-64,f)));for(C=f-64<T?C.subarray(f-64):new Uint8Array(0),y=C.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0;f<y;f+=1)b[f>>2]|=C[f]<<(f%4<<3);if(b[f>>2]|=128<<(f%4<<3),f>55)for(s(p,b),f=0;f<16;f+=1)b[f]=0;return u=T*8,u=u.toString(16).match(/(.*?)(.{0,8})$/),ot=parseInt(u[2],16),et=parseInt(u[1],16)||0,b[14]=ot,b[15]=et,s(p,b),p}function B(C){var T="",p;for(p=0;p<4;p+=1)T+=i[C>>p*8+4&15]+i[C>>p*8&15];return T}function U(C){var T;for(T=0;T<C.length;T+=1)C[T]=B(C[T]);return C.join("")}U(x("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function C(T,p){return T=T|0||0,T<0?Math.max(T+p,0):Math.min(T,p)}ArrayBuffer.prototype.slice=function(T,p){var f=this.byteLength,y=C(T,f),b=f,u,ot,et,Wt;return p!==e&&(b=C(p,f)),y>b?new ArrayBuffer(0):(u=b-y,ot=new ArrayBuffer(u),et=new Uint8Array(ot),Wt=new Uint8Array(this,y,u),et.set(Wt),ot)}}();function tt(C){return/[\u0080-\uFFFF]/.test(C)&&(C=unescape(encodeURIComponent(C))),C}function ct(C,T){var p=C.length,f=new ArrayBuffer(p),y=new Uint8Array(f),b;for(b=0;b<p;b+=1)y[b]=C.charCodeAt(b);return T?y:f}function at(C){return String.fromCharCode.apply(null,new Uint8Array(C))}function nt(C,T,p){var f=new Uint8Array(C.byteLength+T.byteLength);return f.set(new Uint8Array(C)),f.set(new Uint8Array(T),C.byteLength),f}function X(C){var T=[],p=C.length,f;for(f=0;f<p-1;f+=2)T.push(parseInt(C.substr(f,2),16));return String.fromCharCode.apply(String,T)}function K(){this.reset()}return K.prototype.append=function(C){return this.appendBinary(tt(C)),this},K.prototype.appendBinary=function(C){this._buff+=C,this._length+=C.length;var T=this._buff.length,p;for(p=64;p<=T;p+=64)s(this._hash,c(this._buff.substring(p-64,p)));return this._buff=this._buff.substring(p-64),this},K.prototype.end=function(C){var T=this._buff,p=T.length,f,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b;for(f=0;f<p;f+=1)y[f>>2]|=T.charCodeAt(f)<<(f%4<<3);return this._finish(y,p),b=U(this._hash),C&&(b=X(b)),this.reset(),b},K.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},K.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},K.prototype.setState=function(C){return this._buff=C.buff,this._length=C.length,this._hash=C.hash,this},K.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},K.prototype._finish=function(C,T){var p=T,f,y,b;if(C[p>>2]|=128<<(p%4<<3),p>55)for(s(this._hash,C),p=0;p<16;p+=1)C[p]=0;f=this._length*8,f=f.toString(16).match(/(.*?)(.{0,8})$/),y=parseInt(f[2],16),b=parseInt(f[1],16)||0,C[14]=y,C[15]=b,s(this._hash,C)},K.hash=function(C,T){return K.hashBinary(tt(C),T)},K.hashBinary=function(C,T){var p=x(C),f=U(p);return T?X(f):f},K.ArrayBuffer=function(){this.reset()},K.ArrayBuffer.prototype.append=function(C){var T=nt(this._buff.buffer,C),p=T.length,f;for(this._length+=C.byteLength,f=64;f<=p;f+=64)s(this._hash,v(T.subarray(f-64,f)));return this._buff=f-64<p?new Uint8Array(T.buffer.slice(f-64)):new Uint8Array(0),this},K.ArrayBuffer.prototype.end=function(C){var T=this._buff,p=T.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y,b;for(y=0;y<p;y+=1)f[y>>2]|=T[y]<<(y%4<<3);return this._finish(f,p),b=U(this._hash),C&&(b=X(b)),this.reset(),b},K.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},K.ArrayBuffer.prototype.getState=function(){var C=K.prototype.getState.call(this);return C.buff=at(C.buff),C},K.ArrayBuffer.prototype.setState=function(C){return C.buff=ct(C.buff,!0),K.prototype.setState.call(this,C)},K.ArrayBuffer.prototype.destroy=K.prototype.destroy,K.ArrayBuffer.prototype._finish=K.prototype._finish,K.ArrayBuffer.hash=function(C,T){var p=D(new Uint8Array(C)),f=U(p);return T?X(f):f},K})})(_u);var Yg=_u.exports;const Gg=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;class rl{static create(t,e){new rl(t).create(e)}constructor(t){this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(t){this.callback=t,this.md5Buffer=new Yg.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",e=>this.fileReaderDidLoad(e)),this.fileReader.addEventListener("error",e=>this.fileReaderDidError(e)),this.readNextChunk()}fileReaderDidLoad(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){const e=this.md5Buffer.end(!0),i=btoa(e);this.callback(null,i)}}fileReaderDidError(t){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){const t=this.chunkIndex*this.chunkSize,e=Math.min(t+this.chunkSize,this.file.size),i=Gg.call(this.file,t,e);return this.fileReader.readAsArrayBuffer(i),this.chunkIndex++,!0}else return!1}}function Qg(n){const t=Lu(document.head,`meta[name="${n}"]`);if(t)return t.getAttribute("content")}function Zg(n,t){typeof n=="string"&&(t=n,n=document);const e=n.querySelectorAll(t);return Ou(e)}function Lu(n,t){return typeof n=="string"&&(t=n,n=document),n.querySelector(t)}function ku(n,t,e={}){const{disabled:i}=n,{bubbles:s,cancelable:c,detail:v}=e,x=document.createEvent("Event");x.initEvent(t,s||!0,c||!0),x.detail=v||{};try{n.disabled=!1,n.dispatchEvent(x)}finally{n.disabled=i}return x}function Ou(n){return Array.isArray(n)?n:Array.from?Array.from(n):[].slice.call(n)}class tm{constructor(t,e,i,s={}){this.file=t,this.attributes={filename:t.name,content_type:t.type||"application/octet-stream",byte_size:t.size,checksum:e},this.xhr=new XMLHttpRequest,this.xhr.open("POST",i,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(s).forEach(v=>{this.xhr.setRequestHeader(v,s[v])});const c=Qg("csrf-token");c!=null&&this.xhr.setRequestHeader("X-CSRF-Token",c),this.xhr.addEventListener("load",v=>this.requestDidLoad(v)),this.xhr.addEventListener("error",v=>this.requestDidError(v))}get status(){return this.xhr.status}get response(){const{responseType:t,response:e}=this.xhr;return t=="json"?e:JSON.parse(e)}create(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(t){if(this.status>=200&&this.status<300){const{response:e}=this,{direct_upload:i}=e;delete e.direct_upload,this.attributes=e,this.directUploadData=i,this.callback(null,this.toJSON())}else this.requestDidError(t)}requestDidError(t){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){const t={};for(const e in this.attributes)t[e]=this.attributes[e];return t}}class em{constructor(t){this.blob=t,this.file=t.file;const{url:e,headers:i}=t.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",e,!0),this.xhr.responseType="text";for(const s in i)this.xhr.setRequestHeader(s,i[s]);this.xhr.addEventListener("load",s=>this.requestDidLoad(s)),this.xhr.addEventListener("error",s=>this.requestDidError(s))}create(t){this.callback=t,this.xhr.send(this.file.slice())}requestDidLoad(t){const{status:e,response:i}=this.xhr;e>=200&&e<300?this.callback(null,i):this.requestDidError(t)}requestDidError(t){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}}let im=0;class Ru{constructor(t,e,i,s={}){this.id=++im,this.file=t,this.url=e,this.delegate=i,this.customHeaders=s}create(t){rl.create(this.file,(e,i)=>{if(e){t(e);return}const s=new tm(this.file,i,this.url,this.customHeaders);sc(this.delegate,"directUploadWillCreateBlobWithXHR",s.xhr),s.create(c=>{if(c)t(c);else{const v=new em(s);sc(this.delegate,"directUploadWillStoreFileWithXHR",v.xhr),v.create(x=>{x?t(x):t(null,s.toJSON())})}})})}}function sc(n,t,...e){if(n&&typeof n[t]=="function")return n[t](...e)}class nm{constructor(t,e){this.input=t,this.file=e,this.directUpload=new Ru(this.file,this.url,this),this.dispatch("initialize")}start(t){const e=document.createElement("input");e.type="hidden",e.name=this.input.name,this.input.insertAdjacentElement("beforebegin",e),this.dispatch("start"),this.directUpload.create((i,s)=>{i?(e.parentNode.removeChild(e),this.dispatchError(i)):e.value=s.signed_id,this.dispatch("end"),t(i)})}uploadRequestDidProgress(t){const e=t.loaded/t.total*100;e&&this.dispatch("progress",{progress:e})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(t,e={}){return e.file=this.file,e.id=this.directUpload.id,ku(this.input,`direct-upload:${t}`,{detail:e})}dispatchError(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}directUploadWillCreateBlobWithXHR(t){this.dispatch("before-blob-request",{xhr:t})}directUploadWillStoreFileWithXHR(t){this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",e=>this.uploadRequestDidProgress(e))}}const rm="input[type=file][data-direct-upload-url]:not([disabled])";class sm{constructor(t){this.form=t,this.inputs=Zg(t,rm).filter(e=>e.files.length)}start(t){const e=this.createDirectUploadControllers(),i=()=>{const s=e.shift();s?s.start(c=>{c?(t(c),this.dispatch("end")):i()}):(t(),this.dispatch("end"))};this.dispatch("start"),i()}createDirectUploadControllers(){const t=[];return this.inputs.forEach(e=>{Ou(e.files).forEach(i=>{const s=new nm(e,i);t.push(s)})}),t}dispatch(t,e={}){return ku(this.form,`direct-uploads:${t}`,{detail:e})}}const na="data-direct-uploads-processing",ka=new WeakMap;let oc=!1;function om(){oc||(oc=!0,document.addEventListener("click",am,!0),document.addEventListener("submit",lm,!0),document.addEventListener("ajax:before",cm))}function am(n){const t=n.target.closest("button, input");t&&t.type==="submit"&&t.form&&ka.set(t.form,t)}function lm(n){Du(n)}function cm(n){n.target.tagName=="FORM"&&Du(n)}function Du(n){const t=n.target;if(t.hasAttribute(na)){n.preventDefault();return}const e=new sm(t),{inputs:i}=e;i.length&&(n.preventDefault(),t.setAttribute(na,""),i.forEach(hm),e.start(s=>{t.removeAttribute(na),s?i.forEach(dm):um(t)}))}function um(n){let t=ka.get(n)||Lu(n,"input[type=submit], button[type=submit]");if(t){const{disabled:e}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=e}else t=document.createElement("input"),t.type="submit",t.style.display="none",n.appendChild(t),t.click(),n.removeChild(t);ka.delete(n)}function hm(n){n.disabled=!0}function dm(n){n.disabled=!1}function fm(){window.ActiveStorage&&om()}setTimeout(fm,1);class pm{constructor(t,e){this.attachment=t,this.element=e,this.directUpload=new Ru(t.file,this.directUploadUrl,this)}start(){this.directUpload.create(this.directUploadDidComplete.bind(this))}directUploadWillStoreFileWithXHR(t){t.upload.addEventListener("progress",e=>{const i=e.loaded/e.total*100;this.attachment.setUploadProgress(i)})}directUploadDidComplete(t,e){if(t)throw new Error(`Direct upload failed: ${t}`);this.attachment.setAttributes({sgid:e.attachable_sgid,url:this.createBlobUrl(e.signed_id,e.filename)})}createBlobUrl(t,e){return this.blobUrlTemplate.replace(":signed_id",t).replace(":filename",encodeURIComponent(e))}get directUploadUrl(){return this.element.dataset.directUploadUrl}get blobUrlTemplate(){return this.element.dataset.blobUrlTemplate}}addEventListener("trix-attachment-add",n=>{const{attachment:t,target:e}=n;t.file&&new pm(t,e).start()});var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nu={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(n){(function(t,e){n.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}})(typeof window<"u"?window:io,function(t,e){var i=[],s=Object.getPrototypeOf,c=i.slice,v=i.flat?function(r){return i.flat.call(r)}:function(r){return i.concat.apply([],r)},x=i.push,D=i.indexOf,B={},U=B.toString,tt=B.hasOwnProperty,ct=tt.toString,at=ct.call(Object),nt={},X=function(o){return typeof o=="function"&&typeof o.nodeType!="number"&&typeof o.item!="function"},K=function(o){return o!=null&&o===o.window},C=t.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function p(r,o,l){l=l||C;var h,g,m=l.createElement("script");if(m.text=r,o)for(h in T)g=o[h]||o.getAttribute&&o.getAttribute(h),g&&m.setAttribute(h,g);l.head.appendChild(m).parentNode.removeChild(m)}function f(r){return r==null?r+"":typeof r=="object"||typeof r=="function"?B[U.call(r)]||"object":typeof r}var y="3.7.1",b=/HTML$/i,u=function(r,o){return new u.fn.init(r,o)};u.fn=u.prototype={jquery:y,constructor:u,length:0,toArray:function(){return c.call(this)},get:function(r){return r==null?c.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var o=u.merge(this.constructor(),r);return o.prevObject=this,o},each:function(r){return u.each(this,r)},map:function(r){return this.pushStack(u.map(this,function(o,l){return r.call(o,l,o)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(u.grep(this,function(r,o){return(o+1)%2}))},odd:function(){return this.pushStack(u.grep(this,function(r,o){return o%2}))},eq:function(r){var o=this.length,l=+r+(r<0?o:0);return this.pushStack(l>=0&&l<o?[this[l]]:[])},end:function(){return this.prevObject||this.constructor()},push:x,sort:i.sort,splice:i.splice},u.extend=u.fn.extend=function(){var r,o,l,h,g,m,E=arguments[0]||{},k=1,_=arguments.length,M=!1;for(typeof E=="boolean"&&(M=E,E=arguments[k]||{},k++),typeof E!="object"&&!X(E)&&(E={}),k===_&&(E=this,k--);k<_;k++)if((r=arguments[k])!=null)for(o in r)h=r[o],!(o==="__proto__"||E===h)&&(M&&h&&(u.isPlainObject(h)||(g=Array.isArray(h)))?(l=E[o],g&&!Array.isArray(l)?m=[]:!g&&!u.isPlainObject(l)?m={}:m=l,g=!1,E[o]=u.extend(M,m,h)):h!==void 0&&(E[o]=h));return E},u.extend({expando:"jQuery"+(y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var o,l;return!r||U.call(r)!=="[object Object]"?!1:(o=s(r),o?(l=tt.call(o,"constructor")&&o.constructor,typeof l=="function"&&ct.call(l)===at):!0)},isEmptyObject:function(r){var o;for(o in r)return!1;return!0},globalEval:function(r,o,l){p(r,{nonce:o&&o.nonce},l)},each:function(r,o){var l,h=0;if(ot(r))for(l=r.length;h<l&&o.call(r[h],h,r[h])!==!1;h++);else for(h in r)if(o.call(r[h],h,r[h])===!1)break;return r},text:function(r){var o,l="",h=0,g=r.nodeType;if(!g)for(;o=r[h++];)l+=u.text(o);return g===1||g===11?r.textContent:g===9?r.documentElement.textContent:g===3||g===4?r.nodeValue:l},makeArray:function(r,o){var l=o||[];return r!=null&&(ot(Object(r))?u.merge(l,typeof r=="string"?[r]:r):x.call(l,r)),l},inArray:function(r,o,l){return o==null?-1:D.call(o,r,l)},isXMLDoc:function(r){var o=r&&r.namespaceURI,l=r&&(r.ownerDocument||r).documentElement;return!b.test(o||l&&l.nodeName||"HTML")},merge:function(r,o){for(var l=+o.length,h=0,g=r.length;h<l;h++)r[g++]=o[h];return r.length=g,r},grep:function(r,o,l){for(var h,g=[],m=0,E=r.length,k=!l;m<E;m++)h=!o(r[m],m),h!==k&&g.push(r[m]);return g},map:function(r,o,l){var h,g,m=0,E=[];if(ot(r))for(h=r.length;m<h;m++)g=o(r[m],m,l),g!=null&&E.push(g);else for(m in r)g=o(r[m],m,l),g!=null&&E.push(g);return v(E)},guid:1,support:nt}),typeof Symbol=="function"&&(u.fn[Symbol.iterator]=i[Symbol.iterator]),u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,o){B["[object "+o+"]"]=o.toLowerCase()});function ot(r){var o=!!r&&"length"in r&&r.length,l=f(r);return X(r)||K(r)?!1:l==="array"||o===0||typeof o=="number"&&o>0&&o-1 in r}function et(r,o){return r.nodeName&&r.nodeName.toLowerCase()===o.toLowerCase()}var Wt=i.pop,Gt=i.sort,Ht=i.splice,Et="[\\x20\\t\\r\\n\\f]",Ze=new RegExp("^"+Et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Et+"+$","g");u.contains=function(r,o){var l=o&&o.parentNode;return r===l||!!(l&&l.nodeType===1&&(r.contains?r.contains(l):r.compareDocumentPosition&&r.compareDocumentPosition(l)&16))};var Yn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Es(r,o){return o?r==="\0"?"�":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}u.escapeSelector=function(r){return(r+"").replace(Yn,Es)};var Be=C,Gn=x;(function(){var r,o,l,h,g,m=Gn,E,k,_,M,j,W=u.expando,P=0,z=0,pt=Rn(),_t=Rn(),yt=Rn(),oe=Rn(),Jt=function(S,O){return S===O&&(g=!0),0},qe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",We="(?:\\\\[\\da-fA-F]{1,6}"+Et+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ct="\\["+Et+"*("+We+")(?:"+Et+"*([*^$|!~]?=)"+Et+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+We+"))|)"+Et+"*\\]",mi=":("+We+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ct+")*)|.*)\\)|)",Ot=new RegExp(Et+"+","g"),Vt=new RegExp("^"+Et+"*,"+Et+"*"),nn=new RegExp("^"+Et+"*([>+~]|"+Et+")"+Et+"*"),On=new RegExp(Et+"|>"),ue=new RegExp(mi),rn=new RegExp("^"+We+"$"),He={ID:new RegExp("^#("+We+")"),CLASS:new RegExp("^\\.("+We+")"),TAG:new RegExp("^("+We+"|[*])"),ATTR:new RegExp("^"+Ct),PSEUDO:new RegExp("^"+mi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Et+"*(even|odd|(([+-]|)(\\d*)n|)"+Et+"*(?:([+-]|)"+Et+"*(\\d+)|))"+Et+"*\\)|)","i"),bool:new RegExp("^(?:"+qe+")$","i"),needsContext:new RegExp("^"+Et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Et+"*((?:-\\d)?\\d*)"+Et+"*\\)|)(?=[^-]|$)","i")},bi=/^(?:input|select|textarea|button)$/i,ri=/^h\d$/i,we=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fr=/[+~]/,he=new RegExp("\\\\[\\da-fA-F]{1,6}"+Et+"?|\\\\([^\\r\\n\\f])","g"),si=function(S,O){var N="0x"+S.slice(1)-65536;return O||(N<0?String.fromCharCode(N+65536):String.fromCharCode(N>>10|55296,N&1023|56320))},Ro=function(){Ne()},Do=Mn(function(S){return S.disabled===!0&&et(S,"fieldset")},{dir:"parentNode",next:"legend"});function Mo(){try{return E.activeElement}catch{}}try{m.apply(i=c.call(Be.childNodes),Be.childNodes),i[Be.childNodes.length].nodeType}catch{m={apply:function(O,N){Gn.apply(O,c.call(N))},call:function(O){Gn.apply(O,c.call(arguments,1))}}}function Pt(S,O,N,F){var q,J,Q,st,Z,wt,dt,ft=O&&O.ownerDocument,xt=O?O.nodeType:9;if(N=N||[],typeof S!="string"||!S||xt!==1&&xt!==9&&xt!==11)return N;if(!F&&(Ne(O),O=O||E,_)){if(xt!==11&&(Z=we.exec(S)))if(q=Z[1]){if(xt===9)if(Q=O.getElementById(q)){if(Q.id===q)return m.call(N,Q),N}else return N;else if(ft&&(Q=ft.getElementById(q))&&Pt.contains(O,Q)&&Q.id===q)return m.call(N,Q),N}else{if(Z[2])return m.apply(N,O.getElementsByTagName(S)),N;if((q=Z[3])&&O.getElementsByClassName)return m.apply(N,O.getElementsByClassName(q)),N}if(!oe[S+" "]&&(!M||!M.test(S))){if(dt=S,ft=O,xt===1&&(On.test(S)||nn.test(S))){for(ft=fr.test(S)&&Pi(O.parentNode)||O,(ft!=O||!nt.scope)&&((st=O.getAttribute("id"))?st=u.escapeSelector(st):O.setAttribute("id",st=W)),wt=on(S),J=wt.length;J--;)wt[J]=(st?"#"+st:":scope")+" "+Dn(wt[J]);dt=wt.join(",")}try{return m.apply(N,ft.querySelectorAll(dt)),N}catch{oe(S,!0)}finally{st===W&&O.removeAttribute("id")}}}return Gr(S.replace(Ze,"$1"),O,N,F)}function Rn(){var S=[];function O(N,F){return S.push(N+" ")>o.cacheLength&&delete O[S.shift()],O[N+" "]=F}return O}function Ve(S){return S[W]=!0,S}function sn(S){var O=E.createElement("fieldset");try{return!!S(O)}catch{return!1}finally{O.parentNode&&O.parentNode.removeChild(O),O=null}}function No(S){return function(O){return et(O,"input")&&O.type===S}}function Po(S){return function(O){return(et(O,"input")||et(O,"button"))&&O.type===S}}function $s(S){return function(O){return"form"in O?O.parentNode&&O.disabled===!1?"label"in O?"label"in O.parentNode?O.parentNode.disabled===S:O.disabled===S:O.isDisabled===S||O.isDisabled!==!S&&Do(O)===S:O.disabled===S:"label"in O?O.disabled===S:!1}}function Ke(S){return Ve(function(O){return O=+O,Ve(function(N,F){for(var q,J=S([],N.length,O),Q=J.length;Q--;)N[q=J[Q]]&&(N[q]=!(F[q]=N[q]))})})}function Pi(S){return S&&typeof S.getElementsByTagName<"u"&&S}function Ne(S){var O,N=S?S.ownerDocument||S:Be;return N==E||N.nodeType!==9||!N.documentElement||(E=N,k=E.documentElement,_=!u.isXMLDoc(E),j=k.matches||k.webkitMatchesSelector||k.msMatchesSelector,k.msMatchesSelector&&Be!=E&&(O=E.defaultView)&&O.top!==O&&O.addEventListener("unload",Ro),nt.getById=sn(function(F){return k.appendChild(F).id=u.expando,!E.getElementsByName||!E.getElementsByName(u.expando).length}),nt.disconnectedMatch=sn(function(F){return j.call(F,"*")}),nt.scope=sn(function(){return E.querySelectorAll(":scope")}),nt.cssHas=sn(function(){try{return E.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),nt.getById?(o.filter.ID=function(F){var q=F.replace(he,si);return function(J){return J.getAttribute("id")===q}},o.find.ID=function(F,q){if(typeof q.getElementById<"u"&&_){var J=q.getElementById(F);return J?[J]:[]}}):(o.filter.ID=function(F){var q=F.replace(he,si);return function(J){var Q=typeof J.getAttributeNode<"u"&&J.getAttributeNode("id");return Q&&Q.value===q}},o.find.ID=function(F,q){if(typeof q.getElementById<"u"&&_){var J,Q,st,Z=q.getElementById(F);if(Z){if(J=Z.getAttributeNode("id"),J&&J.value===F)return[Z];for(st=q.getElementsByName(F),Q=0;Z=st[Q++];)if(J=Z.getAttributeNode("id"),J&&J.value===F)return[Z]}return[]}}),o.find.TAG=function(F,q){return typeof q.getElementsByTagName<"u"?q.getElementsByTagName(F):q.querySelectorAll(F)},o.find.CLASS=function(F,q){if(typeof q.getElementsByClassName<"u"&&_)return q.getElementsByClassName(F)},M=[],sn(function(F){var q;k.appendChild(F).innerHTML="<a id='"+W+"' href='' disabled='disabled'></a><select id='"+W+"-\r\\' disabled='disabled'><option selected=''></option></select>",F.querySelectorAll("[selected]").length||M.push("\\["+Et+"*(?:value|"+qe+")"),F.querySelectorAll("[id~="+W+"-]").length||M.push("~="),F.querySelectorAll("a#"+W+"+*").length||M.push(".#.+[+~]"),F.querySelectorAll(":checked").length||M.push(":checked"),q=E.createElement("input"),q.setAttribute("type","hidden"),F.appendChild(q).setAttribute("name","D"),k.appendChild(F).disabled=!0,F.querySelectorAll(":disabled").length!==2&&M.push(":enabled",":disabled"),q=E.createElement("input"),q.setAttribute("name",""),F.appendChild(q),F.querySelectorAll("[name='']").length||M.push("\\["+Et+"*name"+Et+"*="+Et+`*(?:''|"")`)}),nt.cssHas||M.push(":has"),M=M.length&&new RegExp(M.join("|")),Jt=function(F,q){if(F===q)return g=!0,0;var J=!F.compareDocumentPosition-!q.compareDocumentPosition;return J||(J=(F.ownerDocument||F)==(q.ownerDocument||q)?F.compareDocumentPosition(q):1,J&1||!nt.sortDetached&&q.compareDocumentPosition(F)===J?F===E||F.ownerDocument==Be&&Pt.contains(Be,F)?-1:q===E||q.ownerDocument==Be&&Pt.contains(Be,q)?1:h?D.call(h,F)-D.call(h,q):0:J&4?-1:1)}),E}Pt.matches=function(S,O){return Pt(S,null,null,O)},Pt.matchesSelector=function(S,O){if(Ne(S),_&&!oe[O+" "]&&(!M||!M.test(O)))try{var N=j.call(S,O);if(N||nt.disconnectedMatch||S.document&&S.document.nodeType!==11)return N}catch{oe(O,!0)}return Pt(O,E,null,[S]).length>0},Pt.contains=function(S,O){return(S.ownerDocument||S)!=E&&Ne(S),u.contains(S,O)},Pt.attr=function(S,O){(S.ownerDocument||S)!=E&&Ne(S);var N=o.attrHandle[O.toLowerCase()],F=N&&tt.call(o.attrHandle,O.toLowerCase())?N(S,O,!_):void 0;return F!==void 0?F:S.getAttribute(O)},Pt.error=function(S){throw new Error("Syntax error, unrecognized expression: "+S)},u.uniqueSort=function(S){var O,N=[],F=0,q=0;if(g=!nt.sortStable,h=!nt.sortStable&&c.call(S,0),Gt.call(S,Jt),g){for(;O=S[q++];)O===S[q]&&(F=N.push(q));for(;F--;)Ht.call(S,N[F],1)}return h=null,S},u.fn.uniqueSort=function(){return this.pushStack(u.uniqueSort(c.apply(this)))},o=u.expr={cacheLength:50,createPseudo:Ve,match:He,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(S){return S[1]=S[1].replace(he,si),S[3]=(S[3]||S[4]||S[5]||"").replace(he,si),S[2]==="~="&&(S[3]=" "+S[3]+" "),S.slice(0,4)},CHILD:function(S){return S[1]=S[1].toLowerCase(),S[1].slice(0,3)==="nth"?(S[3]||Pt.error(S[0]),S[4]=+(S[4]?S[5]+(S[6]||1):2*(S[3]==="even"||S[3]==="odd")),S[5]=+(S[7]+S[8]||S[3]==="odd")):S[3]&&Pt.error(S[0]),S},PSEUDO:function(S){var O,N=!S[6]&&S[2];return He.CHILD.test(S[0])?null:(S[3]?S[2]=S[4]||S[5]||"":N&&ue.test(N)&&(O=on(N,!0))&&(O=N.indexOf(")",N.length-O)-N.length)&&(S[0]=S[0].slice(0,O),S[2]=N.slice(0,O)),S.slice(0,3))}},filter:{TAG:function(S){var O=S.replace(he,si).toLowerCase();return S==="*"?function(){return!0}:function(N){return et(N,O)}},CLASS:function(S){var O=pt[S+" "];return O||(O=new RegExp("(^|"+Et+")"+S+"("+Et+"|$)"))&&pt(S,function(N){return O.test(typeof N.className=="string"&&N.className||typeof N.getAttribute<"u"&&N.getAttribute("class")||"")})},ATTR:function(S,O,N){return function(F){var q=Pt.attr(F,S);return q==null?O==="!=":O?(q+="",O==="="?q===N:O==="!="?q!==N:O==="^="?N&&q.indexOf(N)===0:O==="*="?N&&q.indexOf(N)>-1:O==="$="?N&&q.slice(-N.length)===N:O==="~="?(" "+q.replace(Ot," ")+" ").indexOf(N)>-1:O==="|="?q===N||q.slice(0,N.length+1)===N+"-":!1):!0}},CHILD:function(S,O,N,F,q){var J=S.slice(0,3)!=="nth",Q=S.slice(-4)!=="last",st=O==="of-type";return F===1&&q===0?function(Z){return!!Z.parentNode}:function(Z,wt,dt){var ft,xt,ht,It,ae,de=J!==Q?"nextSibling":"previousSibling",xe=Z.parentNode,ve=st&&Z.nodeName.toLowerCase(),A=!dt&&!st,a=!1;if(xe){if(J){for(;de;){for(ht=Z;ht=ht[de];)if(st?et(ht,ve):ht.nodeType===1)return!1;ae=de=S==="only"&&!ae&&"nextSibling"}return!0}if(ae=[Q?xe.firstChild:xe.lastChild],Q&&A){for(xt=xe[W]||(xe[W]={}),ft=xt[S]||[],It=ft[0]===P&&ft[1],a=It&&ft[2],ht=It&&xe.childNodes[It];ht=++It&&ht&&ht[de]||(a=It=0)||ae.pop();)if(ht.nodeType===1&&++a&&ht===Z){xt[S]=[P,It,a];break}}else if(A&&(xt=Z[W]||(Z[W]={}),ft=xt[S]||[],It=ft[0]===P&&ft[1],a=It),a===!1)for(;(ht=++It&&ht&&ht[de]||(a=It=0)||ae.pop())&&!((st?et(ht,ve):ht.nodeType===1)&&++a&&(A&&(xt=ht[W]||(ht[W]={}),xt[S]=[P,a]),ht===Z)););return a-=q,a===F||a%F===0&&a/F>=0}}},PSEUDO:function(S,O){var N,F=o.pseudos[S]||o.setFilters[S.toLowerCase()]||Pt.error("unsupported pseudo: "+S);return F[W]?F(O):F.length>1?(N=[S,S,"",O],o.setFilters.hasOwnProperty(S.toLowerCase())?Ve(function(q,J){for(var Q,st=F(q,O),Z=st.length;Z--;)Q=D.call(q,st[Z]),q[Q]=!(J[Q]=st[Z])}):function(q){return F(q,0,N)}):F}},pseudos:{not:Ve(function(S){var O=[],N=[],F=ln(S.replace(Ze,"$1"));return F[W]?Ve(function(q,J,Q,st){for(var Z,wt=F(q,null,st,[]),dt=q.length;dt--;)(Z=wt[dt])&&(q[dt]=!(J[dt]=Z))}):function(q,J,Q){return O[0]=q,F(O,null,Q,N),O[0]=null,!N.pop()}}),has:Ve(function(S){return function(O){return Pt(S,O).length>0}}),contains:Ve(function(S){return S=S.replace(he,si),function(O){return(O.textContent||u.text(O)).indexOf(S)>-1}}),lang:Ve(function(S){return rn.test(S||"")||Pt.error("unsupported lang: "+S),S=S.replace(he,si).toLowerCase(),function(O){var N;do if(N=_?O.lang:O.getAttribute("xml:lang")||O.getAttribute("lang"))return N=N.toLowerCase(),N===S||N.indexOf(S+"-")===0;while((O=O.parentNode)&&O.nodeType===1);return!1}}),target:function(S){var O=t.location&&t.location.hash;return O&&O.slice(1)===S.id},root:function(S){return S===k},focus:function(S){return S===Mo()&&E.hasFocus()&&!!(S.type||S.href||~S.tabIndex)},enabled:$s(!1),disabled:$s(!0),checked:function(S){return et(S,"input")&&!!S.checked||et(S,"option")&&!!S.selected},selected:function(S){return S.parentNode&&S.parentNode.selectedIndex,S.selected===!0},empty:function(S){for(S=S.firstChild;S;S=S.nextSibling)if(S.nodeType<6)return!1;return!0},parent:function(S){return!o.pseudos.empty(S)},header:function(S){return ri.test(S.nodeName)},input:function(S){return bi.test(S.nodeName)},button:function(S){return et(S,"input")&&S.type==="button"||et(S,"button")},text:function(S){var O;return et(S,"input")&&S.type==="text"&&((O=S.getAttribute("type"))==null||O.toLowerCase()==="text")},first:Ke(function(){return[0]}),last:Ke(function(S,O){return[O-1]}),eq:Ke(function(S,O,N){return[N<0?N+O:N]}),even:Ke(function(S,O){for(var N=0;N<O;N+=2)S.push(N);return S}),odd:Ke(function(S,O){for(var N=1;N<O;N+=2)S.push(N);return S}),lt:Ke(function(S,O,N){var F;for(N<0?F=N+O:N>O?F=O:F=N;--F>=0;)S.push(F);return S}),gt:Ke(function(S,O,N){for(var F=N<0?N+O:N;++F<O;)S.push(F);return S})}},o.pseudos.nth=o.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[r]=No(r);for(r in{submit:!0,reset:!0})o.pseudos[r]=Po(r);function pr(){}pr.prototype=o.filters=o.pseudos,o.setFilters=new pr;function on(S,O){var N,F,q,J,Q,st,Z,wt=_t[S+" "];if(wt)return O?0:wt.slice(0);for(Q=S,st=[],Z=o.preFilter;Q;){(!N||(F=Vt.exec(Q)))&&(F&&(Q=Q.slice(F[0].length)||Q),st.push(q=[])),N=!1,(F=nn.exec(Q))&&(N=F.shift(),q.push({value:N,type:F[0].replace(Ze," ")}),Q=Q.slice(N.length));for(J in o.filter)(F=He[J].exec(Q))&&(!Z[J]||(F=Z[J](F)))&&(N=F.shift(),q.push({value:N,type:J,matches:F}),Q=Q.slice(N.length));if(!N)break}return O?Q.length:Q?Pt.error(S):_t(S,st).slice(0)}function Dn(S){for(var O=0,N=S.length,F="";O<N;O++)F+=S[O].value;return F}function Mn(S,O,N){var F=O.dir,q=O.next,J=q||F,Q=N&&J==="parentNode",st=z++;return O.first?function(Z,wt,dt){for(;Z=Z[F];)if(Z.nodeType===1||Q)return S(Z,wt,dt);return!1}:function(Z,wt,dt){var ft,xt,ht=[P,st];if(dt){for(;Z=Z[F];)if((Z.nodeType===1||Q)&&S(Z,wt,dt))return!0}else for(;Z=Z[F];)if(Z.nodeType===1||Q)if(xt=Z[W]||(Z[W]={}),q&&et(Z,q))Z=Z[F]||Z;else{if((ft=xt[J])&&ft[0]===P&&ft[1]===st)return ht[2]=ft[2];if(xt[J]=ht,ht[2]=S(Z,wt,dt))return!0}return!1}}function an(S){return S.length>1?function(O,N,F){for(var q=S.length;q--;)if(!S[q](O,N,F))return!1;return!0}:S[0]}function Us(S,O,N){for(var F=0,q=O.length;F<q;F++)Pt(S,O[F],N);return N}function Xe(S,O,N,F,q){for(var J,Q=[],st=0,Z=S.length,wt=O!=null;st<Z;st++)(J=S[st])&&(!N||N(J,F,q))&&(Q.push(J),wt&&O.push(st));return Q}function Jr(S,O,N,F,q,J){return F&&!F[W]&&(F=Jr(F)),q&&!q[W]&&(q=Jr(q,J)),Ve(function(Q,st,Z,wt){var dt,ft,xt,ht,It=[],ae=[],de=st.length,xe=Q||Us(O||"*",Z.nodeType?[Z]:Z,[]),ve=S&&(Q||!O)?Xe(xe,It,S,Z,wt):xe;if(N?(ht=q||(Q?S:de||F)?[]:st,N(ve,ht,Z,wt)):ht=ve,F)for(dt=Xe(ht,ae),F(dt,[],Z,wt),ft=dt.length;ft--;)(xt=dt[ft])&&(ht[ae[ft]]=!(ve[ae[ft]]=xt));if(Q){if(q||S){if(q){for(dt=[],ft=ht.length;ft--;)(xt=ht[ft])&&dt.push(ve[ft]=xt);q(null,ht=[],dt,wt)}for(ft=ht.length;ft--;)(xt=ht[ft])&&(dt=q?D.call(Q,xt):It[ft])>-1&&(Q[dt]=!(st[dt]=xt))}}else ht=Xe(ht===st?ht.splice(de,ht.length):ht),q?q(null,st,ht,wt):m.apply(st,ht)})}function Yr(S){for(var O,N,F,q=S.length,J=o.relative[S[0].type],Q=J||o.relative[" "],st=J?1:0,Z=Mn(function(ft){return ft===O},Q,!0),wt=Mn(function(ft){return D.call(O,ft)>-1},Q,!0),dt=[function(ft,xt,ht){var It=!J&&(ht||xt!=l)||((O=xt).nodeType?Z(ft,xt,ht):wt(ft,xt,ht));return O=null,It}];st<q;st++)if(N=o.relative[S[st].type])dt=[Mn(an(dt),N)];else{if(N=o.filter[S[st].type].apply(null,S[st].matches),N[W]){for(F=++st;F<q&&!o.relative[S[F].type];F++);return Jr(st>1&&an(dt),st>1&&Dn(S.slice(0,st-1).concat({value:S[st-2].type===" "?"*":""})).replace(Ze,"$1"),N,st<F&&Yr(S.slice(st,F)),F<q&&Yr(S=S.slice(F)),F<q&&Dn(S))}dt.push(N)}return an(dt)}function Io(S,O){var N=O.length>0,F=S.length>0,q=function(J,Q,st,Z,wt){var dt,ft,xt,ht=0,It="0",ae=J&&[],de=[],xe=l,ve=J||F&&o.find.TAG("*",wt),A=P+=xe==null?1:Math.random()||.1,a=ve.length;for(wt&&(l=Q==E||Q||wt);It!==a&&(dt=ve[It])!=null;It++){if(F&&dt){for(ft=0,!Q&&dt.ownerDocument!=E&&(Ne(dt),st=!_);xt=S[ft++];)if(xt(dt,Q||E,st)){m.call(Z,dt);break}wt&&(P=A)}N&&((dt=!xt&&dt)&&ht--,J&&ae.push(dt))}if(ht+=It,N&&It!==ht){for(ft=0;xt=O[ft++];)xt(ae,de,Q,st);if(J){if(ht>0)for(;It--;)ae[It]||de[It]||(de[It]=Wt.call(Z));de=Xe(de)}m.apply(Z,de),wt&&!J&&de.length>0&&ht+O.length>1&&u.uniqueSort(Z)}return wt&&(P=A,l=xe),ae};return N?Ve(q):q}function ln(S,O){var N,F=[],q=[],J=yt[S+" "];if(!J){for(O||(O=on(S)),N=O.length;N--;)J=Yr(O[N]),J[W]?F.push(J):q.push(J);J=yt(S,Io(q,F)),J.selector=S}return J}function Gr(S,O,N,F){var q,J,Q,st,Z,wt=typeof S=="function"&&S,dt=!F&&on(S=wt.selector||S);if(N=N||[],dt.length===1){if(J=dt[0]=dt[0].slice(0),J.length>2&&(Q=J[0]).type==="ID"&&O.nodeType===9&&_&&o.relative[J[1].type]){if(O=(o.find.ID(Q.matches[0].replace(he,si),O)||[])[0],O)wt&&(O=O.parentNode);else return N;S=S.slice(J.shift().value.length)}for(q=He.needsContext.test(S)?0:J.length;q--&&(Q=J[q],!o.relative[st=Q.type]);)if((Z=o.find[st])&&(F=Z(Q.matches[0].replace(he,si),fr.test(J[0].type)&&Pi(O.parentNode)||O))){if(J.splice(q,1),S=F.length&&Dn(J),!S)return m.apply(N,F),N;break}}return(wt||ln(S,dt))(F,O,!_,N,!O||fr.test(S)&&Pi(O.parentNode)||O),N}nt.sortStable=W.split("").sort(Jt).join("")===W,Ne(),nt.sortDetached=sn(function(S){return S.compareDocumentPosition(E.createElement("fieldset"))&1}),u.find=Pt,u.expr[":"]=u.expr.pseudos,u.unique=u.uniqueSort,Pt.compile=ln,Pt.select=Gr,Pt.setDocument=Ne,Pt.tokenize=on,Pt.escape=u.escapeSelector,Pt.getText=u.text,Pt.isXML=u.isXMLDoc,Pt.selectors=u.expr,Pt.support=u.support,Pt.uniqueSort=u.uniqueSort})();var V=function(r,o,l){for(var h=[],g=l!==void 0;(r=r[o])&&r.nodeType!==9;)if(r.nodeType===1){if(g&&u(r).is(l))break;h.push(r)}return h},ti=function(r,o){for(var l=[];r;r=r.nextSibling)r.nodeType===1&&r!==o&&l.push(r);return l},$i=u.expr.match.needsContext,Le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ui(r,o,l){return X(o)?u.grep(r,function(h,g){return!!o.call(h,g,h)!==l}):o.nodeType?u.grep(r,function(h){return h===o!==l}):typeof o!="string"?u.grep(r,function(h){return D.call(o,h)>-1!==l}):u.filter(o,r,l)}u.filter=function(r,o,l){var h=o[0];return l&&(r=":not("+r+")"),o.length===1&&h.nodeType===1?u.find.matchesSelector(h,r)?[h]:[]:u.find.matches(r,u.grep(o,function(g){return g.nodeType===1}))},u.fn.extend({find:function(r){var o,l,h=this.length,g=this;if(typeof r!="string")return this.pushStack(u(r).filter(function(){for(o=0;o<h;o++)if(u.contains(g[o],this))return!0}));for(l=this.pushStack([]),o=0;o<h;o++)u.find(r,g[o],l);return h>1?u.uniqueSort(l):l},filter:function(r){return this.pushStack(Ui(this,r||[],!1))},not:function(r){return this.pushStack(Ui(this,r||[],!0))},is:function(r){return!!Ui(this,typeof r=="string"&&$i.test(r)?u(r):r||[],!1).length}});var zi,ws=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,wn=u.fn.init=function(r,o,l){var h,g;if(!r)return this;if(l=l||zi,typeof r=="string")if(r[0]==="<"&&r[r.length-1]===">"&&r.length>=3?h=[null,r,null]:h=ws.exec(r),h&&(h[1]||!o))if(h[1]){if(o=o instanceof u?o[0]:o,u.merge(this,u.parseHTML(h[1],o&&o.nodeType?o.ownerDocument||o:C,!0)),Le.test(h[1])&&u.isPlainObject(o))for(h in o)X(this[h])?this[h](o[h]):this.attr(h,o[h]);return this}else return g=C.getElementById(h[2]),g&&(this[0]=g,this.length=1),this;else return!o||o.jquery?(o||l).find(r):this.constructor(o).find(r);else{if(r.nodeType)return this[0]=r,this.length=1,this;if(X(r))return l.ready!==void 0?l.ready(r):r(u)}return u.makeArray(r,this)};wn.prototype=u.fn,zi=u(C);var xs=/^(?:parents|prev(?:Until|All))/,_r={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(r){var o=u(r,this),l=o.length;return this.filter(function(){for(var h=0;h<l;h++)if(u.contains(this,o[h]))return!0})},closest:function(r,o){var l,h=0,g=this.length,m=[],E=typeof r!="string"&&u(r);if(!$i.test(r)){for(;h<g;h++)for(l=this[h];l&&l!==o;l=l.parentNode)if(l.nodeType<11&&(E?E.index(l)>-1:l.nodeType===1&&u.find.matchesSelector(l,r))){m.push(l);break}}return this.pushStack(m.length>1?u.uniqueSort(m):m)},index:function(r){return r?typeof r=="string"?D.call(u(r),this[0]):D.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,o){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(r,o))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}});function ne(r,o){for(;(r=r[o])&&r.nodeType!==1;);return r}u.each({parent:function(r){var o=r.parentNode;return o&&o.nodeType!==11?o:null},parents:function(r){return V(r,"parentNode")},parentsUntil:function(r,o,l){return V(r,"parentNode",l)},next:function(r){return ne(r,"nextSibling")},prev:function(r){return ne(r,"previousSibling")},nextAll:function(r){return V(r,"nextSibling")},prevAll:function(r){return V(r,"previousSibling")},nextUntil:function(r,o,l){return V(r,"nextSibling",l)},prevUntil:function(r,o,l){return V(r,"previousSibling",l)},siblings:function(r){return ti((r.parentNode||{}).firstChild,r)},children:function(r){return ti(r.firstChild)},contents:function(r){return r.contentDocument!=null&&s(r.contentDocument)?r.contentDocument:(et(r,"template")&&(r=r.content||r),u.merge([],r.childNodes))}},function(r,o){u.fn[r]=function(l,h){var g=u.map(this,o,l);return r.slice(-5)!=="Until"&&(h=l),h&&typeof h=="string"&&(g=u.filter(h,g)),this.length>1&&(_r[r]||u.uniqueSort(g),xs.test(r)&&g.reverse()),this.pushStack(g)}});var ut=/[^\x20\t\r\n\f]+/g;function Ss(r){var o={};return u.each(r.match(ut)||[],function(l,h){o[h]=!0}),o}u.Callbacks=function(r){r=typeof r=="string"?Ss(r):u.extend({},r);var o,l,h,g,m=[],E=[],k=-1,_=function(){for(g=g||r.once,h=o=!0;E.length;k=-1)for(l=E.shift();++k<m.length;)m[k].apply(l[0],l[1])===!1&&r.stopOnFalse&&(k=m.length,l=!1);r.memory||(l=!1),o=!1,g&&(l?m=[]:m="")},M={add:function(){return m&&(l&&!o&&(k=m.length-1,E.push(l)),function j(W){u.each(W,function(P,z){X(z)?(!r.unique||!M.has(z))&&m.push(z):z&&z.length&&f(z)!=="string"&&j(z)})}(arguments),l&&!o&&_()),this},remove:function(){return u.each(arguments,function(j,W){for(var P;(P=u.inArray(W,m,P))>-1;)m.splice(P,1),P<=k&&k--}),this},has:function(j){return j?u.inArray(j,m)>-1:m.length>0},empty:function(){return m&&(m=[]),this},disable:function(){return g=E=[],m=l="",this},disabled:function(){return!m},lock:function(){return g=E=[],!l&&!o&&(m=l=""),this},locked:function(){return!!g},fireWith:function(j,W){return g||(W=W||[],W=[j,W.slice?W.slice():W],E.push(W),o||_()),this},fire:function(){return M.fireWith(this,arguments),this},fired:function(){return!!h}};return M};function yi(r){return r}function Qn(r){throw r}function ci(r,o,l,h){var g;try{r&&X(g=r.promise)?g.call(r).done(o).fail(l):r&&X(g=r.then)?g.call(r,o,l):o.apply(void 0,[r].slice(h))}catch(m){l.apply(void 0,[m])}}u.extend({Deferred:function(r){var o=[["notify","progress",u.Callbacks("memory"),u.Callbacks("memory"),2],["resolve","done",u.Callbacks("once memory"),u.Callbacks("once memory"),0,"resolved"],["reject","fail",u.Callbacks("once memory"),u.Callbacks("once memory"),1,"rejected"]],l="pending",h={state:function(){return l},always:function(){return g.done(arguments).fail(arguments),this},catch:function(m){return h.then(null,m)},pipe:function(){var m=arguments;return u.Deferred(function(E){u.each(o,function(k,_){var M=X(m[_[4]])&&m[_[4]];g[_[1]](function(){var j=M&&M.apply(this,arguments);j&&X(j.promise)?j.promise().progress(E.notify).done(E.resolve).fail(E.reject):E[_[0]+"With"](this,M?[j]:arguments)})}),m=null}).promise()},then:function(m,E,k){var _=0;function M(j,W,P,z){return function(){var pt=this,_t=arguments,yt=function(){var Jt,qe;if(!(j<_)){if(Jt=P.apply(pt,_t),Jt===W.promise())throw new TypeError("Thenable self-resolution");qe=Jt&&(typeof Jt=="object"||typeof Jt=="function")&&Jt.then,X(qe)?z?qe.call(Jt,M(_,W,yi,z),M(_,W,Qn,z)):(_++,qe.call(Jt,M(_,W,yi,z),M(_,W,Qn,z),M(_,W,yi,W.notifyWith))):(P!==yi&&(pt=void 0,_t=[Jt]),(z||W.resolveWith)(pt,_t))}},oe=z?yt:function(){try{yt()}catch(Jt){u.Deferred.exceptionHook&&u.Deferred.exceptionHook(Jt,oe.error),j+1>=_&&(P!==Qn&&(pt=void 0,_t=[Jt]),W.rejectWith(pt,_t))}};j?oe():(u.Deferred.getErrorHook?oe.error=u.Deferred.getErrorHook():u.Deferred.getStackHook&&(oe.error=u.Deferred.getStackHook()),t.setTimeout(oe))}}return u.Deferred(function(j){o[0][3].add(M(0,j,X(k)?k:yi,j.notifyWith)),o[1][3].add(M(0,j,X(m)?m:yi)),o[2][3].add(M(0,j,X(E)?E:Qn))}).promise()},promise:function(m){return m!=null?u.extend(m,h):h}},g={};return u.each(o,function(m,E){var k=E[2],_=E[5];h[E[1]]=k.add,_&&k.add(function(){l=_},o[3-m][2].disable,o[3-m][3].disable,o[0][2].lock,o[0][3].lock),k.add(E[3].fire),g[E[0]]=function(){return g[E[0]+"With"](this===g?void 0:this,arguments),this},g[E[0]+"With"]=k.fireWith}),h.promise(g),r&&r.call(g,g),g},when:function(r){var o=arguments.length,l=o,h=Array(l),g=c.call(arguments),m=u.Deferred(),E=function(k){return function(_){h[k]=this,g[k]=arguments.length>1?c.call(arguments):_,--o||m.resolveWith(h,g)}};if(o<=1&&(ci(r,m.done(E(l)).resolve,m.reject,!o),m.state()==="pending"||X(g[l]&&g[l].then)))return m.then();for(;l--;)ci(g[l],E(l),m.reject);return m.promise()}});var Ai=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;u.Deferred.exceptionHook=function(r,o){t.console&&t.console.warn&&r&&Ai.test(r.name)&&t.console.warn("jQuery.Deferred exception: "+r.message,r.stack,o)},u.readyException=function(r){t.setTimeout(function(){throw r})};var ei=u.Deferred();u.fn.ready=function(r){return ei.then(r).catch(function(o){u.readyException(o)}),this},u.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--u.readyWait:u.isReady)||(u.isReady=!0,!(r!==!0&&--u.readyWait>0)&&ei.resolveWith(C,[u]))}}),u.ready.then=ei.then;function ui(){C.removeEventListener("DOMContentLoaded",ui),t.removeEventListener("load",ui),u.ready()}C.readyState==="complete"||C.readyState!=="loading"&&!C.documentElement.doScroll?t.setTimeout(u.ready):(C.addEventListener("DOMContentLoaded",ui),t.addEventListener("load",ui));var ii=function(r,o,l,h,g,m,E){var k=0,_=r.length,M=l==null;if(f(l)==="object"){g=!0;for(k in l)ii(r,o,k,l[k],!0,m,E)}else if(h!==void 0&&(g=!0,X(h)||(E=!0),M&&(E?(o.call(r,h),o=null):(M=o,o=function(j,W,P){return M.call(u(j),P)})),o))for(;k<_;k++)o(r[k],l,E?h:h.call(r[k],k,o(r[k],l)));return g?r:M?o.call(r):_?o(r[0],l):m},Cs=/^-ms-/,Ei=/-([a-z])/g;function Zn(r,o){return o.toUpperCase()}function Qt(r){return r.replace(Cs,"ms-").replace(Ei,Zn)}var Ki=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function Xi(){this.expando=u.expando+Xi.uid++}Xi.uid=1,Xi.prototype={cache:function(r){var o=r[this.expando];return o||(o={},Ki(r)&&(r.nodeType?r[this.expando]=o:Object.defineProperty(r,this.expando,{value:o,configurable:!0}))),o},set:function(r,o,l){var h,g=this.cache(r);if(typeof o=="string")g[Qt(o)]=l;else for(h in o)g[Qt(h)]=o[h];return g},get:function(r,o){return o===void 0?this.cache(r):r[this.expando]&&r[this.expando][Qt(o)]},access:function(r,o,l){return o===void 0||o&&typeof o=="string"&&l===void 0?this.get(r,o):(this.set(r,o,l),l!==void 0?l:o)},remove:function(r,o){var l,h=r[this.expando];if(h!==void 0){if(o!==void 0)for(Array.isArray(o)?o=o.map(Qt):(o=Qt(o),o=o in h?[o]:o.match(ut)||[]),l=o.length;l--;)delete h[o[l]];(o===void 0||u.isEmptyObject(h))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var o=r[this.expando];return o!==void 0&&!u.isEmptyObject(o)}};var lt=new Xi,le=new Xi,tr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,er=/[A-Z]/g;function Ts(r){return r==="true"?!0:r==="false"?!1:r==="null"?null:r===+r+""?+r:tr.test(r)?JSON.parse(r):r}function Lr(r,o,l){var h;if(l===void 0&&r.nodeType===1)if(h="data-"+o.replace(er,"-$&").toLowerCase(),l=r.getAttribute(h),typeof l=="string"){try{l=Ts(l)}catch{}le.set(r,o,l)}else l=void 0;return l}u.extend({hasData:function(r){return le.hasData(r)||lt.hasData(r)},data:function(r,o,l){return le.access(r,o,l)},removeData:function(r,o){le.remove(r,o)},_data:function(r,o,l){return lt.access(r,o,l)},_removeData:function(r,o){lt.remove(r,o)}}),u.fn.extend({data:function(r,o){var l,h,g,m=this[0],E=m&&m.attributes;if(r===void 0){if(this.length&&(g=le.get(m),m.nodeType===1&&!lt.get(m,"hasDataAttrs"))){for(l=E.length;l--;)E[l]&&(h=E[l].name,h.indexOf("data-")===0&&(h=Qt(h.slice(5)),Lr(m,h,g[h])));lt.set(m,"hasDataAttrs",!0)}return g}return typeof r=="object"?this.each(function(){le.set(this,r)}):ii(this,function(k){var _;if(m&&k===void 0)return _=le.get(m,r),_!==void 0||(_=Lr(m,r),_!==void 0)?_:void 0;this.each(function(){le.set(this,r,k)})},null,o,arguments.length>1,null,!0)},removeData:function(r){return this.each(function(){le.remove(this,r)})}}),u.extend({queue:function(r,o,l){var h;if(r)return o=(o||"fx")+"queue",h=lt.get(r,o),l&&(!h||Array.isArray(l)?h=lt.access(r,o,u.makeArray(l)):h.push(l)),h||[]},dequeue:function(r,o){o=o||"fx";var l=u.queue(r,o),h=l.length,g=l.shift(),m=u._queueHooks(r,o),E=function(){u.dequeue(r,o)};g==="inprogress"&&(g=l.shift(),h--),g&&(o==="fx"&&l.unshift("inprogress"),delete m.stop,g.call(r,E,m)),!h&&m&&m.empty.fire()},_queueHooks:function(r,o){var l=o+"queueHooks";return lt.get(r,l)||lt.access(r,l,{empty:u.Callbacks("once memory").add(function(){lt.remove(r,[o+"queue",l])})})}}),u.fn.extend({queue:function(r,o){var l=2;return typeof r!="string"&&(o=r,r="fx",l--),arguments.length<l?u.queue(this[0],r):o===void 0?this:this.each(function(){var h=u.queue(this,r,o);u._queueHooks(this,r),r==="fx"&&h[0]!=="inprogress"&&u.dequeue(this,r)})},dequeue:function(r){return this.each(function(){u.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,o){var l,h=1,g=u.Deferred(),m=this,E=this.length,k=function(){--h||g.resolveWith(m,[m])};for(typeof r!="string"&&(o=r,r=void 0),r=r||"fx";E--;)l=lt.get(m[E],r+"queueHooks"),l&&l.empty&&(h++,l.empty.add(k));return k(),g.promise(o)}});var ir=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+ir+")([a-z%]*)$","i"),Ut=["Top","Right","Bottom","Left"],Zt=C.documentElement,re=function(r){return u.contains(r.ownerDocument,r)},me={composed:!0};Zt.getRootNode&&(re=function(r){return u.contains(r.ownerDocument,r)||r.getRootNode(me)===r.ownerDocument});var wi=function(r,o){return r=o||r,r.style.display==="none"||r.style.display===""&&re(r)&&u.css(r,"display")==="none"};function xi(r,o,l,h){var g,m,E=20,k=h?function(){return h.cur()}:function(){return u.css(r,o,"")},_=k(),M=l&&l[3]||(u.cssNumber[o]?"":"px"),j=r.nodeType&&(u.cssNumber[o]||M!=="px"&&+_)&&je.exec(u.css(r,o));if(j&&j[3]!==M){for(_=_/2,M=M||j[3],j=+_||1;E--;)u.style(r,o,j+M),(1-m)*(1-(m=k()/_||.5))<=0&&(E=0),j=j/m;j=j*2,u.style(r,o,j+M),l=l||[]}return l&&(j=+j||+_||0,g=l[1]?j+(l[1]+1)*l[2]:+l[2],h&&(h.unit=M,h.start=j,h.end=g)),g}var hi={};function Ji(r){var o,l=r.ownerDocument,h=r.nodeName,g=hi[h];return g||(o=l.body.appendChild(l.createElement(h)),g=u.css(o,"display"),o.parentNode.removeChild(o),g==="none"&&(g="block"),hi[h]=g,g)}function Si(r,o){for(var l,h,g=[],m=0,E=r.length;m<E;m++)h=r[m],h.style&&(l=h.style.display,o?(l==="none"&&(g[m]=lt.get(h,"display")||null,g[m]||(h.style.display="")),h.style.display===""&&wi(h)&&(g[m]=Ji(h))):l!=="none"&&(g[m]="none",lt.set(h,"display",l)));for(m=0;m<E;m++)g[m]!=null&&(r[m].style.display=g[m]);return r}u.fn.extend({show:function(){return Si(this,!0)},hide:function(){return Si(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each(function(){wi(this)?u(this).show():u(this).hide()})}});var Ci=/^(?:checkbox|radio)$/i,Ti=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,kr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var r=C.createDocumentFragment(),o=r.appendChild(C.createElement("div")),l=C.createElement("input");l.setAttribute("type","radio"),l.setAttribute("checked","checked"),l.setAttribute("name","t"),o.appendChild(l),nt.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,o.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!o.cloneNode(!0).lastChild.defaultValue,o.innerHTML="<option></option>",nt.option=!!o.lastChild})();var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,nt.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);function ce(r,o){var l;return typeof r.getElementsByTagName<"u"?l=r.getElementsByTagName(o||"*"):typeof r.querySelectorAll<"u"?l=r.querySelectorAll(o||"*"):l=[],o===void 0||o&&et(r,o)?u.merge([r],l):l}function nr(r,o){for(var l=0,h=r.length;l<h;l++)lt.set(r[l],"globalEval",!o||lt.get(o[l],"globalEval"))}var _s=/<|&#?\w+;/;function Or(r,o,l,h,g){for(var m,E,k,_,M,j,W=o.createDocumentFragment(),P=[],z=0,pt=r.length;z<pt;z++)if(m=r[z],m||m===0)if(f(m)==="object")u.merge(P,m.nodeType?[m]:m);else if(!_s.test(m))P.push(o.createTextNode(m));else{for(E=E||W.appendChild(o.createElement("div")),k=(Ti.exec(m)||["",""])[1].toLowerCase(),_=be[k]||be._default,E.innerHTML=_[1]+u.htmlPrefilter(m)+_[2],j=_[0];j--;)E=E.lastChild;u.merge(P,E.childNodes),E=W.firstChild,E.textContent=""}for(W.textContent="",z=0;m=P[z++];){if(h&&u.inArray(m,h)>-1){g&&g.push(m);continue}if(M=re(m),E=ce(W.appendChild(m),"script"),M&&nr(E),l)for(j=0;m=E[j++];)kr.test(m.type||"")&&l.push(m)}return W}var Rr=/^([^.]*)(?:\.(.+)|)/;function _i(){return!0}function Li(){return!1}function rr(r,o,l,h,g,m){var E,k;if(typeof o=="object"){typeof l!="string"&&(h=h||l,l=void 0);for(k in o)rr(r,k,l,h,o[k],m);return r}if(h==null&&g==null?(g=l,h=l=void 0):g==null&&(typeof l=="string"?(g=h,h=void 0):(g=h,h=l,l=void 0)),g===!1)g=Li;else if(!g)return r;return m===1&&(E=g,g=function(_){return u().off(_),E.apply(this,arguments)},g.guid=E.guid||(E.guid=u.guid++)),r.each(function(){u.event.add(this,o,g,h,l)})}u.event={global:{},add:function(r,o,l,h,g){var m,E,k,_,M,j,W,P,z,pt,_t,yt=lt.get(r);if(Ki(r))for(l.handler&&(m=l,l=m.handler,g=m.selector),g&&u.find.matchesSelector(Zt,g),l.guid||(l.guid=u.guid++),(_=yt.events)||(_=yt.events=Object.create(null)),(E=yt.handle)||(E=yt.handle=function(oe){return typeof u<"u"&&u.event.triggered!==oe.type?u.event.dispatch.apply(r,arguments):void 0}),o=(o||"").match(ut)||[""],M=o.length;M--;)k=Rr.exec(o[M])||[],z=_t=k[1],pt=(k[2]||"").split(".").sort(),z&&(W=u.event.special[z]||{},z=(g?W.delegateType:W.bindType)||z,W=u.event.special[z]||{},j=u.extend({type:z,origType:_t,data:h,handler:l,guid:l.guid,selector:g,needsContext:g&&u.expr.match.needsContext.test(g),namespace:pt.join(".")},m),(P=_[z])||(P=_[z]=[],P.delegateCount=0,(!W.setup||W.setup.call(r,h,pt,E)===!1)&&r.addEventListener&&r.addEventListener(z,E)),W.add&&(W.add.call(r,j),j.handler.guid||(j.handler.guid=l.guid)),g?P.splice(P.delegateCount++,0,j):P.push(j),u.event.global[z]=!0)},remove:function(r,o,l,h,g){var m,E,k,_,M,j,W,P,z,pt,_t,yt=lt.hasData(r)&&lt.get(r);if(!(!yt||!(_=yt.events))){for(o=(o||"").match(ut)||[""],M=o.length;M--;){if(k=Rr.exec(o[M])||[],z=_t=k[1],pt=(k[2]||"").split(".").sort(),!z){for(z in _)u.event.remove(r,z+o[M],l,h,!0);continue}for(W=u.event.special[z]||{},z=(h?W.delegateType:W.bindType)||z,P=_[z]||[],k=k[2]&&new RegExp("(^|\\.)"+pt.join("\\.(?:.*\\.|)")+"(\\.|$)"),E=m=P.length;m--;)j=P[m],(g||_t===j.origType)&&(!l||l.guid===j.guid)&&(!k||k.test(j.namespace))&&(!h||h===j.selector||h==="**"&&j.selector)&&(P.splice(m,1),j.selector&&P.delegateCount--,W.remove&&W.remove.call(r,j));E&&!P.length&&((!W.teardown||W.teardown.call(r,pt,yt.handle)===!1)&&u.removeEvent(r,z,yt.handle),delete _[z])}u.isEmptyObject(_)&&lt.remove(r,"handle events")}},dispatch:function(r){var o,l,h,g,m,E,k=new Array(arguments.length),_=u.event.fix(r),M=(lt.get(this,"events")||Object.create(null))[_.type]||[],j=u.event.special[_.type]||{};for(k[0]=_,o=1;o<arguments.length;o++)k[o]=arguments[o];if(_.delegateTarget=this,!(j.preDispatch&&j.preDispatch.call(this,_)===!1)){for(E=u.event.handlers.call(this,_,M),o=0;(g=E[o++])&&!_.isPropagationStopped();)for(_.currentTarget=g.elem,l=0;(m=g.handlers[l++])&&!_.isImmediatePropagationStopped();)(!_.rnamespace||m.namespace===!1||_.rnamespace.test(m.namespace))&&(_.handleObj=m,_.data=m.data,h=((u.event.special[m.origType]||{}).handle||m.handler).apply(g.elem,k),h!==void 0&&(_.result=h)===!1&&(_.preventDefault(),_.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,_),_.result}},handlers:function(r,o){var l,h,g,m,E,k=[],_=o.delegateCount,M=r.target;if(_&&M.nodeType&&!(r.type==="click"&&r.button>=1)){for(;M!==this;M=M.parentNode||this)if(M.nodeType===1&&!(r.type==="click"&&M.disabled===!0)){for(m=[],E={},l=0;l<_;l++)h=o[l],g=h.selector+" ",E[g]===void 0&&(E[g]=h.needsContext?u(g,this).index(M)>-1:u.find(g,this,null,[M]).length),E[g]&&m.push(h);m.length&&k.push({elem:M,handlers:m})}}return M=this,_<o.length&&k.push({elem:M,handlers:o.slice(_)}),k},addProp:function(r,o){Object.defineProperty(u.Event.prototype,r,{enumerable:!0,configurable:!0,get:X(o)?function(){if(this.originalEvent)return o(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(l){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:l})}})},fix:function(r){return r[u.expando]?r:new u.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var o=this||r;return Ci.test(o.type)&&o.click&&et(o,"input")&&xn(o,"click",!0),!1},trigger:function(r){var o=this||r;return Ci.test(o.type)&&o.click&&et(o,"input")&&xn(o,"click"),!0},_default:function(r){var o=r.target;return Ci.test(o.type)&&o.click&&et(o,"input")&&lt.get(o,"click")||et(o,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}};function xn(r,o,l){if(!l){lt.get(r,o)===void 0&&u.event.add(r,o,_i);return}lt.set(r,o,!1),u.event.add(r,o,{namespace:!1,handler:function(h){var g,m=lt.get(this,o);if(h.isTrigger&1&&this[o]){if(m)(u.event.special[o]||{}).delegateType&&h.stopPropagation();else if(m=c.call(arguments),lt.set(this,o,m),this[o](),g=lt.get(this,o),lt.set(this,o,!1),m!==g)return h.stopImmediatePropagation(),h.preventDefault(),g}else m&&(lt.set(this,o,u.event.trigger(m[0],m.slice(1),this)),h.stopPropagation(),h.isImmediatePropagationStopped=_i)}})}u.removeEvent=function(r,o,l){r.removeEventListener&&r.removeEventListener(o,l)},u.Event=function(r,o){if(!(this instanceof u.Event))return new u.Event(r,o);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?_i:Li,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,o&&u.extend(this,o),this.timeStamp=r&&r.timeStamp||Date.now(),this[u.expando]=!0},u.Event.prototype={constructor:u.Event,isDefaultPrevented:Li,isPropagationStopped:Li,isImmediatePropagationStopped:Li,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=_i,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=_i,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=_i,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},u.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},u.event.addProp),u.each({focus:"focusin",blur:"focusout"},function(r,o){function l(h){if(C.documentMode){var g=lt.get(this,"handle"),m=u.event.fix(h);m.type=h.type==="focusin"?"focus":"blur",m.isSimulated=!0,g(h),m.target===m.currentTarget&&g(m)}else u.event.simulate(o,h.target,u.event.fix(h))}u.event.special[r]={setup:function(){var h;if(xn(this,r,!0),C.documentMode)h=lt.get(this,o),h||this.addEventListener(o,l),lt.set(this,o,(h||0)+1);else return!1},trigger:function(){return xn(this,r),!0},teardown:function(){var h;if(C.documentMode)h=lt.get(this,o)-1,h?lt.set(this,o,h):(this.removeEventListener(o,l),lt.remove(this,o));else return!1},_default:function(h){return lt.get(h.target,r)},delegateType:o},u.event.special[o]={setup:function(){var h=this.ownerDocument||this.document||this,g=C.documentMode?this:h,m=lt.get(g,o);m||(C.documentMode?this.addEventListener(o,l):h.addEventListener(r,l,!0)),lt.set(g,o,(m||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,g=C.documentMode?this:h,m=lt.get(g,o)-1;m?lt.set(g,o,m):(C.documentMode?this.removeEventListener(o,l):h.removeEventListener(r,l,!0),lt.remove(g,o))}}}),u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,o){u.event.special[r]={delegateType:o,bindType:o,handle:function(l){var h,g=this,m=l.relatedTarget,E=l.handleObj;return(!m||m!==g&&!u.contains(g,m))&&(l.type=E.origType,h=E.handler.apply(this,arguments),l.type=o),h}}}),u.fn.extend({on:function(r,o,l,h){return rr(this,r,o,l,h)},one:function(r,o,l,h){return rr(this,r,o,l,h,1)},off:function(r,o,l){var h,g;if(r&&r.preventDefault&&r.handleObj)return h=r.handleObj,u(r.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof r=="object"){for(g in r)this.off(g,o,r[g]);return this}return(o===!1||typeof o=="function")&&(l=o,o=void 0),l===!1&&(l=Li),this.each(function(){u.event.remove(this,r,l,o)})}});var Ls=/<script|<style|<link/i,ks=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ke(r,o){return et(r,"table")&&et(o.nodeType!==11?o:o.firstChild,"tr")&&u(r).children("tbody")[0]||r}function Sn(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function Oe(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Dr(r,o){var l,h,g,m,E,k,_;if(o.nodeType===1){if(lt.hasData(r)&&(m=lt.get(r),_=m.events,_)){lt.remove(o,"handle events");for(g in _)for(l=0,h=_[g].length;l<h;l++)u.event.add(o,g,_[g][l])}le.hasData(r)&&(E=le.access(r),k=u.extend({},E),le.set(o,k))}}function Mr(r,o){var l=o.nodeName.toLowerCase();l==="input"&&Ci.test(r.type)?o.checked=r.checked:(l==="input"||l==="textarea")&&(o.defaultValue=r.defaultValue)}function fe(r,o,l,h){o=v(o);var g,m,E,k,_,M,j=0,W=r.length,P=W-1,z=o[0],pt=X(z);if(pt||W>1&&typeof z=="string"&&!nt.checkClone&&ks.test(z))return r.each(function(_t){var yt=r.eq(_t);pt&&(o[0]=z.call(this,_t,yt.html())),fe(yt,o,l,h)});if(W&&(g=Or(o,r[0].ownerDocument,!1,r,h),m=g.firstChild,g.childNodes.length===1&&(g=m),m||h)){for(E=u.map(ce(g,"script"),Sn),k=E.length;j<W;j++)_=g,j!==P&&(_=u.clone(_,!0,!0),k&&u.merge(E,ce(_,"script"))),l.call(r[j],_,j);if(k)for(M=E[E.length-1].ownerDocument,u.map(E,Oe),j=0;j<k;j++)_=E[j],kr.test(_.type||"")&&!lt.access(_,"globalEval")&&u.contains(M,_)&&(_.src&&(_.type||"").toLowerCase()!=="module"?u._evalUrl&&!_.noModule&&u._evalUrl(_.src,{nonce:_.nonce||_.getAttribute("nonce")},M):p(_.textContent.replace(ze,""),_,M))}return r}function ki(r,o,l){for(var h,g=o?u.filter(o,r):r,m=0;(h=g[m])!=null;m++)!l&&h.nodeType===1&&u.cleanData(ce(h)),h.parentNode&&(l&&re(h)&&nr(ce(h,"script")),h.parentNode.removeChild(h));return r}u.extend({htmlPrefilter:function(r){return r},clone:function(r,o,l){var h,g,m,E,k=r.cloneNode(!0),_=re(r);if(!nt.noCloneChecked&&(r.nodeType===1||r.nodeType===11)&&!u.isXMLDoc(r))for(E=ce(k),m=ce(r),h=0,g=m.length;h<g;h++)Mr(m[h],E[h]);if(o)if(l)for(m=m||ce(r),E=E||ce(k),h=0,g=m.length;h<g;h++)Dr(m[h],E[h]);else Dr(r,k);return E=ce(k,"script"),E.length>0&&nr(E,!_&&ce(r,"script")),k},cleanData:function(r){for(var o,l,h,g=u.event.special,m=0;(l=r[m])!==void 0;m++)if(Ki(l)){if(o=l[lt.expando]){if(o.events)for(h in o.events)g[h]?u.event.remove(l,h):u.removeEvent(l,h,o.handle);l[lt.expando]=void 0}l[le.expando]&&(l[le.expando]=void 0)}}}),u.fn.extend({detach:function(r){return ki(this,r,!0)},remove:function(r){return ki(this,r)},text:function(r){return ii(this,function(o){return o===void 0?u.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=o)})},null,r,arguments.length)},append:function(){return fe(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=ke(this,r);o.appendChild(r)}})},prepend:function(){return fe(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=ke(this,r);o.insertBefore(r,o.firstChild)}})},before:function(){return fe(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return fe(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,o=0;(r=this[o])!=null;o++)r.nodeType===1&&(u.cleanData(ce(r,!1)),r.textContent="");return this},clone:function(r,o){return r=r??!1,o=o??r,this.map(function(){return u.clone(this,r,o)})},html:function(r){return ii(this,function(o){var l=this[0]||{},h=0,g=this.length;if(o===void 0&&l.nodeType===1)return l.innerHTML;if(typeof o=="string"&&!Ls.test(o)&&!be[(Ti.exec(o)||["",""])[1].toLowerCase()]){o=u.htmlPrefilter(o);try{for(;h<g;h++)l=this[h]||{},l.nodeType===1&&(u.cleanData(ce(l,!1)),l.innerHTML=o);l=0}catch{}}l&&this.empty().append(o)},null,r,arguments.length)},replaceWith:function(){var r=[];return fe(this,arguments,function(o){var l=this.parentNode;u.inArray(this,r)<0&&(u.cleanData(ce(this)),l&&l.replaceChild(o,this))},r)}}),u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,o){u.fn[r]=function(l){for(var h,g=[],m=u(l),E=m.length-1,k=0;k<=E;k++)h=k===E?this:this.clone(!0),u(m[k])[o](h),x.apply(g,h.get());return this.pushStack(g)}});var Cn=new RegExp("^("+ir+")(?!px)[a-z%]+$","i"),sr=/^--/,Re=function(r){var o=r.ownerDocument.defaultView;return(!o||!o.opener)&&(o=t),o.getComputedStyle(r)},Os=function(r,o,l){var h,g,m={};for(g in o)m[g]=r.style[g],r.style[g]=o[g];h=l.call(r);for(g in o)r.style[g]=m[g];return h},di=new RegExp(Ut.join("|"),"i");(function(){function r(){if(M){_.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",M.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Zt.appendChild(_).appendChild(M);var j=t.getComputedStyle(M);l=j.top!=="1%",k=o(j.marginLeft)===12,M.style.right="60%",m=o(j.right)===36,h=o(j.width)===36,M.style.position="absolute",g=o(M.offsetWidth/3)===12,Zt.removeChild(_),M=null}}function o(j){return Math.round(parseFloat(j))}var l,h,g,m,E,k,_=C.createElement("div"),M=C.createElement("div");M.style&&(M.style.backgroundClip="content-box",M.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle=M.style.backgroundClip==="content-box",u.extend(nt,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),m},pixelPosition:function(){return r(),l},reliableMarginLeft:function(){return r(),k},scrollboxSize:function(){return r(),g},reliableTrDimensions:function(){var j,W,P,z;return E==null&&(j=C.createElement("table"),W=C.createElement("tr"),P=C.createElement("div"),j.style.cssText="position:absolute;left:-11111px;border-collapse:separate",W.style.cssText="box-sizing:content-box;border:1px solid",W.style.height="1px",P.style.height="9px",P.style.display="block",Zt.appendChild(j).appendChild(W).appendChild(P),z=t.getComputedStyle(W),E=parseInt(z.height,10)+parseInt(z.borderTopWidth,10)+parseInt(z.borderBottomWidth,10)===W.offsetHeight,Zt.removeChild(j)),E}}))})();function fi(r,o,l){var h,g,m,E,k=sr.test(o),_=r.style;return l=l||Re(r),l&&(E=l.getPropertyValue(o)||l[o],k&&E&&(E=E.replace(Ze,"$1")||void 0),E===""&&!re(r)&&(E=u.style(r,o)),!nt.pixelBoxStyles()&&Cn.test(E)&&di.test(o)&&(h=_.width,g=_.minWidth,m=_.maxWidth,_.minWidth=_.maxWidth=_.width=E,E=l.width,_.width=h,_.minWidth=g,_.maxWidth=m)),E!==void 0?E+"":E}function Nr(r,o){return{get:function(){if(r()){delete this.get;return}return(this.get=o).apply(this,arguments)}}}var Yi=["Webkit","Moz","ms"],or=C.createElement("div").style,ni={};function Tn(r){for(var o=r[0].toUpperCase()+r.slice(1),l=Yi.length;l--;)if(r=Yi[l]+o,r in or)return r}function Gi(r){var o=u.cssProps[r]||ni[r];return o||(r in or?r:ni[r]=Tn(r)||r)}var ar=/^(none|table(?!-c[ea]).+)/,Rs={position:"absolute",visibility:"hidden",display:"block"},Pr={letterSpacing:"0",fontWeight:"400"};function Ir(r,o,l){var h=je.exec(o);return h?Math.max(0,h[2]-(l||0))+(h[3]||"px"):o}function pi(r,o,l,h,g,m){var E=o==="width"?1:0,k=0,_=0,M=0;if(l===(h?"border":"content"))return 0;for(;E<4;E+=2)l==="margin"&&(M+=u.css(r,l+Ut[E],!0,g)),h?(l==="content"&&(_-=u.css(r,"padding"+Ut[E],!0,g)),l!=="margin"&&(_-=u.css(r,"border"+Ut[E]+"Width",!0,g))):(_+=u.css(r,"padding"+Ut[E],!0,g),l!=="padding"?_+=u.css(r,"border"+Ut[E]+"Width",!0,g):k+=u.css(r,"border"+Ut[E]+"Width",!0,g));return!h&&m>=0&&(_+=Math.max(0,Math.ceil(r["offset"+o[0].toUpperCase()+o.slice(1)]-m-_-k-.5))||0),_+M}function Ds(r,o,l){var h=Re(r),g=!nt.boxSizingReliable()||l,m=g&&u.css(r,"boxSizing",!1,h)==="border-box",E=m,k=fi(r,o,h),_="offset"+o[0].toUpperCase()+o.slice(1);if(Cn.test(k)){if(!l)return k;k="auto"}return(!nt.boxSizingReliable()&&m||!nt.reliableTrDimensions()&&et(r,"tr")||k==="auto"||!parseFloat(k)&&u.css(r,"display",!1,h)==="inline")&&r.getClientRects().length&&(m=u.css(r,"boxSizing",!1,h)==="border-box",E=_ in r,E&&(k=r[_])),k=parseFloat(k)||0,k+pi(r,o,l||(m?"border":"content"),E,h,k)+"px"}u.extend({cssHooks:{opacity:{get:function(r,o){if(o){var l=fi(r,"opacity");return l===""?"1":l}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,o,l,h){if(!(!r||r.nodeType===3||r.nodeType===8||!r.style)){var g,m,E,k=Qt(o),_=sr.test(o),M=r.style;if(_||(o=Gi(k)),E=u.cssHooks[o]||u.cssHooks[k],l!==void 0){if(m=typeof l,m==="string"&&(g=je.exec(l))&&g[1]&&(l=xi(r,o,g),m="number"),l==null||l!==l)return;m==="number"&&!_&&(l+=g&&g[3]||(u.cssNumber[k]?"":"px")),!nt.clearCloneStyle&&l===""&&o.indexOf("background")===0&&(M[o]="inherit"),(!E||!("set"in E)||(l=E.set(r,l,h))!==void 0)&&(_?M.setProperty(o,l):M[o]=l)}else return E&&"get"in E&&(g=E.get(r,!1,h))!==void 0?g:M[o]}},css:function(r,o,l,h){var g,m,E,k=Qt(o),_=sr.test(o);return _||(o=Gi(k)),E=u.cssHooks[o]||u.cssHooks[k],E&&"get"in E&&(g=E.get(r,!0,l)),g===void 0&&(g=fi(r,o,h)),g==="normal"&&o in Pr&&(g=Pr[o]),l===""||l?(m=parseFloat(g),l===!0||isFinite(m)?m||0:g):g}}),u.each(["height","width"],function(r,o){u.cssHooks[o]={get:function(l,h,g){if(h)return ar.test(u.css(l,"display"))&&(!l.getClientRects().length||!l.getBoundingClientRect().width)?Os(l,Rs,function(){return Ds(l,o,g)}):Ds(l,o,g)},set:function(l,h,g){var m,E=Re(l),k=!nt.scrollboxSize()&&E.position==="absolute",_=k||g,M=_&&u.css(l,"boxSizing",!1,E)==="border-box",j=g?pi(l,o,g,M,E):0;return M&&k&&(j-=Math.ceil(l["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(E[o])-pi(l,o,"border",!1,E)-.5)),j&&(m=je.exec(h))&&(m[3]||"px")!=="px"&&(l.style[o]=h,h=u.css(l,o)),Ir(l,h,j)}}}),u.cssHooks.marginLeft=Nr(nt.reliableMarginLeft,function(r,o){if(o)return(parseFloat(fi(r,"marginLeft"))||r.getBoundingClientRect().left-Os(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),u.each({margin:"",padding:"",border:"Width"},function(r,o){u.cssHooks[r+o]={expand:function(l){for(var h=0,g={},m=typeof l=="string"?l.split(" "):[l];h<4;h++)g[r+Ut[h]+o]=m[h]||m[h-2]||m[0];return g}},r!=="margin"&&(u.cssHooks[r+o].set=Ir)}),u.fn.extend({css:function(r,o){return ii(this,function(l,h,g){var m,E,k={},_=0;if(Array.isArray(h)){for(m=Re(l),E=h.length;_<E;_++)k[h[_]]=u.css(l,h[_],!1,m);return k}return g!==void 0?u.style(l,h,g):u.css(l,h)},r,o,arguments.length>1)}});function pe(r,o,l,h,g){return new pe.prototype.init(r,o,l,h,g)}u.Tween=pe,pe.prototype={constructor:pe,init:function(r,o,l,h,g,m){this.elem=r,this.prop=l,this.easing=g||u.easing._default,this.options=o,this.start=this.now=this.cur(),this.end=h,this.unit=m||(u.cssNumber[l]?"":"px")},cur:function(){var r=pe.propHooks[this.prop];return r&&r.get?r.get(this):pe.propHooks._default.get(this)},run:function(r){var o,l=pe.propHooks[this.prop];return this.options.duration?this.pos=o=u.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=o=r,this.now=(this.end-this.start)*o+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),l&&l.set?l.set(this):pe.propHooks._default.set(this),this}},pe.prototype.init.prototype=pe.prototype,pe.propHooks={_default:{get:function(r){var o;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(o=u.css(r.elem,r.prop,""),!o||o==="auto"?0:o)},set:function(r){u.fx.step[r.prop]?u.fx.step[r.prop](r):r.elem.nodeType===1&&(u.cssHooks[r.prop]||r.elem.style[Gi(r.prop)]!=null)?u.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}},pe.propHooks.scrollTop=pe.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},u.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},u.fx=pe.prototype.init,u.fx.step={};var gi,Oi,Fr=/^(?:toggle|show|hide)$/,wo=/queueHooks$/;function Qi(){Oi&&(C.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Qi):t.setTimeout(Qi,u.fx.interval),u.fx.tick())}function Ms(){return t.setTimeout(function(){gi=void 0}),gi=Date.now()}function _n(r,o){var l,h=0,g={height:r};for(o=o?1:0;h<4;h+=2-o)l=Ut[h],g["margin"+l]=g["padding"+l]=r;return o&&(g.opacity=g.width=r),g}function lr(r,o,l){for(var h,g=(De.tweeners[o]||[]).concat(De.tweeners["*"]),m=0,E=g.length;m<E;m++)if(h=g[m].call(l,o,r))return h}function Br(r,o,l){var h,g,m,E,k,_,M,j,W="width"in o||"height"in o,P=this,z={},pt=r.style,_t=r.nodeType&&wi(r),yt=lt.get(r,"fxshow");l.queue||(E=u._queueHooks(r,"fx"),E.unqueued==null&&(E.unqueued=0,k=E.empty.fire,E.empty.fire=function(){E.unqueued||k()}),E.unqueued++,P.always(function(){P.always(function(){E.unqueued--,u.queue(r,"fx").length||E.empty.fire()})}));for(h in o)if(g=o[h],Fr.test(g)){if(delete o[h],m=m||g==="toggle",g===(_t?"hide":"show"))if(g==="show"&&yt&&yt[h]!==void 0)_t=!0;else continue;z[h]=yt&&yt[h]||u.style(r,h)}if(_=!u.isEmptyObject(o),!(!_&&u.isEmptyObject(z))){W&&r.nodeType===1&&(l.overflow=[pt.overflow,pt.overflowX,pt.overflowY],M=yt&&yt.display,M==null&&(M=lt.get(r,"display")),j=u.css(r,"display"),j==="none"&&(M?j=M:(Si([r],!0),M=r.style.display||M,j=u.css(r,"display"),Si([r]))),(j==="inline"||j==="inline-block"&&M!=null)&&u.css(r,"float")==="none"&&(_||(P.done(function(){pt.display=M}),M==null&&(j=pt.display,M=j==="none"?"":j)),pt.display="inline-block")),l.overflow&&(pt.overflow="hidden",P.always(function(){pt.overflow=l.overflow[0],pt.overflowX=l.overflow[1],pt.overflowY=l.overflow[2]})),_=!1;for(h in z)_||(yt?"hidden"in yt&&(_t=yt.hidden):yt=lt.access(r,"fxshow",{display:M}),m&&(yt.hidden=!_t),_t&&Si([r],!0),P.done(function(){_t||Si([r]),lt.remove(r,"fxshow");for(h in z)u.style(r,h,z[h])})),_=lr(_t?yt[h]:0,h,P),h in yt||(yt[h]=_.start,_t&&(_.end=_.start,_.start=0))}}function jr(r,o){var l,h,g,m,E;for(l in r)if(h=Qt(l),g=o[h],m=r[l],Array.isArray(m)&&(g=m[1],m=r[l]=m[0]),l!==h&&(r[h]=m,delete r[l]),E=u.cssHooks[h],E&&"expand"in E){m=E.expand(m),delete r[h];for(l in m)l in r||(r[l]=m[l],o[l]=g)}else o[h]=g}function De(r,o,l){var h,g,m=0,E=De.prefilters.length,k=u.Deferred().always(function(){delete _.elem}),_=function(){if(g)return!1;for(var W=gi||Ms(),P=Math.max(0,M.startTime+M.duration-W),z=P/M.duration||0,pt=1-z,_t=0,yt=M.tweens.length;_t<yt;_t++)M.tweens[_t].run(pt);return k.notifyWith(r,[M,pt,P]),pt<1&&yt?P:(yt||k.notifyWith(r,[M,1,0]),k.resolveWith(r,[M]),!1)},M=k.promise({elem:r,props:u.extend({},o),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},l),originalProperties:o,originalOptions:l,startTime:gi||Ms(),duration:l.duration,tweens:[],createTween:function(W,P){var z=u.Tween(r,M.opts,W,P,M.opts.specialEasing[W]||M.opts.easing);return M.tweens.push(z),z},stop:function(W){var P=0,z=W?M.tweens.length:0;if(g)return this;for(g=!0;P<z;P++)M.tweens[P].run(1);return W?(k.notifyWith(r,[M,1,0]),k.resolveWith(r,[M,W])):k.rejectWith(r,[M,W]),this}}),j=M.props;for(jr(j,M.opts.specialEasing);m<E;m++)if(h=De.prefilters[m].call(M,r,j,M.opts),h)return X(h.stop)&&(u._queueHooks(M.elem,M.opts.queue).stop=h.stop.bind(h)),h;return u.map(j,lr,M),X(M.opts.start)&&M.opts.start.call(r,M),M.progress(M.opts.progress).done(M.opts.done,M.opts.complete).fail(M.opts.fail).always(M.opts.always),u.fx.timer(u.extend(_,{elem:r,anim:M,queue:M.opts.queue})),M}u.Animation=u.extend(De,{tweeners:{"*":[function(r,o){var l=this.createTween(r,o);return xi(l.elem,r,je.exec(o),l),l}]},tweener:function(r,o){X(r)?(o=r,r=["*"]):r=r.match(ut);for(var l,h=0,g=r.length;h<g;h++)l=r[h],De.tweeners[l]=De.tweeners[l]||[],De.tweeners[l].unshift(o)},prefilters:[Br],prefilter:function(r,o){o?De.prefilters.unshift(r):De.prefilters.push(r)}}),u.speed=function(r,o,l){var h=r&&typeof r=="object"?u.extend({},r):{complete:l||!l&&o||X(r)&&r,duration:r,easing:l&&o||o&&!X(o)&&o};return u.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in u.fx.speeds?h.duration=u.fx.speeds[h.duration]:h.duration=u.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){X(h.old)&&h.old.call(this),h.queue&&u.dequeue(this,h.queue)},h},u.fn.extend({fadeTo:function(r,o,l,h){return this.filter(wi).css("opacity",0).show().end().animate({opacity:o},r,l,h)},animate:function(r,o,l,h){var g=u.isEmptyObject(r),m=u.speed(o,l,h),E=function(){var k=De(this,u.extend({},r),m);(g||lt.get(this,"finish"))&&k.stop(!0)};return E.finish=E,g||m.queue===!1?this.each(E):this.queue(m.queue,E)},stop:function(r,o,l){var h=function(g){var m=g.stop;delete g.stop,m(l)};return typeof r!="string"&&(l=o,o=r,r=void 0),o&&this.queue(r||"fx",[]),this.each(function(){var g=!0,m=r!=null&&r+"queueHooks",E=u.timers,k=lt.get(this);if(m)k[m]&&k[m].stop&&h(k[m]);else for(m in k)k[m]&&k[m].stop&&wo.test(m)&&h(k[m]);for(m=E.length;m--;)E[m].elem===this&&(r==null||E[m].queue===r)&&(E[m].anim.stop(l),g=!1,E.splice(m,1));(g||!l)&&u.dequeue(this,r)})},finish:function(r){return r!==!1&&(r=r||"fx"),this.each(function(){var o,l=lt.get(this),h=l[r+"queue"],g=l[r+"queueHooks"],m=u.timers,E=h?h.length:0;for(l.finish=!0,u.queue(this,r,[]),g&&g.stop&&g.stop.call(this,!0),o=m.length;o--;)m[o].elem===this&&m[o].queue===r&&(m[o].anim.stop(!0),m.splice(o,1));for(o=0;o<E;o++)h[o]&&h[o].finish&&h[o].finish.call(this);delete l.finish})}}),u.each(["toggle","show","hide"],function(r,o){var l=u.fn[o];u.fn[o]=function(h,g,m){return h==null||typeof h=="boolean"?l.apply(this,arguments):this.animate(_n(o,!0),h,g,m)}}),u.each({slideDown:_n("show"),slideUp:_n("hide"),slideToggle:_n("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,o){u.fn[r]=function(l,h,g){return this.animate(o,l,h,g)}}),u.timers=[],u.fx.tick=function(){var r,o=0,l=u.timers;for(gi=Date.now();o<l.length;o++)r=l[o],!r()&&l[o]===r&&l.splice(o--,1);l.length||u.fx.stop(),gi=void 0},u.fx.timer=function(r){u.timers.push(r),u.fx.start()},u.fx.interval=13,u.fx.start=function(){Oi||(Oi=!0,Qi())},u.fx.stop=function(){Oi=null},u.fx.speeds={slow:600,fast:200,_default:400},u.fn.delay=function(r,o){return r=u.fx&&u.fx.speeds[r]||r,o=o||"fx",this.queue(o,function(l,h){var g=t.setTimeout(l,r);h.stop=function(){t.clearTimeout(g)}})},function(){var r=C.createElement("input"),o=C.createElement("select"),l=o.appendChild(C.createElement("option"));r.type="checkbox",nt.checkOn=r.value!=="",nt.optSelected=l.selected,r=C.createElement("input"),r.value="t",r.type="radio",nt.radioValue=r.value==="t"}();var Zi,Ri=u.expr.attrHandle;u.fn.extend({attr:function(r,o){return ii(this,u.attr,r,o,arguments.length>1)},removeAttr:function(r){return this.each(function(){u.removeAttr(this,r)})}}),u.extend({attr:function(r,o,l){var h,g,m=r.nodeType;if(!(m===3||m===8||m===2)){if(typeof r.getAttribute>"u")return u.prop(r,o,l);if((m!==1||!u.isXMLDoc(r))&&(g=u.attrHooks[o.toLowerCase()]||(u.expr.match.bool.test(o)?Zi:void 0)),l!==void 0){if(l===null){u.removeAttr(r,o);return}return g&&"set"in g&&(h=g.set(r,l,o))!==void 0?h:(r.setAttribute(o,l+""),l)}return g&&"get"in g&&(h=g.get(r,o))!==null?h:(h=u.find.attr(r,o),h??void 0)}},attrHooks:{type:{set:function(r,o){if(!nt.radioValue&&o==="radio"&&et(r,"input")){var l=r.value;return r.setAttribute("type",o),l&&(r.value=l),o}}}},removeAttr:function(r,o){var l,h=0,g=o&&o.match(ut);if(g&&r.nodeType===1)for(;l=g[h++];)r.removeAttribute(l)}}),Zi={set:function(r,o,l){return o===!1?u.removeAttr(r,l):r.setAttribute(l,l),l}},u.each(u.expr.match.bool.source.match(/\w+/g),function(r,o){var l=Ri[o]||u.find.attr;Ri[o]=function(h,g,m){var E,k,_=g.toLowerCase();return m||(k=Ri[_],Ri[_]=E,E=l(h,g,m)!=null?_:null,Ri[_]=k),E}});var Ns=/^(?:input|select|textarea|button)$/i,Ps=/^(?:a|area)$/i;u.fn.extend({prop:function(r,o){return ii(this,u.prop,r,o,arguments.length>1)},removeProp:function(r){return this.each(function(){delete this[u.propFix[r]||r]})}}),u.extend({prop:function(r,o,l){var h,g,m=r.nodeType;if(!(m===3||m===8||m===2))return(m!==1||!u.isXMLDoc(r))&&(o=u.propFix[o]||o,g=u.propHooks[o]),l!==void 0?g&&"set"in g&&(h=g.set(r,l,o))!==void 0?h:r[o]=l:g&&"get"in g&&(h=g.get(r,o))!==null?h:r[o]},propHooks:{tabIndex:{get:function(r){var o=u.find.attr(r,"tabindex");return o?parseInt(o,10):Ns.test(r.nodeName)||Ps.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),nt.optSelected||(u.propHooks.selected={get:function(r){var o=r.parentNode;return o&&o.parentNode&&o.parentNode.selectedIndex,null},set:function(r){var o=r.parentNode;o&&(o.selectedIndex,o.parentNode&&o.parentNode.selectedIndex)}}),u.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){u.propFix[this.toLowerCase()]=this});function Me(r){var o=r.match(ut)||[];return o.join(" ")}function Di(r){return r.getAttribute&&r.getAttribute("class")||""}function cr(r){return Array.isArray(r)?r:typeof r=="string"?r.match(ut)||[]:[]}u.fn.extend({addClass:function(r){var o,l,h,g,m,E;return X(r)?this.each(function(k){u(this).addClass(r.call(this,k,Di(this)))}):(o=cr(r),o.length?this.each(function(){if(h=Di(this),l=this.nodeType===1&&" "+Me(h)+" ",l){for(m=0;m<o.length;m++)g=o[m],l.indexOf(" "+g+" ")<0&&(l+=g+" ");E=Me(l),h!==E&&this.setAttribute("class",E)}}):this)},removeClass:function(r){var o,l,h,g,m,E;return X(r)?this.each(function(k){u(this).removeClass(r.call(this,k,Di(this)))}):arguments.length?(o=cr(r),o.length?this.each(function(){if(h=Di(this),l=this.nodeType===1&&" "+Me(h)+" ",l){for(m=0;m<o.length;m++)for(g=o[m];l.indexOf(" "+g+" ")>-1;)l=l.replace(" "+g+" "," ");E=Me(l),h!==E&&this.setAttribute("class",E)}}):this):this.attr("class","")},toggleClass:function(r,o){var l,h,g,m,E=typeof r,k=E==="string"||Array.isArray(r);return X(r)?this.each(function(_){u(this).toggleClass(r.call(this,_,Di(this),o),o)}):typeof o=="boolean"&&k?o?this.addClass(r):this.removeClass(r):(l=cr(r),this.each(function(){if(k)for(m=u(this),g=0;g<l.length;g++)h=l[g],m.hasClass(h)?m.removeClass(h):m.addClass(h);else(r===void 0||E==="boolean")&&(h=Di(this),h&&lt.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||r===!1?"":lt.get(this,"__className__")||""))}))},hasClass:function(r){var o,l,h=0;for(o=" "+r+" ";l=this[h++];)if(l.nodeType===1&&(" "+Me(Di(l))+" ").indexOf(o)>-1)return!0;return!1}});var Is=/\r/g;u.fn.extend({val:function(r){var o,l,h,g=this[0];return arguments.length?(h=X(r),this.each(function(m){var E;this.nodeType===1&&(h?E=r.call(this,m,u(this).val()):E=r,E==null?E="":typeof E=="number"?E+="":Array.isArray(E)&&(E=u.map(E,function(k){return k==null?"":k+""})),o=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()],(!o||!("set"in o)||o.set(this,E,"value")===void 0)&&(this.value=E))})):g?(o=u.valHooks[g.type]||u.valHooks[g.nodeName.toLowerCase()],o&&"get"in o&&(l=o.get(g,"value"))!==void 0?l:(l=g.value,typeof l=="string"?l.replace(Is,""):l??"")):void 0}}),u.extend({valHooks:{option:{get:function(r){var o=u.find.attr(r,"value");return o??Me(u.text(r))}},select:{get:function(r){var o,l,h,g=r.options,m=r.selectedIndex,E=r.type==="select-one",k=E?null:[],_=E?m+1:g.length;for(m<0?h=_:h=E?m:0;h<_;h++)if(l=g[h],(l.selected||h===m)&&!l.disabled&&(!l.parentNode.disabled||!et(l.parentNode,"optgroup"))){if(o=u(l).val(),E)return o;k.push(o)}return k},set:function(r,o){for(var l,h,g=r.options,m=u.makeArray(o),E=g.length;E--;)h=g[E],(h.selected=u.inArray(u.valHooks.option.get(h),m)>-1)&&(l=!0);return l||(r.selectedIndex=-1),m}}}}),u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(r,o){if(Array.isArray(o))return r.checked=u.inArray(u(r).val(),o)>-1}},nt.checkOn||(u.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})});var tn=t.location,qr={guid:Date.now()},ur=/\?/;u.parseXML=function(r){var o,l;if(!r||typeof r!="string")return null;try{o=new t.DOMParser().parseFromString(r,"text/xml")}catch{}return l=o&&o.getElementsByTagName("parsererror")[0],(!o||l)&&u.error("Invalid XML: "+(l?u.map(l.childNodes,function(h){return h.textContent}).join(`
`):r)),o};var hr=/^(?:focusinfocus|focusoutblur)$/,Wr=function(r){r.stopPropagation()};u.extend(u.event,{trigger:function(r,o,l,h){var g,m,E,k,_,M,j,W,P=[l||C],z=tt.call(r,"type")?r.type:r,pt=tt.call(r,"namespace")?r.namespace.split("."):[];if(m=W=E=l=l||C,!(l.nodeType===3||l.nodeType===8)&&!hr.test(z+u.event.triggered)&&(z.indexOf(".")>-1&&(pt=z.split("."),z=pt.shift(),pt.sort()),_=z.indexOf(":")<0&&"on"+z,r=r[u.expando]?r:new u.Event(z,typeof r=="object"&&r),r.isTrigger=h?2:3,r.namespace=pt.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+pt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=l),o=o==null?[r]:u.makeArray(o,[r]),j=u.event.special[z]||{},!(!h&&j.trigger&&j.trigger.apply(l,o)===!1))){if(!h&&!j.noBubble&&!K(l)){for(k=j.delegateType||z,hr.test(k+z)||(m=m.parentNode);m;m=m.parentNode)P.push(m),E=m;E===(l.ownerDocument||C)&&P.push(E.defaultView||E.parentWindow||t)}for(g=0;(m=P[g++])&&!r.isPropagationStopped();)W=m,r.type=g>1?k:j.bindType||z,M=(lt.get(m,"events")||Object.create(null))[r.type]&&lt.get(m,"handle"),M&&M.apply(m,o),M=_&&m[_],M&&M.apply&&Ki(m)&&(r.result=M.apply(m,o),r.result===!1&&r.preventDefault());return r.type=z,!h&&!r.isDefaultPrevented()&&(!j._default||j._default.apply(P.pop(),o)===!1)&&Ki(l)&&_&&X(l[z])&&!K(l)&&(E=l[_],E&&(l[_]=null),u.event.triggered=z,r.isPropagationStopped()&&W.addEventListener(z,Wr),l[z](),r.isPropagationStopped()&&W.removeEventListener(z,Wr),u.event.triggered=void 0,E&&(l[_]=E)),r.result}},simulate:function(r,o,l){var h=u.extend(new u.Event,l,{type:r,isSimulated:!0});u.event.trigger(h,null,o)}}),u.fn.extend({trigger:function(r,o){return this.each(function(){u.event.trigger(r,o,this)})},triggerHandler:function(r,o){var l=this[0];if(l)return u.event.trigger(r,o,l,!0)}});var xo=/\[\]$/,Fs=/\r?\n/g,Bs=/^(?:submit|button|image|reset|file)$/i,js=/^(?:input|select|textarea|keygen)/i;function en(r,o,l,h){var g;if(Array.isArray(o))u.each(o,function(m,E){l||xo.test(r)?h(r,E):en(r+"["+(typeof E=="object"&&E!=null?m:"")+"]",E,l,h)});else if(!l&&f(o)==="object")for(g in o)en(r+"["+g+"]",o[g],l,h);else h(r,o)}u.param=function(r,o){var l,h=[],g=function(m,E){var k=X(E)?E():E;h[h.length]=encodeURIComponent(m)+"="+encodeURIComponent(k??"")};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!u.isPlainObject(r))u.each(r,function(){g(this.name,this.value)});else for(l in r)en(l,r[l],o,g);return h.join("&")},u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=u.prop(this,"elements");return r?u.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!u(this).is(":disabled")&&js.test(this.nodeName)&&!Bs.test(r)&&(this.checked||!Ci.test(r))}).map(function(r,o){var l=u(this).val();return l==null?null:Array.isArray(l)?u.map(l,function(h){return{name:o.name,value:h.replace(Fs,`\r
`)}}):{name:o.name,value:l.replace(Fs,`\r
`)}}).get()}});var So=/%20/g,Co=/#.*$/,Hr=/([?&])_=[^&]*/,qs=/^(.*?):[ \t]*([^\r\n]*)$/mg,Vr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$r=/^(?:GET|HEAD)$/,Ws=/^\/\//,Ur={},Ln={},Hs="*/".concat("*"),dr=C.createElement("a");dr.href=tn.href;function zr(r){return function(o,l){typeof o!="string"&&(l=o,o="*");var h,g=0,m=o.toLowerCase().match(ut)||[];if(X(l))for(;h=m[g++];)h[0]==="+"?(h=h.slice(1)||"*",(r[h]=r[h]||[]).unshift(l)):(r[h]=r[h]||[]).push(l)}}function Mi(r,o,l,h){var g={},m=r===Ln;function E(k){var _;return g[k]=!0,u.each(r[k]||[],function(M,j){var W=j(o,l,h);if(typeof W=="string"&&!m&&!g[W])return o.dataTypes.unshift(W),E(W),!1;if(m)return!(_=W)}),_}return E(o.dataTypes[0])||!g["*"]&&E("*")}function Ni(r,o){var l,h,g=u.ajaxSettings.flatOptions||{};for(l in o)o[l]!==void 0&&((g[l]?r:h||(h={}))[l]=o[l]);return h&&u.extend(!0,r,h),r}function Kr(r,o,l){for(var h,g,m,E,k=r.contents,_=r.dataTypes;_[0]==="*";)_.shift(),h===void 0&&(h=r.mimeType||o.getResponseHeader("Content-Type"));if(h){for(g in k)if(k[g]&&k[g].test(h)){_.unshift(g);break}}if(_[0]in l)m=_[0];else{for(g in l){if(!_[0]||r.converters[g+" "+_[0]]){m=g;break}E||(E=g)}m=m||E}if(m)return m!==_[0]&&_.unshift(m),l[m]}function To(r,o,l,h){var g,m,E,k,_,M={},j=r.dataTypes.slice();if(j[1])for(E in r.converters)M[E.toLowerCase()]=r.converters[E];for(m=j.shift();m;)if(r.responseFields[m]&&(l[r.responseFields[m]]=o),!_&&h&&r.dataFilter&&(o=r.dataFilter(o,r.dataType)),_=m,m=j.shift(),m){if(m==="*")m=_;else if(_!=="*"&&_!==m){if(E=M[_+" "+m]||M["* "+m],!E){for(g in M)if(k=g.split(" "),k[1]===m&&(E=M[_+" "+k[0]]||M["* "+k[0]],E)){E===!0?E=M[g]:M[g]!==!0&&(m=k[0],j.unshift(k[1]));break}}if(E!==!0)if(E&&r.throws)o=E(o);else try{o=E(o)}catch(W){return{state:"parsererror",error:E?W:"No conversion from "+_+" to "+m}}}}return{state:"success",data:o}}u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tn.href,type:"GET",isLocal:Vr.test(tn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,o){return o?Ni(Ni(r,u.ajaxSettings),o):Ni(u.ajaxSettings,r)},ajaxPrefilter:zr(Ur),ajaxTransport:zr(Ln),ajax:function(r,o){typeof r=="object"&&(o=r,r=void 0),o=o||{};var l,h,g,m,E,k,_,M,j,W,P=u.ajaxSetup({},o),z=P.context||P,pt=P.context&&(z.nodeType||z.jquery)?u(z):u.event,_t=u.Deferred(),yt=u.Callbacks("once memory"),oe=P.statusCode||{},Jt={},qe={},We="canceled",Ct={readyState:0,getResponseHeader:function(Ot){var Vt;if(_){if(!m)for(m={};Vt=qs.exec(g);)m[Vt[1].toLowerCase()+" "]=(m[Vt[1].toLowerCase()+" "]||[]).concat(Vt[2]);Vt=m[Ot.toLowerCase()+" "]}return Vt==null?null:Vt.join(", ")},getAllResponseHeaders:function(){return _?g:null},setRequestHeader:function(Ot,Vt){return _==null&&(Ot=qe[Ot.toLowerCase()]=qe[Ot.toLowerCase()]||Ot,Jt[Ot]=Vt),this},overrideMimeType:function(Ot){return _==null&&(P.mimeType=Ot),this},statusCode:function(Ot){var Vt;if(Ot)if(_)Ct.always(Ot[Ct.status]);else for(Vt in Ot)oe[Vt]=[oe[Vt],Ot[Vt]];return this},abort:function(Ot){var Vt=Ot||We;return l&&l.abort(Vt),mi(0,Vt),this}};if(_t.promise(Ct),P.url=((r||P.url||tn.href)+"").replace(Ws,tn.protocol+"//"),P.type=o.method||o.type||P.method||P.type,P.dataTypes=(P.dataType||"*").toLowerCase().match(ut)||[""],P.crossDomain==null){k=C.createElement("a");try{k.href=P.url,k.href=k.href,P.crossDomain=dr.protocol+"//"+dr.host!=k.protocol+"//"+k.host}catch{P.crossDomain=!0}}if(P.data&&P.processData&&typeof P.data!="string"&&(P.data=u.param(P.data,P.traditional)),Mi(Ur,P,o,Ct),_)return Ct;M=u.event&&P.global,M&&u.active++===0&&u.event.trigger("ajaxStart"),P.type=P.type.toUpperCase(),P.hasContent=!$r.test(P.type),h=P.url.replace(Co,""),P.hasContent?P.data&&P.processData&&(P.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(P.data=P.data.replace(So,"+")):(W=P.url.slice(h.length),P.data&&(P.processData||typeof P.data=="string")&&(h+=(ur.test(h)?"&":"?")+P.data,delete P.data),P.cache===!1&&(h=h.replace(Hr,"$1"),W=(ur.test(h)?"&":"?")+"_="+qr.guid+++W),P.url=h+W),P.ifModified&&(u.lastModified[h]&&Ct.setRequestHeader("If-Modified-Since",u.lastModified[h]),u.etag[h]&&Ct.setRequestHeader("If-None-Match",u.etag[h])),(P.data&&P.hasContent&&P.contentType!==!1||o.contentType)&&Ct.setRequestHeader("Content-Type",P.contentType),Ct.setRequestHeader("Accept",P.dataTypes[0]&&P.accepts[P.dataTypes[0]]?P.accepts[P.dataTypes[0]]+(P.dataTypes[0]!=="*"?", "+Hs+"; q=0.01":""):P.accepts["*"]);for(j in P.headers)Ct.setRequestHeader(j,P.headers[j]);if(P.beforeSend&&(P.beforeSend.call(z,Ct,P)===!1||_))return Ct.abort();if(We="abort",yt.add(P.complete),Ct.done(P.success),Ct.fail(P.error),l=Mi(Ln,P,o,Ct),!l)mi(-1,"No Transport");else{if(Ct.readyState=1,M&&pt.trigger("ajaxSend",[Ct,P]),_)return Ct;P.async&&P.timeout>0&&(E=t.setTimeout(function(){Ct.abort("timeout")},P.timeout));try{_=!1,l.send(Jt,mi)}catch(Ot){if(_)throw Ot;mi(-1,Ot)}}function mi(Ot,Vt,nn,On){var ue,rn,He,bi,ri,we=Vt;_||(_=!0,E&&t.clearTimeout(E),l=void 0,g=On||"",Ct.readyState=Ot>0?4:0,ue=Ot>=200&&Ot<300||Ot===304,nn&&(bi=Kr(P,Ct,nn)),!ue&&u.inArray("script",P.dataTypes)>-1&&u.inArray("json",P.dataTypes)<0&&(P.converters["text script"]=function(){}),bi=To(P,bi,Ct,ue),ue?(P.ifModified&&(ri=Ct.getResponseHeader("Last-Modified"),ri&&(u.lastModified[h]=ri),ri=Ct.getResponseHeader("etag"),ri&&(u.etag[h]=ri)),Ot===204||P.type==="HEAD"?we="nocontent":Ot===304?we="notmodified":(we=bi.state,rn=bi.data,He=bi.error,ue=!He)):(He=we,(Ot||!we)&&(we="error",Ot<0&&(Ot=0))),Ct.status=Ot,Ct.statusText=(Vt||we)+"",ue?_t.resolveWith(z,[rn,we,Ct]):_t.rejectWith(z,[Ct,we,He]),Ct.statusCode(oe),oe=void 0,M&&pt.trigger(ue?"ajaxSuccess":"ajaxError",[Ct,P,ue?rn:He]),yt.fireWith(z,[Ct,we]),M&&(pt.trigger("ajaxComplete",[Ct,P]),--u.active||u.event.trigger("ajaxStop")))}return Ct},getJSON:function(r,o,l){return u.get(r,o,l,"json")},getScript:function(r,o){return u.get(r,void 0,o,"script")}}),u.each(["get","post"],function(r,o){u[o]=function(l,h,g,m){return X(h)&&(m=m||g,g=h,h=void 0),u.ajax(u.extend({url:l,type:o,dataType:m,data:h,success:g},u.isPlainObject(l)&&l))}}),u.ajaxPrefilter(function(r){var o;for(o in r.headers)o.toLowerCase()==="content-type"&&(r.contentType=r.headers[o]||"")}),u._evalUrl=function(r,o,l){return u.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){u.globalEval(h,o,l)}})},u.fn.extend({wrapAll:function(r){var o;return this[0]&&(X(r)&&(r=r.call(this[0])),o=u(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&o.insertBefore(this[0]),o.map(function(){for(var l=this;l.firstElementChild;)l=l.firstElementChild;return l}).append(this)),this},wrapInner:function(r){return X(r)?this.each(function(o){u(this).wrapInner(r.call(this,o))}):this.each(function(){var o=u(this),l=o.contents();l.length?l.wrapAll(r):o.append(r)})},wrap:function(r){var o=X(r);return this.each(function(l){u(this).wrapAll(o?r.call(this,l):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){u(this).replaceWith(this.childNodes)}),this}}),u.expr.pseudos.hidden=function(r){return!u.expr.pseudos.visible(r)},u.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},u.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var _o={0:200,1223:204},kn=u.ajaxSettings.xhr();nt.cors=!!kn&&"withCredentials"in kn,nt.ajax=kn=!!kn,u.ajaxTransport(function(r){var o,l;if(nt.cors||kn&&!r.crossDomain)return{send:function(h,g){var m,E=r.xhr();if(E.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(m in r.xhrFields)E[m]=r.xhrFields[m];r.mimeType&&E.overrideMimeType&&E.overrideMimeType(r.mimeType),!r.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(m in h)E.setRequestHeader(m,h[m]);o=function(k){return function(){o&&(o=l=E.onload=E.onerror=E.onabort=E.ontimeout=E.onreadystatechange=null,k==="abort"?E.abort():k==="error"?typeof E.status!="number"?g(0,"error"):g(E.status,E.statusText):g(_o[E.status]||E.status,E.statusText,(E.responseType||"text")!=="text"||typeof E.responseText!="string"?{binary:E.response}:{text:E.responseText},E.getAllResponseHeaders()))}},E.onload=o(),l=E.onerror=E.ontimeout=o("error"),E.onabort!==void 0?E.onabort=l:E.onreadystatechange=function(){E.readyState===4&&t.setTimeout(function(){o&&l()})},o=o("abort");try{E.send(r.hasContent&&r.data||null)}catch(k){if(o)throw k}},abort:function(){o&&o()}}}),u.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return u.globalEval(r),r}}}),u.ajaxPrefilter("script",function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),u.ajaxTransport("script",function(r){if(r.crossDomain||r.scriptAttrs){var o,l;return{send:function(h,g){o=u("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",l=function(m){o.remove(),l=null,m&&g(m.type==="error"?404:200,m.type)}),C.head.appendChild(o[0])},abort:function(){l&&l()}}}});var Vs=[],Xr=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=Vs.pop()||u.expando+"_"+qr.guid++;return this[r]=!0,r}}),u.ajaxPrefilter("json jsonp",function(r,o,l){var h,g,m,E=r.jsonp!==!1&&(Xr.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Xr.test(r.data)&&"data");if(E||r.dataTypes[0]==="jsonp")return h=r.jsonpCallback=X(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,E?r[E]=r[E].replace(Xr,"$1"+h):r.jsonp!==!1&&(r.url+=(ur.test(r.url)?"&":"?")+r.jsonp+"="+h),r.converters["script json"]=function(){return m||u.error(h+" was not called"),m[0]},r.dataTypes[0]="json",g=t[h],t[h]=function(){m=arguments},l.always(function(){g===void 0?u(t).removeProp(h):t[h]=g,r[h]&&(r.jsonpCallback=o.jsonpCallback,Vs.push(h)),m&&X(g)&&g(m[0]),m=g=void 0}),"script"}),nt.createHTMLDocument=function(){var r=C.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}(),u.parseHTML=function(r,o,l){if(typeof r!="string")return[];typeof o=="boolean"&&(l=o,o=!1);var h,g,m;return o||(nt.createHTMLDocument?(o=C.implementation.createHTMLDocument(""),h=o.createElement("base"),h.href=C.location.href,o.head.appendChild(h)):o=C),g=Le.exec(r),m=!l&&[],g?[o.createElement(g[1])]:(g=Or([r],o,m),m&&m.length&&u(m).remove(),u.merge([],g.childNodes))},u.fn.load=function(r,o,l){var h,g,m,E=this,k=r.indexOf(" ");return k>-1&&(h=Me(r.slice(k)),r=r.slice(0,k)),X(o)?(l=o,o=void 0):o&&typeof o=="object"&&(g="POST"),E.length>0&&u.ajax({url:r,type:g||"GET",dataType:"html",data:o}).done(function(_){m=arguments,E.html(h?u("<div>").append(u.parseHTML(_)).find(h):_)}).always(l&&function(_,M){E.each(function(){l.apply(this,m||[_.responseText,M,_])})}),this},u.expr.pseudos.animated=function(r){return u.grep(u.timers,function(o){return r===o.elem}).length},u.offset={setOffset:function(r,o,l){var h,g,m,E,k,_,M,j=u.css(r,"position"),W=u(r),P={};j==="static"&&(r.style.position="relative"),k=W.offset(),m=u.css(r,"top"),_=u.css(r,"left"),M=(j==="absolute"||j==="fixed")&&(m+_).indexOf("auto")>-1,M?(h=W.position(),E=h.top,g=h.left):(E=parseFloat(m)||0,g=parseFloat(_)||0),X(o)&&(o=o.call(r,l,u.extend({},k))),o.top!=null&&(P.top=o.top-k.top+E),o.left!=null&&(P.left=o.left-k.left+g),"using"in o?o.using.call(r,P):W.css(P)}},u.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each(function(g){u.offset.setOffset(this,r,g)});var o,l,h=this[0];if(h)return h.getClientRects().length?(o=h.getBoundingClientRect(),l=h.ownerDocument.defaultView,{top:o.top+l.pageYOffset,left:o.left+l.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var r,o,l,h=this[0],g={top:0,left:0};if(u.css(h,"position")==="fixed")o=h.getBoundingClientRect();else{for(o=this.offset(),l=h.ownerDocument,r=h.offsetParent||l.documentElement;r&&(r===l.body||r===l.documentElement)&&u.css(r,"position")==="static";)r=r.parentNode;r&&r!==h&&r.nodeType===1&&(g=u(r).offset(),g.top+=u.css(r,"borderTopWidth",!0),g.left+=u.css(r,"borderLeftWidth",!0))}return{top:o.top-g.top-u.css(h,"marginTop",!0),left:o.left-g.left-u.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&u.css(r,"position")==="static";)r=r.offsetParent;return r||Zt})}}),u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,o){var l=o==="pageYOffset";u.fn[r]=function(h){return ii(this,function(g,m,E){var k;if(K(g)?k=g:g.nodeType===9&&(k=g.defaultView),E===void 0)return k?k[o]:g[m];k?k.scrollTo(l?k.pageXOffset:E,l?E:k.pageYOffset):g[m]=E},r,h,arguments.length)}}),u.each(["top","left"],function(r,o){u.cssHooks[o]=Nr(nt.pixelPosition,function(l,h){if(h)return h=fi(l,o),Cn.test(h)?u(l).position()[o]+"px":h})}),u.each({Height:"height",Width:"width"},function(r,o){u.each({padding:"inner"+r,content:o,"":"outer"+r},function(l,h){u.fn[h]=function(g,m){var E=arguments.length&&(l||typeof g!="boolean"),k=l||(g===!0||m===!0?"margin":"border");return ii(this,function(_,M,j){var W;return K(_)?h.indexOf("outer")===0?_["inner"+r]:_.document.documentElement["client"+r]:_.nodeType===9?(W=_.documentElement,Math.max(_.body["scroll"+r],W["scroll"+r],_.body["offset"+r],W["offset"+r],W["client"+r])):j===void 0?u.css(_,M,k):u.style(_,M,j,k)},o,E?g:void 0,E)}})}),u.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,o){u.fn[o]=function(l){return this.on(o,l)}}),u.fn.extend({bind:function(r,o,l){return this.on(r,null,o,l)},unbind:function(r,o){return this.off(r,null,o)},delegate:function(r,o,l,h){return this.on(o,r,l,h)},undelegate:function(r,o,l){return arguments.length===1?this.off(r,"**"):this.off(o,r||"**",l)},hover:function(r,o){return this.on("mouseenter",r).on("mouseleave",o||r)}}),u.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,o){u.fn[o]=function(l,h){return arguments.length>0?this.on(o,null,l,h):this.trigger(o)}});var Lo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;u.proxy=function(r,o){var l,h,g;if(typeof o=="string"&&(l=r[o],o=r,r=l),!!X(r))return h=c.call(arguments,2),g=function(){return r.apply(o||this,h.concat(c.call(arguments)))},g.guid=r.guid=r.guid||u.guid++,g},u.holdReady=function(r){r?u.readyWait++:u.ready(!0)},u.isArray=Array.isArray,u.parseJSON=JSON.parse,u.nodeName=et,u.isFunction=X,u.isWindow=K,u.camelCase=Qt,u.type=f,u.now=Date.now,u.isNumeric=function(r){var o=u.type(r);return(o==="number"||o==="string")&&!isNaN(r-parseFloat(r))},u.trim=function(r){return r==null?"":(r+"").replace(Lo,"$1")};var ko=t.jQuery,Oo=t.$;return u.noConflict=function(r){return t.$===u&&(t.$=Oo),r&&t.jQuery===u&&(t.jQuery=ko),u},typeof e>"u"&&(t.jQuery=t.$=u),u})})(Nu);var gm=Nu.exports;const Pu=Mu(gm);window.jQuery=Pu;window.$=Pu;/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(n,t){typeof exports=="object"&&typeof module<"u"?module.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self).bootstrap=t()})(void 0,function(){const n="transitionend",t=A=>{let a=A.getAttribute("data-bs-target");if(!a||a==="#"){let d=A.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),a=d&&d!=="#"?d.trim():null}return a},e=A=>{const a=t(A);return a&&document.querySelector(a)?a:null},i=A=>{const a=t(A);return a?document.querySelector(a):null},s=A=>{A.dispatchEvent(new Event(n))},c=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),v=A=>c(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(A):null,x=(A,a,d)=>{Object.keys(d).forEach(w=>{const L=d[w],R=a[w],I=R&&c(R)?"element":(H=R)==null?`${H}`:{}.toString.call(H).match(/\s([a-z]+)/i)[1].toLowerCase();var H;if(!new RegExp(L).test(I))throw new TypeError(`${A.toUpperCase()}: Option "${w}" provided type "${I}" but expected type "${L}".`)})},D=A=>!(!c(A)||A.getClientRects().length===0)&&getComputedStyle(A).getPropertyValue("visibility")==="visible",B=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),U=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const a=A.getRootNode();return a instanceof ShadowRoot?a:null}return A instanceof ShadowRoot?A:A.parentNode?U(A.parentNode):null},tt=()=>{},ct=A=>{A.offsetHeight},at=()=>{const{jQuery:A}=window;return A&&!document.body.hasAttribute("data-bs-no-jquery")?A:null},nt=[],X=()=>document.documentElement.dir==="rtl",K=A=>{var a;a=()=>{const d=at();if(d){const w=A.NAME,L=d.fn[w];d.fn[w]=A.jQueryInterface,d.fn[w].Constructor=A,d.fn[w].noConflict=()=>(d.fn[w]=L,A.jQueryInterface)}},document.readyState==="loading"?(nt.length||document.addEventListener("DOMContentLoaded",()=>{nt.forEach(d=>d())}),nt.push(a)):a()},C=A=>{typeof A=="function"&&A()},T=(A,a,d=!0)=>{if(!d)return void C(A);const w=(I=>{if(!I)return 0;let{transitionDuration:H,transitionDelay:Y}=window.getComputedStyle(I);const it=Number.parseFloat(H),rt=Number.parseFloat(Y);return it||rt?(H=H.split(",")[0],Y=Y.split(",")[0],1e3*(Number.parseFloat(H)+Number.parseFloat(Y))):0})(a)+5;let L=!1;const R=({target:I})=>{I===a&&(L=!0,a.removeEventListener(n,R),C(A))};a.addEventListener(n,R),setTimeout(()=>{L||s(a)},w)},p=(A,a,d,w)=>{let L=A.indexOf(a);if(L===-1)return A[!d&&w?A.length-1:0];const R=A.length;return L+=d?1:-1,w&&(L=(L+R)%R),A[Math.max(0,Math.min(L,R-1))]},f=/[^.]*(?=\..*)\.|.*/,y=/\..*/,b=/::\d+$/,u={};let ot=1;const et={mouseenter:"mouseover",mouseleave:"mouseout"},Wt=/^(mouseenter|mouseleave)/i,Gt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ht(A,a){return a&&`${a}::${ot++}`||A.uidEvent||ot++}function Et(A){const a=Ht(A);return A.uidEvent=a,u[a]=u[a]||{},u[a]}function Ze(A,a,d=null){const w=Object.keys(A);for(let L=0,R=w.length;L<R;L++){const I=A[w[L]];if(I.originalHandler===a&&I.delegationSelector===d)return I}return null}function Yn(A,a,d){const w=typeof a=="string",L=w?d:a;let R=Gn(A);return Gt.has(R)||(R=A),[w,L,R]}function Es(A,a,d,w,L){if(typeof a!="string"||!A)return;if(d||(d=w,w=null),Wt.test(a)){const gt=mt=>function(vt){if(!vt.relatedTarget||vt.relatedTarget!==vt.delegateTarget&&!vt.delegateTarget.contains(vt.relatedTarget))return mt.call(this,vt)};w?w=gt(w):d=gt(d)}const[R,I,H]=Yn(a,d,w),Y=Et(A),it=Y[H]||(Y[H]={}),rt=Ze(it,I,R?d:null);if(rt)return void(rt.oneOff=rt.oneOff&&L);const G=Ht(I,a.replace(f,"")),Tt=R?function(gt,mt,vt){return function bt(qt){const Mt=gt.querySelectorAll(mt);for(let{target:St}=qt;St&&St!==this;St=St.parentNode)for(let Nt=Mt.length;Nt--;)if(Mt[Nt]===St)return qt.delegateTarget=St,bt.oneOff&&V.off(gt,qt.type,mt,vt),vt.apply(St,[qt]);return null}}(A,d,w):function(gt,mt){return function vt(bt){return bt.delegateTarget=gt,vt.oneOff&&V.off(gt,bt.type,mt),mt.apply(gt,[bt])}}(A,d);Tt.delegationSelector=R?d:null,Tt.originalHandler=I,Tt.oneOff=L,Tt.uidEvent=G,it[G]=Tt,A.addEventListener(H,Tt,R)}function Be(A,a,d,w,L){const R=Ze(a[d],w,L);R&&(A.removeEventListener(d,R,!!L),delete a[d][R.uidEvent])}function Gn(A){return A=A.replace(y,""),et[A]||A}const V={on(A,a,d,w){Es(A,a,d,w,!1)},one(A,a,d,w){Es(A,a,d,w,!0)},off(A,a,d,w){if(typeof a!="string"||!A)return;const[L,R,I]=Yn(a,d,w),H=I!==a,Y=Et(A),it=a.startsWith(".");if(R!==void 0)return!Y||!Y[I]?void 0:void Be(A,Y,I,R,L?d:null);it&&Object.keys(Y).forEach(G=>{(function(Tt,gt,mt,vt){const bt=gt[mt]||{};Object.keys(bt).forEach(qt=>{if(qt.includes(vt)){const Mt=bt[qt];Be(Tt,gt,mt,Mt.originalHandler,Mt.delegationSelector)}})})(A,Y,G,a.slice(1))});const rt=Y[I]||{};Object.keys(rt).forEach(G=>{const Tt=G.replace(b,"");if(!H||a.includes(Tt)){const gt=rt[G];Be(A,Y,I,gt.originalHandler,gt.delegationSelector)}})},trigger(A,a,d){if(typeof a!="string"||!A)return null;const w=at(),L=Gn(a),R=a!==L,I=Gt.has(L);let H,Y=!0,it=!0,rt=!1,G=null;return R&&w&&(H=w.Event(a,d),w(A).trigger(H),Y=!H.isPropagationStopped(),it=!H.isImmediatePropagationStopped(),rt=H.isDefaultPrevented()),I?(G=document.createEvent("HTMLEvents"),G.initEvent(L,Y,!0)):G=new CustomEvent(a,{bubbles:Y,cancelable:!0}),d!==void 0&&Object.keys(d).forEach(Tt=>{Object.defineProperty(G,Tt,{get:()=>d[Tt]})}),rt&&G.preventDefault(),it&&A.dispatchEvent(G),G.defaultPrevented&&H!==void 0&&H.preventDefault(),G}},ti=new Map,$i={set(A,a,d){ti.has(A)||ti.set(A,new Map);const w=ti.get(A);w.has(a)||w.size===0?w.set(a,d):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(A,a)=>ti.has(A)&&ti.get(A).get(a)||null,remove(A,a){if(!ti.has(A))return;const d=ti.get(A);d.delete(a),d.size===0&&ti.delete(A)}};class Le{constructor(a){(a=v(a))&&(this._element=a,$i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){$i.remove(this._element,this.constructor.DATA_KEY),V.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(a=>{this[a]=null})}_queueCallback(a,d,w=!0){T(a,d,w)}static getInstance(a){return $i.get(v(a),this.DATA_KEY)}static getOrCreateInstance(a,d={}){return this.getInstance(a)||new this(a,typeof d=="object"?d:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const Ui=(A,a="hide")=>{const d=`click.dismiss${A.EVENT_KEY}`,w=A.NAME;V.on(document,d,`[data-bs-dismiss="${w}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),B(this))return;const R=i(this)||this.closest(`.${w}`);A.getOrCreateInstance(R)[a]()})};class zi extends Le{static get NAME(){return"alert"}close(){if(V.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),V.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(a){return this.each(function(){const d=zi.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}Ui(zi,"close"),K(zi);const ws='[data-bs-toggle="button"]';class wn extends Le{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(a){return this.each(function(){const d=wn.getOrCreateInstance(this);a==="toggle"&&d[a]()})}}function xs(A){return A==="true"||A!=="false"&&(A===Number(A).toString()?Number(A):A===""||A==="null"?null:A)}function _r(A){return A.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}V.on(document,"click.bs.button.data-api",ws,A=>{A.preventDefault();const a=A.target.closest(ws);wn.getOrCreateInstance(a).toggle()}),K(wn);const ne={setDataAttribute(A,a,d){A.setAttribute(`data-bs-${_r(a)}`,d)},removeDataAttribute(A,a){A.removeAttribute(`data-bs-${_r(a)}`)},getDataAttributes(A){if(!A)return{};const a={};return Object.keys(A.dataset).filter(d=>d.startsWith("bs")).forEach(d=>{let w=d.replace(/^bs/,"");w=w.charAt(0).toLowerCase()+w.slice(1,w.length),a[w]=xs(A.dataset[d])}),a},getDataAttribute:(A,a)=>xs(A.getAttribute(`data-bs-${_r(a)}`)),offset(A){const a=A.getBoundingClientRect();return{top:a.top+window.pageYOffset,left:a.left+window.pageXOffset}},position:A=>({top:A.offsetTop,left:A.offsetLeft})},ut={find:(A,a=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(a,A)),findOne:(A,a=document.documentElement)=>Element.prototype.querySelector.call(a,A),children:(A,a)=>[].concat(...A.children).filter(d=>d.matches(a)),parents(A,a){const d=[];let w=A.parentNode;for(;w&&w.nodeType===Node.ELEMENT_NODE&&w.nodeType!==3;)w.matches(a)&&d.push(w),w=w.parentNode;return d},prev(A,a){let d=A.previousElementSibling;for(;d;){if(d.matches(a))return[d];d=d.previousElementSibling}return[]},next(A,a){let d=A.nextElementSibling;for(;d;){if(d.matches(a))return[d];d=d.nextElementSibling}return[]},focusableChildren(A){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(", ");return this.find(a,A).filter(d=>!B(d)&&D(d))}},Ss="carousel",yi={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Qn={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ci="next",Ai="prev",ei="left",ui="right",ii={ArrowLeft:ui,ArrowRight:ei},Cs="slid.bs.carousel",Ei="active",Zn=".active.carousel-item";class Qt extends Le{constructor(a,d){super(a),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(d),this._indicatorsElement=ut.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!window.PointerEvent,this._addEventListeners()}static get Default(){return yi}static get NAME(){return Ss}next(){this._slide(ci)}nextWhenVisible(){!document.hidden&&D(this._element)&&this.next()}prev(){this._slide(Ai)}pause(a){a||(this._isPaused=!0),ut.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(s(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(a){a||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(a){this._activeElement=ut.findOne(Zn,this._element);const d=this._getItemIndex(this._activeElement);if(a>this._items.length-1||a<0)return;if(this._isSliding)return void V.one(this._element,Cs,()=>this.to(a));if(d===a)return this.pause(),void this.cycle();const w=a>d?ci:Ai;this._slide(w,this._items[a])}_getConfig(a){return a={...yi,...ne.getDataAttributes(this._element),...typeof a=="object"?a:{}},x(Ss,a,Qn),a}_handleSwipe(){const a=Math.abs(this.touchDeltaX);if(a<=40)return;const d=a/this.touchDeltaX;this.touchDeltaX=0,d&&this._slide(d>0?ui:ei)}_addEventListeners(){this._config.keyboard&&V.on(this._element,"keydown.bs.carousel",a=>this._keydown(a)),this._config.pause==="hover"&&(V.on(this._element,"mouseenter.bs.carousel",a=>this.pause(a)),V.on(this._element,"mouseleave.bs.carousel",a=>this.cycle(a))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const a=R=>this._pointerEvent&&(R.pointerType==="pen"||R.pointerType==="touch"),d=R=>{a(R)?this.touchStartX=R.clientX:this._pointerEvent||(this.touchStartX=R.touches[0].clientX)},w=R=>{this.touchDeltaX=R.touches&&R.touches.length>1?0:R.touches[0].clientX-this.touchStartX},L=R=>{a(R)&&(this.touchDeltaX=R.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(I=>this.cycle(I),500+this._config.interval))};ut.find(".carousel-item img",this._element).forEach(R=>{V.on(R,"dragstart.bs.carousel",I=>I.preventDefault())}),this._pointerEvent?(V.on(this._element,"pointerdown.bs.carousel",R=>d(R)),V.on(this._element,"pointerup.bs.carousel",R=>L(R)),this._element.classList.add("pointer-event")):(V.on(this._element,"touchstart.bs.carousel",R=>d(R)),V.on(this._element,"touchmove.bs.carousel",R=>w(R)),V.on(this._element,"touchend.bs.carousel",R=>L(R)))}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const d=ii[a.key];d&&(a.preventDefault(),this._slide(d))}_getItemIndex(a){return this._items=a&&a.parentNode?ut.find(".carousel-item",a.parentNode):[],this._items.indexOf(a)}_getItemByOrder(a,d){const w=a===ci;return p(this._items,d,w,this._config.wrap)}_triggerSlideEvent(a,d){const w=this._getItemIndex(a),L=this._getItemIndex(ut.findOne(Zn,this._element));return V.trigger(this._element,"slide.bs.carousel",{relatedTarget:a,direction:d,from:L,to:w})}_setActiveIndicatorElement(a){if(this._indicatorsElement){const d=ut.findOne(".active",this._indicatorsElement);d.classList.remove(Ei),d.removeAttribute("aria-current");const w=ut.find("[data-bs-target]",this._indicatorsElement);for(let L=0;L<w.length;L++)if(Number.parseInt(w[L].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(a)){w[L].classList.add(Ei),w[L].setAttribute("aria-current","true");break}}}_updateInterval(){const a=this._activeElement||ut.findOne(Zn,this._element);if(!a)return;const d=Number.parseInt(a.getAttribute("data-bs-interval"),10);d?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=d):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(a,d){const w=this._directionToOrder(a),L=ut.findOne(Zn,this._element),R=this._getItemIndex(L),I=d||this._getItemByOrder(w,L),H=this._getItemIndex(I),Y=!!this._interval,it=w===ci,rt=it?"carousel-item-start":"carousel-item-end",G=it?"carousel-item-next":"carousel-item-prev",Tt=this._orderToDirection(w);if(I&&I.classList.contains(Ei))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(I,Tt).defaultPrevented||!L||!I)return;this._isSliding=!0,Y&&this.pause(),this._setActiveIndicatorElement(I),this._activeElement=I;const gt=()=>{V.trigger(this._element,Cs,{relatedTarget:I,direction:Tt,from:R,to:H})};if(this._element.classList.contains("slide")){I.classList.add(G),ct(I),L.classList.add(rt),I.classList.add(rt);const mt=()=>{I.classList.remove(rt,G),I.classList.add(Ei),L.classList.remove(Ei,G,rt),this._isSliding=!1,setTimeout(gt,0)};this._queueCallback(mt,L,!0)}else L.classList.remove(Ei),I.classList.add(Ei),this._isSliding=!1,gt();Y&&this.cycle()}_directionToOrder(a){return[ui,ei].includes(a)?X()?a===ei?Ai:ci:a===ei?ci:Ai:a}_orderToDirection(a){return[ci,Ai].includes(a)?X()?a===Ai?ei:ui:a===Ai?ui:ei:a}static carouselInterface(a,d){const w=Qt.getOrCreateInstance(a,d);let{_config:L}=w;typeof d=="object"&&(L={...L,...d});const R=typeof d=="string"?d:L.slide;if(typeof d=="number")w.to(d);else if(typeof R=="string"){if(w[R]===void 0)throw new TypeError(`No method named "${R}"`);w[R]()}else L.interval&&L.ride&&(w.pause(),w.cycle())}static jQueryInterface(a){return this.each(function(){Qt.carouselInterface(this,a)})}static dataApiClickHandler(a){const d=i(this);if(!d||!d.classList.contains("carousel"))return;const w={...ne.getDataAttributes(d),...ne.getDataAttributes(this)},L=this.getAttribute("data-bs-slide-to");L&&(w.interval=!1),Qt.carouselInterface(d,w),L&&Qt.getInstance(d).to(L),a.preventDefault()}}V.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Qt.dataApiClickHandler),V.on(window,"load.bs.carousel.data-api",()=>{const A=ut.find('[data-bs-ride="carousel"]');for(let a=0,d=A.length;a<d;a++)Qt.carouselInterface(A[a],Qt.getInstance(A[a]))}),K(Qt);const Ki="collapse",Xi={toggle:!0,parent:null},lt={toggle:"boolean",parent:"(null|element)"},le="show",tr="collapse",er="collapsing",Ts="collapsed",Lr=":scope .collapse .collapse",ir='[data-bs-toggle="collapse"]';class je extends Le{constructor(a,d){super(a),this._isTransitioning=!1,this._config=this._getConfig(d),this._triggerArray=[];const w=ut.find(ir);for(let L=0,R=w.length;L<R;L++){const I=w[L],H=e(I),Y=ut.find(H).filter(it=>it===this._element);H!==null&&Y.length&&(this._selector=H,this._triggerArray.push(I))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xi}static get NAME(){return Ki}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a,d=[];if(this._config.parent){const I=ut.find(Lr,this._config.parent);d=ut.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(H=>!I.includes(H))}const w=ut.findOne(this._selector);if(d.length){const I=d.find(H=>w!==H);if(a=I?je.getInstance(I):null,a&&a._isTransitioning)return}if(V.trigger(this._element,"show.bs.collapse").defaultPrevented)return;d.forEach(I=>{w!==I&&je.getOrCreateInstance(I,{toggle:!1}).hide(),a||$i.set(I,"bs.collapse",null)});const L=this._getDimension();this._element.classList.remove(tr),this._element.classList.add(er),this._element.style[L]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const R=`scroll${L[0].toUpperCase()+L.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(er),this._element.classList.add(tr,le),this._element.style[L]="",V.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[L]=`${this._element[R]}px`}hide(){if(this._isTransitioning||!this._isShown()||V.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,ct(this._element),this._element.classList.add(er),this._element.classList.remove(tr,le);const d=this._triggerArray.length;for(let w=0;w<d;w++){const L=this._triggerArray[w],R=i(L);R&&!this._isShown(R)&&this._addAriaAndCollapsedClass([L],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(er),this._element.classList.add(tr),V.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(a=this._element){return a.classList.contains(le)}_getConfig(a){return(a={...Xi,...ne.getDataAttributes(this._element),...a}).toggle=!!a.toggle,a.parent=v(a.parent),x(Ki,a,lt),a}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const a=ut.find(Lr,this._config.parent);ut.find(ir,this._config.parent).filter(d=>!a.includes(d)).forEach(d=>{const w=i(d);w&&this._addAriaAndCollapsedClass([d],this._isShown(w))})}_addAriaAndCollapsedClass(a,d){a.length&&a.forEach(w=>{d?w.classList.remove(Ts):w.classList.add(Ts),w.setAttribute("aria-expanded",d)})}static jQueryInterface(a){return this.each(function(){const d={};typeof a=="string"&&/show|hide/.test(a)&&(d.toggle=!1);const w=je.getOrCreateInstance(this,d);if(typeof a=="string"){if(w[a]===void 0)throw new TypeError(`No method named "${a}"`);w[a]()}})}}V.on(document,"click.bs.collapse.data-api",ir,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();const a=e(this);ut.find(a).forEach(d=>{je.getOrCreateInstance(d,{toggle:!1}).toggle()})}),K(je);var Ut="top",Zt="bottom",re="right",me="left",wi="auto",xi=[Ut,Zt,re,me],hi="start",Ji="end",Si="clippingParents",Ci="viewport",Ti="popper",kr="reference",be=xi.reduce(function(A,a){return A.concat([a+"-"+hi,a+"-"+Ji])},[]),ce=[].concat(xi,[wi]).reduce(function(A,a){return A.concat([a,a+"-"+hi,a+"-"+Ji])},[]),nr="beforeRead",_s="read",Or="afterRead",Rr="beforeMain",_i="main",Li="afterMain",rr="beforeWrite",xn="write",Ls="afterWrite",ks=[nr,_s,Or,Rr,_i,Li,rr,xn,Ls];function ze(A){return A?(A.nodeName||"").toLowerCase():null}function ke(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var a=A.ownerDocument;return a&&a.defaultView||window}return A}function Sn(A){return A instanceof ke(A).Element||A instanceof Element}function Oe(A){return A instanceof ke(A).HTMLElement||A instanceof HTMLElement}function Dr(A){return typeof ShadowRoot<"u"&&(A instanceof ke(A).ShadowRoot||A instanceof ShadowRoot)}const Mr={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var a=A.state;Object.keys(a.elements).forEach(function(d){var w=a.styles[d]||{},L=a.attributes[d]||{},R=a.elements[d];Oe(R)&&ze(R)&&(Object.assign(R.style,w),Object.keys(L).forEach(function(I){var H=L[I];H===!1?R.removeAttribute(I):R.setAttribute(I,H===!0?"":H)}))})},effect:function(A){var a=A.state,d={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,d.popper),a.styles=d,a.elements.arrow&&Object.assign(a.elements.arrow.style,d.arrow),function(){Object.keys(a.elements).forEach(function(w){var L=a.elements[w],R=a.attributes[w]||{},I=Object.keys(a.styles.hasOwnProperty(w)?a.styles[w]:d[w]).reduce(function(H,Y){return H[Y]="",H},{});Oe(L)&&ze(L)&&(Object.assign(L.style,I),Object.keys(R).forEach(function(H){L.removeAttribute(H)}))})}},requires:["computeStyles"]};function fe(A){return A.split("-")[0]}function ki(A,a){var d=A.getBoundingClientRect();return{width:d.width/1,height:d.height/1,top:d.top/1,right:d.right/1,bottom:d.bottom/1,left:d.left/1,x:d.left/1,y:d.top/1}}function Cn(A){var a=ki(A),d=A.offsetWidth,w=A.offsetHeight;return Math.abs(a.width-d)<=1&&(d=a.width),Math.abs(a.height-w)<=1&&(w=a.height),{x:A.offsetLeft,y:A.offsetTop,width:d,height:w}}function sr(A,a){var d=a.getRootNode&&a.getRootNode();if(A.contains(a))return!0;if(d&&Dr(d)){var w=a;do{if(w&&A.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function Re(A){return ke(A).getComputedStyle(A)}function Os(A){return["table","td","th"].indexOf(ze(A))>=0}function di(A){return((Sn(A)?A.ownerDocument:A.document)||window.document).documentElement}function fi(A){return ze(A)==="html"?A:A.assignedSlot||A.parentNode||(Dr(A)?A.host:null)||di(A)}function Nr(A){return Oe(A)&&Re(A).position!=="fixed"?A.offsetParent:null}function Yi(A){for(var a=ke(A),d=Nr(A);d&&Os(d)&&Re(d).position==="static";)d=Nr(d);return d&&(ze(d)==="html"||ze(d)==="body"&&Re(d).position==="static")?a:d||function(w){var L=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;if(navigator.userAgent.indexOf("Trident")!==-1&&Oe(w)&&Re(w).position==="fixed")return null;for(var R=fi(w);Oe(R)&&["html","body"].indexOf(ze(R))<0;){var I=Re(R);if(I.transform!=="none"||I.perspective!=="none"||I.contain==="paint"||["transform","perspective"].indexOf(I.willChange)!==-1||L&&I.willChange==="filter"||L&&I.filter&&I.filter!=="none")return R;R=R.parentNode}return null}(A)||a}function or(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}var ni=Math.max,Tn=Math.min,Gi=Math.round;function ar(A,a,d){return ni(A,Tn(a,d))}function Rs(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function Pr(A,a){return a.reduce(function(d,w){return d[w]=A,d},{})}const Ir={name:"arrow",enabled:!0,phase:"main",fn:function(A){var a,d=A.state,w=A.name,L=A.options,R=d.elements.arrow,I=d.modifiersData.popperOffsets,H=fe(d.placement),Y=or(H),it=[me,re].indexOf(H)>=0?"height":"width";if(R&&I){var rt=function(Bt,$t){return Rs(typeof(Bt=typeof Bt=="function"?Bt(Object.assign({},$t.rects,{placement:$t.placement})):Bt)!="number"?Bt:Pr(Bt,xi))}(L.padding,d),G=Cn(R),Tt=Y==="y"?Ut:me,gt=Y==="y"?Zt:re,mt=d.rects.reference[it]+d.rects.reference[Y]-I[Y]-d.rects.popper[it],vt=I[Y]-d.rects.reference[Y],bt=Yi(R),qt=bt?Y==="y"?bt.clientHeight||0:bt.clientWidth||0:0,Mt=mt/2-vt/2,St=rt[Tt],Nt=qt-G[it]-rt[gt],Rt=qt/2-G[it]/2+Mt,Dt=ar(St,Rt,Nt),Ft=Y;d.modifiersData[w]=((a={})[Ft]=Dt,a.centerOffset=Dt-Rt,a)}},effect:function(A){var a=A.state,d=A.options.element,w=d===void 0?"[data-popper-arrow]":d;w!=null&&(typeof w!="string"||(w=a.elements.popper.querySelector(w)))&&sr(a.elements.popper,w)&&(a.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pi(A){return A.split("-")[1]}var Ds={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pe(A){var a,d=A.popper,w=A.popperRect,L=A.placement,R=A.variation,I=A.offsets,H=A.position,Y=A.gpuAcceleration,it=A.adaptive,rt=A.roundOffsets,G=rt===!0?function(ye){var Se=ye.x,Je=ye.y,te=window.devicePixelRatio||1;return{x:Gi(Gi(Se*te)/te)||0,y:Gi(Gi(Je*te)/te)||0}}(I):typeof rt=="function"?rt(I):I,Tt=G.x,gt=Tt===void 0?0:Tt,mt=G.y,vt=mt===void 0?0:mt,bt=I.hasOwnProperty("x"),qt=I.hasOwnProperty("y"),Mt=me,St=Ut,Nt=window;if(it){var Rt=Yi(d),Dt="clientHeight",Ft="clientWidth";Rt===ke(d)&&Re(Rt=di(d)).position!=="static"&&H==="absolute"&&(Dt="scrollHeight",Ft="scrollWidth"),Rt=Rt,L!==Ut&&(L!==me&&L!==re||R!==Ji)||(St=Zt,vt-=Rt[Dt]-w.height,vt*=Y?1:-1),L!==me&&(L!==Ut&&L!==Zt||R!==Ji)||(Mt=re,gt-=Rt[Ft]-w.width,gt*=Y?1:-1)}var Bt,$t=Object.assign({position:H},it&&Ds);return Y?Object.assign({},$t,((Bt={})[St]=qt?"0":"",Bt[Mt]=bt?"0":"",Bt.transform=(Nt.devicePixelRatio||1)<=1?"translate("+gt+"px, "+vt+"px)":"translate3d("+gt+"px, "+vt+"px, 0)",Bt)):Object.assign({},$t,((a={})[St]=qt?vt+"px":"",a[Mt]=bt?gt+"px":"",a.transform="",a))}const gi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var a=A.state,d=A.options,w=d.gpuAcceleration,L=w===void 0||w,R=d.adaptive,I=R===void 0||R,H=d.roundOffsets,Y=H===void 0||H,it={placement:fe(a.placement),variation:pi(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:L};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,pe(Object.assign({},it,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:I,roundOffsets:Y})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,pe(Object.assign({},it,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Y})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}};var Oi={passive:!0};const Fr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var a=A.state,d=A.instance,w=A.options,L=w.scroll,R=L===void 0||L,I=w.resize,H=I===void 0||I,Y=ke(a.elements.popper),it=[].concat(a.scrollParents.reference,a.scrollParents.popper);return R&&it.forEach(function(rt){rt.addEventListener("scroll",d.update,Oi)}),H&&Y.addEventListener("resize",d.update,Oi),function(){R&&it.forEach(function(rt){rt.removeEventListener("scroll",d.update,Oi)}),H&&Y.removeEventListener("resize",d.update,Oi)}},data:{}};var wo={left:"right",right:"left",bottom:"top",top:"bottom"};function Qi(A){return A.replace(/left|right|bottom|top/g,function(a){return wo[a]})}var Ms={start:"end",end:"start"};function _n(A){return A.replace(/start|end/g,function(a){return Ms[a]})}function lr(A){var a=ke(A);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function Br(A){return ki(di(A)).left+lr(A).scrollLeft}function jr(A){var a=Re(A),d=a.overflow,w=a.overflowX,L=a.overflowY;return/auto|scroll|overlay|hidden/.test(d+L+w)}function De(A){return["html","body","#document"].indexOf(ze(A))>=0?A.ownerDocument.body:Oe(A)&&jr(A)?A:De(fi(A))}function Zi(A,a){var d;a===void 0&&(a=[]);var w=De(A),L=w===((d=A.ownerDocument)==null?void 0:d.body),R=ke(w),I=L?[R].concat(R.visualViewport||[],jr(w)?w:[]):w,H=a.concat(I);return L?H:H.concat(Zi(fi(I)))}function Ri(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Ns(A,a){return a===Ci?Ri(function(d){var w=ke(d),L=di(d),R=w.visualViewport,I=L.clientWidth,H=L.clientHeight,Y=0,it=0;return R&&(I=R.width,H=R.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Y=R.offsetLeft,it=R.offsetTop)),{width:I,height:H,x:Y+Br(d),y:it}}(A)):Oe(a)?function(d){var w=ki(d);return w.top=w.top+d.clientTop,w.left=w.left+d.clientLeft,w.bottom=w.top+d.clientHeight,w.right=w.left+d.clientWidth,w.width=d.clientWidth,w.height=d.clientHeight,w.x=w.left,w.y=w.top,w}(a):Ri(function(d){var w,L=di(d),R=lr(d),I=(w=d.ownerDocument)==null?void 0:w.body,H=ni(L.scrollWidth,L.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),Y=ni(L.scrollHeight,L.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),it=-R.scrollLeft+Br(d),rt=-R.scrollTop;return Re(I||L).direction==="rtl"&&(it+=ni(L.clientWidth,I?I.clientWidth:0)-H),{width:H,height:Y,x:it,y:rt}}(di(A)))}function Ps(A){var a,d=A.reference,w=A.element,L=A.placement,R=L?fe(L):null,I=L?pi(L):null,H=d.x+d.width/2-w.width/2,Y=d.y+d.height/2-w.height/2;switch(R){case Ut:a={x:H,y:d.y-w.height};break;case Zt:a={x:H,y:d.y+d.height};break;case re:a={x:d.x+d.width,y:Y};break;case me:a={x:d.x-w.width,y:Y};break;default:a={x:d.x,y:d.y}}var it=R?or(R):null;if(it!=null){var rt=it==="y"?"height":"width";switch(I){case hi:a[it]=a[it]-(d[rt]/2-w[rt]/2);break;case Ji:a[it]=a[it]+(d[rt]/2-w[rt]/2)}}return a}function Me(A,a){a===void 0&&(a={});var d=a,w=d.placement,L=w===void 0?A.placement:w,R=d.boundary,I=R===void 0?Si:R,H=d.rootBoundary,Y=H===void 0?Ci:H,it=d.elementContext,rt=it===void 0?Ti:it,G=d.altBoundary,Tt=G!==void 0&&G,gt=d.padding,mt=gt===void 0?0:gt,vt=Rs(typeof mt!="number"?mt:Pr(mt,xi)),bt=rt===Ti?kr:Ti,qt=A.rects.popper,Mt=A.elements[Tt?bt:rt],St=function(Se,Je,te){var Nn=Je==="clippingParents"?function(Yt){var Pn=Zi(fi(Yt)),Pe=["absolute","fixed"].indexOf(Re(Yt).position)>=0&&Oe(Yt)?Yi(Yt):Yt;return Sn(Pe)?Pn.filter(function(Ce){return Sn(Ce)&&sr(Ce,Pe)&&ze(Ce)!=="body"}):[]}(Se):[].concat(Je),Ii=[].concat(Nn,[te]),Fi=Ii[0],Ae=Ii.reduce(function(Yt,Pn){var Pe=Ns(Se,Pn);return Yt.top=ni(Pe.top,Yt.top),Yt.right=Tn(Pe.right,Yt.right),Yt.bottom=Tn(Pe.bottom,Yt.bottom),Yt.left=ni(Pe.left,Yt.left),Yt},Ns(Se,Fi));return Ae.width=Ae.right-Ae.left,Ae.height=Ae.bottom-Ae.top,Ae.x=Ae.left,Ae.y=Ae.top,Ae}(Sn(Mt)?Mt:Mt.contextElement||di(A.elements.popper),I,Y),Nt=ki(A.elements.reference),Rt=Ps({reference:Nt,element:qt,strategy:"absolute",placement:L}),Dt=Ri(Object.assign({},qt,Rt)),Ft=rt===Ti?Dt:Nt,Bt={top:St.top-Ft.top+vt.top,bottom:Ft.bottom-St.bottom+vt.bottom,left:St.left-Ft.left+vt.left,right:Ft.right-St.right+vt.right},$t=A.modifiersData.offset;if(rt===Ti&&$t){var ye=$t[L];Object.keys(Bt).forEach(function(Se){var Je=[re,Zt].indexOf(Se)>=0?1:-1,te=[Ut,Zt].indexOf(Se)>=0?"y":"x";Bt[Se]+=ye[te]*Je})}return Bt}function Di(A,a){a===void 0&&(a={});var d=a,w=d.placement,L=d.boundary,R=d.rootBoundary,I=d.padding,H=d.flipVariations,Y=d.allowedAutoPlacements,it=Y===void 0?ce:Y,rt=pi(w),G=rt?H?be:be.filter(function(mt){return pi(mt)===rt}):xi,Tt=G.filter(function(mt){return it.indexOf(mt)>=0});Tt.length===0&&(Tt=G);var gt=Tt.reduce(function(mt,vt){return mt[vt]=Me(A,{placement:vt,boundary:L,rootBoundary:R,padding:I})[fe(vt)],mt},{});return Object.keys(gt).sort(function(mt,vt){return gt[mt]-gt[vt]})}const cr={name:"flip",enabled:!0,phase:"main",fn:function(A){var a=A.state,d=A.options,w=A.name;if(!a.modifiersData[w]._skip){for(var L=d.mainAxis,R=L===void 0||L,I=d.altAxis,H=I===void 0||I,Y=d.fallbackPlacements,it=d.padding,rt=d.boundary,G=d.rootBoundary,Tt=d.altBoundary,gt=d.flipVariations,mt=gt===void 0||gt,vt=d.allowedAutoPlacements,bt=a.options.placement,qt=fe(bt),Mt=Y||(qt!==bt&&mt?function(Ce){if(fe(Ce)===wi)return[];var Ye=Qi(Ce);return[_n(Ce),Ye,_n(Ye)]}(bt):[Qi(bt)]),St=[bt].concat(Mt).reduce(function(Ce,Ye){return Ce.concat(fe(Ye)===wi?Di(a,{placement:Ye,boundary:rt,rootBoundary:G,padding:it,flipVariations:mt,allowedAutoPlacements:vt}):Ye)},[]),Nt=a.rects.reference,Rt=a.rects.popper,Dt=new Map,Ft=!0,Bt=St[0],$t=0;$t<St.length;$t++){var ye=St[$t],Se=fe(ye),Je=pi(ye)===hi,te=[Ut,Zt].indexOf(Se)>=0,Nn=te?"width":"height",Ii=Me(a,{placement:ye,boundary:rt,rootBoundary:G,altBoundary:Tt,padding:it}),Fi=te?Je?re:me:Je?Zt:Ut;Nt[Nn]>Rt[Nn]&&(Fi=Qi(Fi));var Ae=Qi(Fi),Yt=[];if(R&&Yt.push(Ii[Se]<=0),H&&Yt.push(Ii[Fi]<=0,Ii[Ae]<=0),Yt.every(function(Ce){return Ce})){Bt=ye,Ft=!1;break}Dt.set(ye,Yt)}if(Ft)for(var Pn=function(Ce){var Ye=St.find(function(zs){var Qr=Dt.get(zs);if(Qr)return Qr.slice(0,Ce).every(function(gr){return gr})});if(Ye)return Bt=Ye,"break"},Pe=mt?3:1;Pe>0&&Pn(Pe)!=="break";Pe--);a.placement!==Bt&&(a.modifiersData[w]._skip=!0,a.placement=Bt,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Is(A,a,d){return d===void 0&&(d={x:0,y:0}),{top:A.top-a.height-d.y,right:A.right-a.width+d.x,bottom:A.bottom-a.height+d.y,left:A.left-a.width-d.x}}function tn(A){return[Ut,re,Zt,me].some(function(a){return A[a]>=0})}const qr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var a=A.state,d=A.name,w=a.rects.reference,L=a.rects.popper,R=a.modifiersData.preventOverflow,I=Me(a,{elementContext:"reference"}),H=Me(a,{altBoundary:!0}),Y=Is(I,w),it=Is(H,L,R),rt=tn(Y),G=tn(it);a.modifiersData[d]={referenceClippingOffsets:Y,popperEscapeOffsets:it,isReferenceHidden:rt,hasPopperEscaped:G},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":rt,"data-popper-escaped":G})}},ur={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var a=A.state,d=A.options,w=A.name,L=d.offset,R=L===void 0?[0,0]:L,I=ce.reduce(function(rt,G){return rt[G]=function(Tt,gt,mt){var vt=fe(Tt),bt=[me,Ut].indexOf(vt)>=0?-1:1,qt=typeof mt=="function"?mt(Object.assign({},gt,{placement:Tt})):mt,Mt=qt[0],St=qt[1];return Mt=Mt||0,St=(St||0)*bt,[me,re].indexOf(vt)>=0?{x:St,y:Mt}:{x:Mt,y:St}}(G,a.rects,R),rt},{}),H=I[a.placement],Y=H.x,it=H.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=Y,a.modifiersData.popperOffsets.y+=it),a.modifiersData[w]=I}},hr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var a=A.state,d=A.name;a.modifiersData[d]=Ps({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},Wr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var a=A.state,d=A.options,w=A.name,L=d.mainAxis,R=L===void 0||L,I=d.altAxis,H=I!==void 0&&I,Y=d.boundary,it=d.rootBoundary,rt=d.altBoundary,G=d.padding,Tt=d.tether,gt=Tt===void 0||Tt,mt=d.tetherOffset,vt=mt===void 0?0:mt,bt=Me(a,{boundary:Y,rootBoundary:it,padding:G,altBoundary:rt}),qt=fe(a.placement),Mt=pi(a.placement),St=!Mt,Nt=or(qt),Rt=Nt==="x"?"y":"x",Dt=a.modifiersData.popperOffsets,Ft=a.rects.reference,Bt=a.rects.popper,$t=typeof vt=="function"?vt(Object.assign({},a.rects,{placement:a.placement})):vt,ye={x:0,y:0};if(Dt){if(R||H){var Se=Nt==="y"?Ut:me,Je=Nt==="y"?Zt:re,te=Nt==="y"?"height":"width",Nn=Dt[Nt],Ii=Dt[Nt]+bt[Se],Fi=Dt[Nt]-bt[Je],Ae=gt?-Bt[te]/2:0,Yt=Mt===hi?Ft[te]:Bt[te],Pn=Mt===hi?-Bt[te]:-Ft[te],Pe=a.elements.arrow,Ce=gt&&Pe?Cn(Pe):{width:0,height:0},Ye=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},zs=Ye[Se],Qr=Ye[Je],gr=ar(0,Ft[te],Ce[te]),zu=St?Ft[te]/2-Ae-gr-zs-$t:Yt-gr-zs-$t,Ku=St?-Ft[te]/2+Ae+gr+Qr+$t:Pn+gr+Qr+$t,Fo=a.elements.arrow&&Yi(a.elements.arrow),Xu=Fo?Nt==="y"?Fo.clientTop||0:Fo.clientLeft||0:0,al=a.modifiersData.offset?a.modifiersData.offset[a.placement][Nt]:0,ll=Dt[Nt]+zu-al-Xu,cl=Dt[Nt]+Ku-al;if(R){var ul=ar(gt?Tn(Ii,ll):Ii,Nn,gt?ni(Fi,cl):Fi);Dt[Nt]=ul,ye[Nt]=ul-Nn}if(H){var Ju=Nt==="x"?Ut:me,Yu=Nt==="x"?Zt:re,Ks=Dt[Rt],hl=Ks+bt[Ju],dl=Ks-bt[Yu],fl=ar(gt?Tn(hl,ll):hl,Ks,gt?ni(dl,cl):dl);Dt[Rt]=fl,ye[Rt]=fl-Ks}}a.modifiersData[w]=ye}},requiresIfExists:["offset"]};function xo(A,a,d){d===void 0&&(d=!1);var w=Oe(a);Oe(a)&&function(rt){var G=rt.getBoundingClientRect();G.width,rt.offsetWidth,G.height,rt.offsetHeight}(a);var L,R,I=di(a),H=ki(A),Y={scrollLeft:0,scrollTop:0},it={x:0,y:0};return(w||!w&&!d)&&((ze(a)!=="body"||jr(I))&&(Y=(L=a)!==ke(L)&&Oe(L)?{scrollLeft:(R=L).scrollLeft,scrollTop:R.scrollTop}:lr(L)),Oe(a)?((it=ki(a)).x+=a.clientLeft,it.y+=a.clientTop):I&&(it.x=Br(I))),{x:H.left+Y.scrollLeft-it.x,y:H.top+Y.scrollTop-it.y,width:H.width,height:H.height}}function Fs(A){var a=new Map,d=new Set,w=[];function L(R){d.add(R.name),[].concat(R.requires||[],R.requiresIfExists||[]).forEach(function(I){if(!d.has(I)){var H=a.get(I);H&&L(H)}}),w.push(R)}return A.forEach(function(R){a.set(R.name,R)}),A.forEach(function(R){d.has(R.name)||L(R)}),w}var Bs={placement:"bottom",modifiers:[],strategy:"absolute"};function js(){for(var A=arguments.length,a=new Array(A),d=0;d<A;d++)a[d]=arguments[d];return!a.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function en(A){A===void 0&&(A={});var a=A,d=a.defaultModifiers,w=d===void 0?[]:d,L=a.defaultOptions,R=L===void 0?Bs:L;return function(I,H,Y){Y===void 0&&(Y=R);var it,rt,G={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bs,R),modifiersData:{},elements:{reference:I,popper:H},attributes:{},styles:{}},Tt=[],gt=!1,mt={state:G,setOptions:function(bt){var qt=typeof bt=="function"?bt(G.options):bt;vt(),G.options=Object.assign({},R,G.options,qt),G.scrollParents={reference:Sn(I)?Zi(I):I.contextElement?Zi(I.contextElement):[],popper:Zi(H)};var Mt,St,Nt=function(Rt){var Dt=Fs(Rt);return ks.reduce(function(Ft,Bt){return Ft.concat(Dt.filter(function($t){return $t.phase===Bt}))},[])}((Mt=[].concat(w,G.options.modifiers),St=Mt.reduce(function(Rt,Dt){var Ft=Rt[Dt.name];return Rt[Dt.name]=Ft?Object.assign({},Ft,Dt,{options:Object.assign({},Ft.options,Dt.options),data:Object.assign({},Ft.data,Dt.data)}):Dt,Rt},{}),Object.keys(St).map(function(Rt){return St[Rt]})));return G.orderedModifiers=Nt.filter(function(Rt){return Rt.enabled}),G.orderedModifiers.forEach(function(Rt){var Dt=Rt.name,Ft=Rt.options,Bt=Ft===void 0?{}:Ft,$t=Rt.effect;if(typeof $t=="function"){var ye=$t({state:G,name:Dt,instance:mt,options:Bt});Tt.push(ye||function(){})}}),mt.update()},forceUpdate:function(){if(!gt){var bt=G.elements,qt=bt.reference,Mt=bt.popper;if(js(qt,Mt)){G.rects={reference:xo(qt,Yi(Mt),G.options.strategy==="fixed"),popper:Cn(Mt)},G.reset=!1,G.placement=G.options.placement,G.orderedModifiers.forEach(function($t){return G.modifiersData[$t.name]=Object.assign({},$t.data)});for(var St=0;St<G.orderedModifiers.length;St++)if(G.reset!==!0){var Nt=G.orderedModifiers[St],Rt=Nt.fn,Dt=Nt.options,Ft=Dt===void 0?{}:Dt,Bt=Nt.name;typeof Rt=="function"&&(G=Rt({state:G,options:Ft,name:Bt,instance:mt})||G)}else G.reset=!1,St=-1}}},update:(it=function(){return new Promise(function(bt){mt.forceUpdate(),bt(G)})},function(){return rt||(rt=new Promise(function(bt){Promise.resolve().then(function(){rt=void 0,bt(it())})})),rt}),destroy:function(){vt(),gt=!0}};if(!js(I,H))return mt;function vt(){Tt.forEach(function(bt){return bt()}),Tt=[]}return mt.setOptions(Y).then(function(bt){!gt&&Y.onFirstUpdate&&Y.onFirstUpdate(bt)}),mt}}var So=en(),Co=en({defaultModifiers:[Fr,hr,gi,Mr]}),Hr=en({defaultModifiers:[Fr,hr,gi,Mr,ur,cr,Wr,Ir,qr]});const qs=Object.freeze({__proto__:null,popperGenerator:en,detectOverflow:Me,createPopperBase:So,createPopper:Hr,createPopperLite:Co,top:Ut,bottom:Zt,right:re,left:me,auto:wi,basePlacements:xi,start:hi,end:Ji,clippingParents:Si,viewport:Ci,popper:Ti,reference:kr,variationPlacements:be,placements:ce,beforeRead:nr,read:_s,afterRead:Or,beforeMain:Rr,main:_i,afterMain:Li,beforeWrite:rr,write:xn,afterWrite:Ls,modifierPhases:ks,applyStyles:Mr,arrow:Ir,computeStyles:gi,eventListeners:Fr,flip:cr,hide:qr,offset:ur,popperOffsets:hr,preventOverflow:Wr}),Vr="dropdown",$r="Escape",Ws="Space",Ur="ArrowUp",Ln="ArrowDown",Hs=new RegExp("ArrowUp|ArrowDown|Escape"),dr="click.bs.dropdown.data-api",zr="keydown.bs.dropdown.data-api",Mi="show",Ni='[data-bs-toggle="dropdown"]',Kr=".dropdown-menu",To=X()?"top-end":"top-start",_o=X()?"top-start":"top-end",kn=X()?"bottom-end":"bottom-start",Vs=X()?"bottom-start":"bottom-end",Xr=X()?"left-start":"right-start",Lo=X()?"right-start":"left-start",ko={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Oo={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class r extends Le{constructor(a,d){super(a),this._popper=null,this._config=this._getConfig(d),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return ko}static get DefaultType(){return Oo}static get NAME(){return Vr}toggle(){return this._isShown()?this.hide():this.show()}show(){if(B(this._element)||this._isShown(this._menu))return;const a={relatedTarget:this._element};if(V.trigger(this._element,"show.bs.dropdown",a).defaultPrevented)return;const d=r.getParentFromElement(this._element);this._inNavbar?ne.setDataAttribute(this._menu,"popper","none"):this._createPopper(d),"ontouchstart"in document.documentElement&&!d.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(w=>V.on(w,"mouseover",tt)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mi),this._element.classList.add(Mi),V.trigger(this._element,"shown.bs.dropdown",a)}hide(){if(B(this._element)||!this._isShown(this._menu))return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){V.trigger(this._element,"hide.bs.dropdown",a).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(d=>V.off(d,"mouseover",tt)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Mi),this._element.classList.remove(Mi),this._element.setAttribute("aria-expanded","false"),ne.removeDataAttribute(this._menu,"popper"),V.trigger(this._element,"hidden.bs.dropdown",a))}_getConfig(a){if(a={...this.constructor.Default,...ne.getDataAttributes(this._element),...a},x(Vr,a,this.constructor.DefaultType),typeof a.reference=="object"&&!c(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${Vr.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(a){if(qs===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;this._config.reference==="parent"?d=a:c(this._config.reference)?d=v(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const w=this._getPopperConfig(),L=w.modifiers.find(R=>R.name==="applyStyles"&&R.enabled===!1);this._popper=Hr(d,this._menu,w),L&&ne.setDataAttribute(this._menu,"popper","static")}_isShown(a=this._element){return a.classList.contains(Mi)}_getMenuElement(){return ut.next(this._element,Kr)[0]}_getPlacement(){const a=this._element.parentNode;if(a.classList.contains("dropend"))return Xr;if(a.classList.contains("dropstart"))return Lo;const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains("dropup")?d?_o:To:d?Vs:kn}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...typeof this._config.popperConfig=="function"?this._config.popperConfig(a):this._config.popperConfig}}_selectMenuItem({key:a,target:d}){const w=ut.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(D);w.length&&p(w,d,a===Ln,!w.includes(d)).focus()}static jQueryInterface(a){return this.each(function(){const d=r.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}static clearMenus(a){if(a&&(a.button===2||a.type==="keyup"&&a.key!=="Tab"))return;const d=ut.find(Ni);for(let w=0,L=d.length;w<L;w++){const R=r.getInstance(d[w]);if(!R||R._config.autoClose===!1||!R._isShown())continue;const I={relatedTarget:R._element};if(a){const H=a.composedPath(),Y=H.includes(R._menu);if(H.includes(R._element)||R._config.autoClose==="inside"&&!Y||R._config.autoClose==="outside"&&Y||R._menu.contains(a.target)&&(a.type==="keyup"&&a.key==="Tab"||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;a.type==="click"&&(I.clickEvent=a)}R._completeHide(I)}}static getParentFromElement(a){return i(a)||a.parentNode}static dataApiKeydownHandler(a){if(/input|textarea/i.test(a.target.tagName)?a.key===Ws||a.key!==$r&&(a.key!==Ln&&a.key!==Ur||a.target.closest(Kr)):!Hs.test(a.key))return;const d=this.classList.contains(Mi);if(!d&&a.key===$r||(a.preventDefault(),a.stopPropagation(),B(this)))return;const w=this.matches(Ni)?this:ut.prev(this,Ni)[0],L=r.getOrCreateInstance(w);if(a.key!==$r)return a.key===Ur||a.key===Ln?(d||L.show(),void L._selectMenuItem(a)):void(d&&a.key!==Ws||r.clearMenus());L.hide()}}V.on(document,zr,Ni,r.dataApiKeydownHandler),V.on(document,zr,Kr,r.dataApiKeydownHandler),V.on(document,dr,r.clearMenus),V.on(document,"keyup.bs.dropdown.data-api",r.clearMenus),V.on(document,dr,Ni,function(A){A.preventDefault(),r.getOrCreateInstance(this).toggle()}),K(r);const o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",l=".sticky-top";class h{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",d=>d+a),this._setElementAttributes(o,"paddingRight",d=>d+a),this._setElementAttributes(l,"marginRight",d=>d-a)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,d,w){const L=this.getWidth();this._applyManipulationCallback(a,R=>{if(R!==this._element&&window.innerWidth>R.clientWidth+L)return;this._saveInitialAttribute(R,d);const I=window.getComputedStyle(R)[d];R.style[d]=`${w(Number.parseFloat(I))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(o,"paddingRight"),this._resetElementAttributes(l,"marginRight")}_saveInitialAttribute(a,d){const w=a.style[d];w&&ne.setDataAttribute(a,d,w)}_resetElementAttributes(a,d){this._applyManipulationCallback(a,w=>{const L=ne.getDataAttribute(w,d);L===void 0?w.style.removeProperty(d):(ne.removeDataAttribute(w,d),w.style[d]=L)})}_applyManipulationCallback(a,d){c(a)?d(a):ut.find(a,this._element).forEach(d)}isOverflowing(){return this.getWidth()>0}}const g={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},m={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},E="show",k="mousedown.bs.backdrop";class _{constructor(a){this._config=this._getConfig(a),this._isAppended=!1,this._element=null}show(a){this._config.isVisible?(this._append(),this._config.isAnimated&&ct(this._getElement()),this._getElement().classList.add(E),this._emulateAnimation(()=>{C(a)})):C(a)}hide(a){this._config.isVisible?(this._getElement().classList.remove(E),this._emulateAnimation(()=>{this.dispose(),C(a)})):C(a)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add("fade"),this._element=a}return this._element}_getConfig(a){return(a={...g,...typeof a=="object"?a:{}}).rootElement=v(a.rootElement),x("backdrop",a,m),a}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),V.on(this._getElement(),k,()=>{C(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(V.off(this._element,k),this._element.remove(),this._isAppended=!1)}_emulateAnimation(a){T(a,this._getElement(),this._config.isAnimated)}}const M={trapElement:null,autofocus:!0},j={trapElement:"element",autofocus:"boolean"},W=".bs.focustrap",P="backward";class z{constructor(a){this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:a,autofocus:d}=this._config;this._isActive||(d&&a.focus(),V.off(document,W),V.on(document,"focusin.bs.focustrap",w=>this._handleFocusin(w)),V.on(document,"keydown.tab.bs.focustrap",w=>this._handleKeydown(w)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,V.off(document,W))}_handleFocusin(a){const{target:d}=a,{trapElement:w}=this._config;if(d===document||d===w||w.contains(d))return;const L=ut.focusableChildren(w);L.length===0?w.focus():this._lastTabNavDirection===P?L[L.length-1].focus():L[0].focus()}_handleKeydown(a){a.key==="Tab"&&(this._lastTabNavDirection=a.shiftKey?P:"forward")}_getConfig(a){return a={...M,...typeof a=="object"?a:{}},x("focustrap",a,j),a}}const pt="modal",_t="Escape",yt={backdrop:!0,keyboard:!0,focus:!0},oe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Jt="hidden.bs.modal",qe="show.bs.modal",We="resize.bs.modal",Ct="click.dismiss.bs.modal",mi="keydown.dismiss.bs.modal",Ot="mousedown.dismiss.bs.modal",Vt="modal-open",nn="show",On="modal-static";class ue extends Le{constructor(a,d){super(a),this._config=this._getConfig(d),this._dialog=ut.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new h}static get Default(){return yt}static get NAME(){return pt}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||V.trigger(this._element,qe,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Vt),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),V.on(this._dialog,Ot,()=>{V.one(this._element,"mouseup.dismiss.bs.modal",d=>{d.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(a)))}hide(){if(!this._isShown||this._isTransitioning||V.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const a=this._isAnimated();a&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(nn),V.off(this._element,Ct),V.off(this._dialog,Ot),this._queueCallback(()=>this._hideModal(),this._element,a)}dispose(){[window,this._dialog].forEach(a=>V.off(a,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new z({trapElement:this._element})}_getConfig(a){return a={...yt,...ne.getDataAttributes(this._element),...typeof a=="object"?a:{}},x(pt,a,oe),a}_showElement(a){const d=this._isAnimated(),w=ut.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,w&&(w.scrollTop=0),d&&ct(this._element),this._element.classList.add(nn),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,V.trigger(this._element,"shown.bs.modal",{relatedTarget:a})},this._dialog,d)}_setEscapeEvent(){this._isShown?V.on(this._element,mi,a=>{this._config.keyboard&&a.key===_t?(a.preventDefault(),this.hide()):this._config.keyboard||a.key!==_t||this._triggerBackdropTransition()}):V.off(this._element,mi)}_setResizeEvent(){this._isShown?V.on(window,We,()=>this._adjustDialog()):V.off(window,We)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Vt),this._resetAdjustments(),this._scrollBar.reset(),V.trigger(this._element,Jt)})}_showBackdrop(a){V.on(this._element,Ct,d=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:d.target===d.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(a)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(V.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:a,scrollHeight:d,style:w}=this._element,L=d>document.documentElement.clientHeight;!L&&w.overflowY==="hidden"||a.contains(On)||(L||(w.overflowY="hidden"),a.add(On),this._queueCallback(()=>{a.remove(On),L||this._queueCallback(()=>{w.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),w=d>0;(!w&&a&&!X()||w&&!a&&X())&&(this._element.style.paddingLeft=`${d}px`),(w&&!a&&!X()||!w&&a&&X())&&(this._element.style.paddingRight=`${d}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,d){return this.each(function(){const w=ue.getOrCreateInstance(this,a);if(typeof a=="string"){if(w[a]===void 0)throw new TypeError(`No method named "${a}"`);w[a](d)}})}}V.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(A){const a=i(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),V.one(a,qe,w=>{w.defaultPrevented||V.one(a,Jt,()=>{D(this)&&this.focus()})});const d=ut.findOne(".modal.show");d&&ue.getInstance(d).hide(),ue.getOrCreateInstance(a).toggle(this)}),Ui(ue),K(ue);const rn="offcanvas",He={backdrop:!0,keyboard:!0,scroll:!1},bi={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},ri="show",we=".offcanvas.show",fr="hidden.bs.offcanvas";class he extends Le{constructor(a,d){super(a),this._config=this._getConfig(d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return rn}static get Default(){return He}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||V.trigger(this._element,"show.bs.offcanvas",{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new h().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ri),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),V.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:a})},this._element,!0))}hide(){this._isShown&&(V.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(ri),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new h().reset(),V.trigger(this._element,fr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(a){return a={...He,...ne.getDataAttributes(this._element),...typeof a=="object"?a:{}},x(rn,a,bi),a}_initializeBackDrop(){return new _({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new z({trapElement:this._element})}_addEventListeners(){V.on(this._element,"keydown.dismiss.bs.offcanvas",a=>{this._config.keyboard&&a.key==="Escape"&&this.hide()})}static jQueryInterface(a){return this.each(function(){const d=he.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}V.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(A){const a=i(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),B(this))return;V.one(a,fr,()=>{D(this)&&this.focus()});const d=ut.findOne(we);d&&d!==a&&he.getInstance(d).hide(),he.getOrCreateInstance(a).toggle(this)}),V.on(window,"load.bs.offcanvas.data-api",()=>ut.find(we).forEach(A=>he.getOrCreateInstance(A).show())),Ui(he),K(he);const si=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ro=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Do=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Mo=(A,a)=>{const d=A.nodeName.toLowerCase();if(a.includes(d))return!si.has(d)||!!(Ro.test(A.nodeValue)||Do.test(A.nodeValue));const w=a.filter(L=>L instanceof RegExp);for(let L=0,R=w.length;L<R;L++)if(w[L].test(d))return!0;return!1};function Pt(A,a,d){if(!A.length)return A;if(d&&typeof d=="function")return d(A);const w=new window.DOMParser().parseFromString(A,"text/html"),L=[].concat(...w.body.querySelectorAll("*"));for(let R=0,I=L.length;R<I;R++){const H=L[R],Y=H.nodeName.toLowerCase();if(!Object.keys(a).includes(Y)){H.remove();continue}const it=[].concat(...H.attributes),rt=[].concat(a["*"]||[],a[Y]||[]);it.forEach(G=>{Mo(G,rt)||H.removeAttribute(G.nodeName)})}return w.body.innerHTML}const Rn="tooltip",Ve=new Set(["sanitize","allowList","sanitizeFn"]),sn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},No={AUTO:"auto",TOP:"top",RIGHT:X()?"left":"right",BOTTOM:"bottom",LEFT:X()?"right":"left"},Po={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},$s={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ke="fade",Pi="show",Ne="show",pr="out",on=".tooltip-inner",Dn=".modal",Mn="hide.bs.modal",an="hover",Us="focus";class Xe extends Le{constructor(a,d){if(qs===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(d),this.tip=null,this._setListeners()}static get Default(){return Po}static get NAME(){return Rn}static get Event(){return $s}static get DefaultType(){return sn}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(a){if(this._isEnabled)if(a){const d=this._initializeOnDelegatedTarget(a);d._activeTrigger.click=!d._activeTrigger.click,d._isWithActiveTrigger()?d._enter(null,d):d._leave(null,d)}else{if(this.getTipElement().classList.contains(Pi))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),V.off(this._element.closest(Dn),Mn,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const a=V.trigger(this._element,this.constructor.Event.SHOW),d=U(this._element),w=d===null?this._element.ownerDocument.documentElement.contains(this._element):d.contains(this._element);if(a.defaultPrevented||!w)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(on).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const L=this.getTipElement(),R=(G=>{do G+=Math.floor(1e6*Math.random());while(document.getElementById(G));return G})(this.constructor.NAME);L.setAttribute("id",R),this._element.setAttribute("aria-describedby",R),this._config.animation&&L.classList.add(Ke);const I=typeof this._config.placement=="function"?this._config.placement.call(this,L,this._element):this._config.placement,H=this._getAttachment(I);this._addAttachmentClass(H);const{container:Y}=this._config;$i.set(L,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(Y.append(L),V.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Hr(this._element,L,this._getPopperConfig(H)),L.classList.add(Pi);const it=this._resolvePossibleFunction(this._config.customClass);it&&L.classList.add(...it.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(G=>{V.on(G,"mouseover",tt)});const rt=this.tip.classList.contains(Ke);this._queueCallback(()=>{const G=this._hoverState;this._hoverState=null,V.trigger(this._element,this.constructor.Event.SHOWN),G===pr&&this._leave(null,this)},this.tip,rt)}hide(){if(!this._popper)return;const a=this.getTipElement();if(V.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;a.classList.remove(Pi),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(w=>V.off(w,"mouseover",tt)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const d=this.tip.classList.contains(Ke);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==Ne&&a.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),V.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,d),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return!!this.getTitle()}getTipElement(){if(this.tip)return this.tip;const a=document.createElement("div");a.innerHTML=this._config.template;const d=a.children[0];return this.setContent(d),d.classList.remove(Ke,Pi),this.tip=d,this.tip}setContent(a){this._sanitizeAndSetContent(a,this.getTitle(),on)}_sanitizeAndSetContent(a,d,w){const L=ut.findOne(w,a);d||!L?this.setElementContent(L,d):L.remove()}setElementContent(a,d){if(a!==null)return c(d)?(d=v(d),void(this._config.html?d.parentNode!==a&&(a.innerHTML="",a.append(d)):a.textContent=d.textContent)):void(this._config.html?(this._config.sanitize&&(d=Pt(d,this._config.allowList,this._config.sanitizeFn)),a.innerHTML=d):a.textContent=d)}getTitle(){const a=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(a)}updateAttachment(a){return a==="right"?"end":a==="left"?"start":a}_initializeOnDelegatedTarget(a,d){return d||this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_resolvePossibleFunction(a){return typeof a=="function"?a.call(this._element):a}_getPopperConfig(a){const d={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:w=>this._handlePopperPlacementChange(w)}],onFirstUpdate:w=>{w.options.placement!==w.placement&&this._handlePopperPlacementChange(w)}};return{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_addAttachmentClass(a){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(a)}`)}_getAttachment(a){return No[a.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(a=>{if(a==="click")V.on(this._element,this.constructor.Event.CLICK,this._config.selector,d=>this.toggle(d));else if(a!=="manual"){const d=a===an?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,w=a===an?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;V.on(this._element,d,this._config.selector,L=>this._enter(L)),V.on(this._element,w,this._config.selector,L=>this._leave(L))}}),this._hideModalHandler=()=>{this._element&&this.hide()},V.on(this._element.closest(Dn),Mn,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const a=this._element.getAttribute("title"),d=typeof this._element.getAttribute("data-bs-original-title");(a||d!=="string")&&(this._element.setAttribute("data-bs-original-title",a||""),!a||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",a),this._element.setAttribute("title",""))}_enter(a,d){d=this._initializeOnDelegatedTarget(a,d),a&&(d._activeTrigger[a.type==="focusin"?Us:an]=!0),d.getTipElement().classList.contains(Pi)||d._hoverState===Ne?d._hoverState=Ne:(clearTimeout(d._timeout),d._hoverState=Ne,d._config.delay&&d._config.delay.show?d._timeout=setTimeout(()=>{d._hoverState===Ne&&d.show()},d._config.delay.show):d.show())}_leave(a,d){d=this._initializeOnDelegatedTarget(a,d),a&&(d._activeTrigger[a.type==="focusout"?Us:an]=d._element.contains(a.relatedTarget)),d._isWithActiveTrigger()||(clearTimeout(d._timeout),d._hoverState=pr,d._config.delay&&d._config.delay.hide?d._timeout=setTimeout(()=>{d._hoverState===pr&&d.hide()},d._config.delay.hide):d.hide())}_isWithActiveTrigger(){for(const a in this._activeTrigger)if(this._activeTrigger[a])return!0;return!1}_getConfig(a){const d=ne.getDataAttributes(this._element);return Object.keys(d).forEach(w=>{Ve.has(w)&&delete d[w]}),(a={...this.constructor.Default,...d,...typeof a=="object"&&a?a:{}}).container=a.container===!1?document.body:v(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),x(Rn,a,this.constructor.DefaultType),a.sanitize&&(a.template=Pt(a.template,a.allowList,a.sanitizeFn)),a}_getDelegateConfig(){const a={};for(const d in this._config)this.constructor.Default[d]!==this._config[d]&&(a[d]=this._config[d]);return a}_cleanTipClass(){const a=this.getTipElement(),d=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),w=a.getAttribute("class").match(d);w!==null&&w.length>0&&w.map(L=>L.trim()).forEach(L=>a.classList.remove(L))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(a){const{state:d}=a;d&&(this.tip=d.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(d.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(a){return this.each(function(){const d=Xe.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}K(Xe);const Jr={...Xe.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Yr={...Xe.DefaultType,content:"(string|element|function)"},Io={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class ln extends Xe{static get Default(){return Jr}static get NAME(){return"popover"}static get Event(){return Io}static get DefaultType(){return Yr}isWithContent(){return this.getTitle()||this._getContent()}setContent(a){this._sanitizeAndSetContent(a,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(a,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(a){return this.each(function(){const d=ln.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}K(ln);const Gr="scrollspy",S={offset:10,method:"auto",target:""},O={offset:"number",method:"string",target:"(string|element)"},N="active",F=".nav-link, .list-group-item, .dropdown-item",q="position";class J extends Le{constructor(a,d){super(a),this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(d),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,V.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return S}static get NAME(){return Gr}refresh(){const a=this._scrollElement===this._scrollElement.window?"offset":q,d=this._config.method==="auto"?a:this._config.method,w=d===q?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),ut.find(F,this._config.target).map(L=>{const R=e(L),I=R?ut.findOne(R):null;if(I){const H=I.getBoundingClientRect();if(H.width||H.height)return[ne[d](I).top+w,R]}return null}).filter(L=>L).sort((L,R)=>L[0]-R[0]).forEach(L=>{this._offsets.push(L[0]),this._targets.push(L[1])})}dispose(){V.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(a){return(a={...S,...ne.getDataAttributes(this._element),...typeof a=="object"&&a?a:{}}).target=v(a.target)||document.documentElement,x(Gr,a,O),a}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const a=this._getScrollTop()+this._config.offset,d=this._getScrollHeight(),w=this._config.offset+d-this._getOffsetHeight();if(this._scrollHeight!==d&&this.refresh(),a>=w){const L=this._targets[this._targets.length-1];this._activeTarget!==L&&this._activate(L)}else{if(this._activeTarget&&a<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let L=this._offsets.length;L--;)this._activeTarget!==this._targets[L]&&a>=this._offsets[L]&&(this._offsets[L+1]===void 0||a<this._offsets[L+1])&&this._activate(this._targets[L])}}_activate(a){this._activeTarget=a,this._clear();const d=F.split(",").map(L=>`${L}[data-bs-target="${a}"],${L}[href="${a}"]`),w=ut.findOne(d.join(","),this._config.target);w.classList.add(N),w.classList.contains("dropdown-item")?ut.findOne(".dropdown-toggle",w.closest(".dropdown")).classList.add(N):ut.parents(w,".nav, .list-group").forEach(L=>{ut.prev(L,".nav-link, .list-group-item").forEach(R=>R.classList.add(N)),ut.prev(L,".nav-item").forEach(R=>{ut.children(R,".nav-link").forEach(I=>I.classList.add(N))})}),V.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:a})}_clear(){ut.find(F,this._config.target).filter(a=>a.classList.contains(N)).forEach(a=>a.classList.remove(N))}static jQueryInterface(a){return this.each(function(){const d=J.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}V.on(window,"load.bs.scrollspy.data-api",()=>{ut.find('[data-bs-spy="scroll"]').forEach(A=>new J(A))}),K(J);const Q="active",st="fade",Z="show",wt=".active",dt=":scope > li > .active";class ft extends Le{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Q))return;let a;const d=i(this._element),w=this._element.closest(".nav, .list-group");if(w){const I=w.nodeName==="UL"||w.nodeName==="OL"?dt:wt;a=ut.find(I,w),a=a[a.length-1]}const L=a?V.trigger(a,"hide.bs.tab",{relatedTarget:this._element}):null;if(V.trigger(this._element,"show.bs.tab",{relatedTarget:a}).defaultPrevented||L!==null&&L.defaultPrevented)return;this._activate(this._element,w);const R=()=>{V.trigger(a,"hidden.bs.tab",{relatedTarget:this._element}),V.trigger(this._element,"shown.bs.tab",{relatedTarget:a})};d?this._activate(d,d.parentNode,R):R()}_activate(a,d,w){const L=(!d||d.nodeName!=="UL"&&d.nodeName!=="OL"?ut.children(d,wt):ut.find(dt,d))[0],R=w&&L&&L.classList.contains(st),I=()=>this._transitionComplete(a,L,w);L&&R?(L.classList.remove(Z),this._queueCallback(I,a,!0)):I()}_transitionComplete(a,d,w){if(d){d.classList.remove(Q);const R=ut.findOne(":scope > .dropdown-menu .active",d.parentNode);R&&R.classList.remove(Q),d.getAttribute("role")==="tab"&&d.setAttribute("aria-selected",!1)}a.classList.add(Q),a.getAttribute("role")==="tab"&&a.setAttribute("aria-selected",!0),ct(a),a.classList.contains(st)&&a.classList.add(Z);let L=a.parentNode;if(L&&L.nodeName==="LI"&&(L=L.parentNode),L&&L.classList.contains("dropdown-menu")){const R=a.closest(".dropdown");R&&ut.find(".dropdown-toggle",R).forEach(I=>I.classList.add(Q)),a.setAttribute("aria-expanded",!0)}w&&w()}static jQueryInterface(a){return this.each(function(){const d=ft.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}V.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),B(this)||ft.getOrCreateInstance(this).show()}),K(ft);const xt="toast",ht="hide",It="show",ae="showing",de={animation:"boolean",autohide:"boolean",delay:"number"},xe={animation:!0,autohide:!0,delay:5e3};class ve extends Le{constructor(a,d){super(a),this._config=this._getConfig(d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return de}static get Default(){return xe}static get NAME(){return xt}show(){V.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ht),ct(this._element),this._element.classList.add(It),this._element.classList.add(ae),this._queueCallback(()=>{this._element.classList.remove(ae),V.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(It)&&(V.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ae),this._queueCallback(()=>{this._element.classList.add(ht),this._element.classList.remove(ae),this._element.classList.remove(It),V.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(It)&&this._element.classList.remove(It),super.dispose()}_getConfig(a){return a={...xe,...ne.getDataAttributes(this._element),...typeof a=="object"&&a?a:{}},x(xt,a,this.constructor.DefaultType),a}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,d){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d}if(d)return void this._clearTimeout();const w=a.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){V.on(this._element,"mouseover.bs.toast",a=>this._onInteraction(a,!0)),V.on(this._element,"mouseout.bs.toast",a=>this._onInteraction(a,!1)),V.on(this._element,"focusin.bs.toast",a=>this._onInteraction(a,!0)),V.on(this._element,"focusout.bs.toast",a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const d=ve.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a](this)}})}}return Ui(ve),K(ve),{Alert:zi,Button:wn,Carousel:Qt,Collapse:je,Dropdown:r,Modal:ue,Offcanvas:he,Popover:ln,ScrollSpy:J,Tab:ft,Toast:ve,Tooltip:Xe}});$(document.body).tooltip({selector:"[data-toggle='tooltip']",trigger:"hover",html:!0});var mm=typeof global=="object"&&global&&global.Object===Object&&global,bm=typeof self=="object"&&self&&self.Object===Object&&self,Iu=mm||bm||Function("return this")(),po=Iu.Symbol,Fu=Object.prototype,vm=Fu.hasOwnProperty,ym=Fu.toString,is=po?po.toStringTag:void 0;function Am(n){var t=vm.call(n,is),e=n[is];try{n[is]=void 0;var i=!0}catch{}var s=ym.call(n);return i&&(t?n[is]=e:delete n[is]),s}var Em=Object.prototype,wm=Em.toString;function xm(n){return wm.call(n)}var Sm="[object Null]",Cm="[object Undefined]",ac=po?po.toStringTag:void 0;function Tm(n){return n==null?n===void 0?Cm:Sm:ac&&ac in Object(n)?Am(n):xm(n)}function _m(n){return n!=null&&typeof n=="object"}var Lm="[object Symbol]";function km(n){return typeof n=="symbol"||_m(n)&&Tm(n)==Lm}var Om=/\s/;function Rm(n){for(var t=n.length;t--&&Om.test(n.charAt(t)););return t}var Dm=/^\s+/;function Mm(n){return n&&n.slice(0,Rm(n)+1).replace(Dm,"")}function go(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var lc=NaN,Nm=/^[-+]0x[0-9a-f]+$/i,Pm=/^0b[01]+$/i,Im=/^0o[0-7]+$/i,Fm=parseInt;function cc(n){if(typeof n=="number")return n;if(km(n))return lc;if(go(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=go(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=Mm(n);var e=Pm.test(n);return e||Im.test(n)?Fm(n.slice(2),e?2:8):Nm.test(n)?lc:+n}var ra=function(){return Iu.Date.now()},Bm="Expected a function",jm=Math.max,qm=Math.min;function no(n,t,e){var i,s,c,v,x,D,B=0,U=!1,tt=!1,ct=!0;if(typeof n!="function")throw new TypeError(Bm);t=cc(t)||0,go(e)&&(U=!!e.leading,tt="maxWait"in e,c=tt?jm(cc(e.maxWait)||0,t):c,ct="trailing"in e?!!e.trailing:ct);function at(b){var u=i,ot=s;return i=s=void 0,B=b,v=n.apply(ot,u),v}function nt(b){return B=b,x=setTimeout(C,t),U?at(b):v}function X(b){var u=b-D,ot=b-B,et=t-u;return tt?qm(et,c-ot):et}function K(b){var u=b-D,ot=b-B;return D===void 0||u>=t||u<0||tt&&ot>=c}function C(){var b=ra();if(K(b))return T(b);x=setTimeout(C,X(b))}function T(b){return x=void 0,ct&&i?at(b):(i=s=void 0,v)}function p(){x!==void 0&&clearTimeout(x),B=0,i=D=s=x=void 0}function f(){return x===void 0?v:T(ra())}function y(){var b=ra(),u=K(b);if(i=arguments,s=this,D=b,u){if(x===void 0)return nt(D);if(tt)return clearTimeout(x),x=setTimeout(C,t),at(D)}return x===void 0&&(x=setTimeout(C,t)),v}return y.cancel=p,y.flush=f,y}var Wm="Expected a function";function Hm(n,t,e){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(Wm);return go(e)&&(i="leading"in e?!!e.leading:i,s="trailing"in e?!!e.trailing:s),no(n,t,{leading:i,maxWait:t,trailing:s})}var yr=function(){return yr=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},yr.apply(this,arguments)};function Bu(n){return!n||!n.ownerDocument||!n.ownerDocument.defaultView?window:n.ownerDocument.defaultView}function ju(n){return!n||!n.ownerDocument?document:n.ownerDocument}var qu=function(n){var t={},e=Array.prototype.reduce.call(n,function(i,s){var c=s.name.match(/data-simplebar-(.+)/);if(c){var v=c[1].replace(/\W+(.)/g,function(x,D){return D.toUpperCase()});switch(s.value){case"true":i[v]=!0;break;case"false":i[v]=!1;break;case void 0:i[v]=!0;break;default:i[v]=s.value}}return i},t);return e};function Wu(n,t){var e;n&&(e=n.classList).add.apply(e,t.split(" "))}function Hu(n,t){n&&t.split(" ").forEach(function(e){n.classList.remove(e)})}function Vu(n){return".".concat(n.split(" ").join("."))}var sl=!!(typeof window<"u"&&window.document&&window.document.createElement),Vm=Object.freeze({__proto__:null,addClasses:Wu,canUseDOM:sl,classNamesToQuery:Vu,getElementDocument:ju,getElementWindow:Bu,getOptions:qu,removeClasses:Hu}),br=null,uc=null;sl&&window.addEventListener("resize",function(){uc!==window.devicePixelRatio&&(uc=window.devicePixelRatio,br=null)});function hc(){if(br===null){if(typeof document>"u")return br=0,br;var n=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),n.appendChild(t);var e=t.getBoundingClientRect().right;n.removeChild(t),br=e}return br}var un=Bu,sa=ju,$m=qu,hn=Wu,dn=Hu,Ie=Vu,ro=function(){function n(t,e){e===void 0&&(e={});var i=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var s=un(i.el);i.scrollXTicking||(s.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0),i.scrollYTicking||(s.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0),i.isScrolling||(i.isScrolling=!0,hn(i.el,i.classNames.scrolling)),i.showScrollbar("x"),i.showScrollbar("y"),i.onStopScrolling()},this.scrollX=function(){i.axis.x.isOverflowing&&i.positionScrollbar("x"),i.scrollXTicking=!1},this.scrollY=function(){i.axis.y.isOverflowing&&i.positionScrollbar("y"),i.scrollYTicking=!1},this._onStopScrolling=function(){dn(i.el,i.classNames.scrolling),i.options.autoHide&&(i.hideScrollbar("x"),i.hideScrollbar("y")),i.isScrolling=!1},this.onMouseEnter=function(){i.isMouseEntering||(hn(i.el,i.classNames.mouseEntered),i.showScrollbar("x"),i.showScrollbar("y"),i.isMouseEntering=!0),i.onMouseEntered()},this._onMouseEntered=function(){dn(i.el,i.classNames.mouseEntered),i.options.autoHide&&(i.hideScrollbar("x"),i.hideScrollbar("y")),i.isMouseEntering=!1},this._onMouseMove=function(s){i.mouseX=s.clientX,i.mouseY=s.clientY,(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseMoveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseMoveForAxis("y")},this.onMouseLeave=function(){i.onMouseMove.cancel(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseLeaveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseLeaveForAxis("y"),i.mouseX=-1,i.mouseY=-1},this._onWindowResize=function(){i.scrollbarWidth=i.getScrollbarWidth(),i.hideNativeScrollbar()},this.onPointerEvent=function(s){if(!(!i.axis.x.track.el||!i.axis.y.track.el||!i.axis.x.scrollbar.el||!i.axis.y.scrollbar.el)){var c,v;i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&(c=i.isWithinBounds(i.axis.x.track.rect)),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&(v=i.isWithinBounds(i.axis.y.track.rect)),(c||v)&&(s.stopPropagation(),s.type==="pointerdown"&&s.pointerType!=="touch"&&(c&&(i.axis.x.scrollbar.rect=i.axis.x.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.x.scrollbar.rect)?i.onDragStart(s,"x"):i.onTrackClick(s,"x")),v&&(i.axis.y.scrollbar.rect=i.axis.y.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.scrollbar.rect)?i.onDragStart(s,"y"):i.onTrackClick(s,"y"))))}},this.drag=function(s){var c,v,x,D,B,U,tt,ct,at,nt,X;if(!(!i.draggedAxis||!i.contentWrapperEl)){var K,C=i.axis[i.draggedAxis].track,T=(v=(c=C.rect)===null||c===void 0?void 0:c[i.axis[i.draggedAxis].sizeAttr])!==null&&v!==void 0?v:0,p=i.axis[i.draggedAxis].scrollbar,f=(D=(x=i.contentWrapperEl)===null||x===void 0?void 0:x[i.axis[i.draggedAxis].scrollSizeAttr])!==null&&D!==void 0?D:0,y=parseInt((U=(B=i.elStyles)===null||B===void 0?void 0:B[i.axis[i.draggedAxis].sizeAttr])!==null&&U!==void 0?U:"0px",10);s.preventDefault(),s.stopPropagation(),i.draggedAxis==="y"?K=s.pageY:K=s.pageX;var b=K-((ct=(tt=C.rect)===null||tt===void 0?void 0:tt[i.axis[i.draggedAxis].offsetAttr])!==null&&ct!==void 0?ct:0)-i.axis[i.draggedAxis].dragOffset;b=i.draggedAxis==="x"&&i.isRtl?((nt=(at=C.rect)===null||at===void 0?void 0:at[i.axis[i.draggedAxis].sizeAttr])!==null&&nt!==void 0?nt:0)-p.size-b:b;var u=b/(T-p.size),ot=u*(f-y);i.draggedAxis==="x"&&i.isRtl&&(ot=!((X=n.getRtlHelpers())===null||X===void 0)&&X.isScrollingToNegative?-ot:ot),i.contentWrapperEl[i.axis[i.draggedAxis].scrollOffsetAttr]=ot}},this.onEndDrag=function(s){i.isDragging=!1;var c=sa(i.el),v=un(i.el);s.preventDefault(),s.stopPropagation(),dn(i.el,i.classNames.dragging),i.onStopScrolling(),c.removeEventListener("mousemove",i.drag,!0),c.removeEventListener("mouseup",i.onEndDrag,!0),i.removePreventClickId=v.setTimeout(function(){c.removeEventListener("click",i.preventClick,!0),c.removeEventListener("dblclick",i.preventClick,!0),i.removePreventClickId=null})},this.preventClick=function(s){s.preventDefault(),s.stopPropagation()},this.el=t,this.options=yr(yr({},n.defaultOptions),e),this.classNames=yr(yr({},n.defaultOptions.classNames),e.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=Hm(this._onMouseMove,64),this.onWindowResize=no(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=no(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=no(this._onMouseEntered,this.stopScrollDelay),this.init()}return n.getRtlHelpers=function(){if(n.rtlHelpers)return n.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var e=t.firstElementChild,i=e==null?void 0:e.firstElementChild;if(!i)return null;document.body.appendChild(e),e.scrollLeft=0;var s=n.getOffset(e),c=n.getOffset(i);e.scrollLeft=-999;var v=n.getOffset(i);return document.body.removeChild(e),n.rtlHelpers={isScrollOriginAtZero:s.left!==c.left,isScrollingToNegative:c.left!==v.left},n.rtlHelpers},n.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:hc()}catch{return hc()}},n.getOffset=function(t){var e=t.getBoundingClientRect(),i=sa(t),s=un(t);return{top:e.top+(s.pageYOffset||i.documentElement.scrollTop),left:e.left+(s.pageXOffset||i.documentElement.scrollLeft)}},n.prototype.init=function(){sl&&(this.initDOM(),this.rtlHelpers=n.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},n.prototype.initDOM=function(){var t,e;this.wrapperEl=this.el.querySelector(Ie(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(Ie(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(Ie(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(Ie(this.classNames.offset)),this.maskEl=this.el.querySelector(Ie(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,Ie(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(Ie(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(Ie(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(Ie(this.classNames.track)).concat(Ie(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(Ie(this.classNames.track)).concat(Ie(this.classNames.vertical))),this.axis.x.scrollbar.el=((t=this.axis.x.track.el)===null||t===void 0?void 0:t.querySelector(Ie(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((e=this.axis.y.track.el)===null||e===void 0?void 0:e.querySelector(Ie(this.classNames.scrollbar)))||null,this.options.autoHide||(hn(this.axis.x.scrollbar.el,this.classNames.visible),hn(this.axis.y.scrollbar.el,this.classNames.visible))},n.prototype.initListeners=function(){var t=this,e,i=un(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(e=this.contentWrapperEl)===null||e===void 0||e.addEventListener("scroll",this.onScroll),i.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var s=!1,c=i.ResizeObserver||ResizeObserver;this.resizeObserver=new c(function(){s&&i.requestAnimationFrame(function(){t.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),i.requestAnimationFrame(function(){s=!0})}this.mutationObserver=new i.MutationObserver(function(){i.requestAnimationFrame(function(){t.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},n.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var t=un(this.el);this.elStyles=t.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var e=this.contentEl.offsetWidth,i=this.heightAutoObserverEl.offsetHeight<=1,s=this.heightAutoObserverEl.offsetWidth<=1||e>0,c=this.contentWrapperEl.offsetWidth,v=this.elStyles.overflowX,x=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var D=this.contentEl.scrollHeight,B=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=i?"auto":"100%",this.placeholderEl.style.width=s?"".concat(e||B,"px"):"auto",this.placeholderEl.style.height="".concat(D,"px");var U=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=e!==0&&B>e,this.axis.y.isOverflowing=D>U,this.axis.x.isOverflowing=v==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=x==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var tt=this.axis.x.isOverflowing?this.scrollbarWidth:0,ct=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&B>c-ct,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&D>U-tt,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},n.prototype.getScrollbarSize=function(t){var e,i;if(t===void 0&&(t="y"),!this.axis[t].isOverflowing||!this.contentEl)return 0;var s=this.contentEl[this.axis[t].scrollSizeAttr],c=(i=(e=this.axis[t].track.el)===null||e===void 0?void 0:e[this.axis[t].offsetSizeAttr])!==null&&i!==void 0?i:0,v=c/s,x;return x=Math.max(~~(v*c),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(x=Math.min(x,this.options.scrollbarMaxSize)),x},n.prototype.positionScrollbar=function(t){var e,i,s;t===void 0&&(t="y");var c=this.axis[t].scrollbar;if(!(!this.axis[t].isOverflowing||!this.contentWrapperEl||!c.el||!this.elStyles)){var v=this.contentWrapperEl[this.axis[t].scrollSizeAttr],x=((e=this.axis[t].track.el)===null||e===void 0?void 0:e[this.axis[t].offsetSizeAttr])||0,D=parseInt(this.elStyles[this.axis[t].sizeAttr],10),B=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];B=t==="x"&&this.isRtl&&(!((i=n.getRtlHelpers())===null||i===void 0)&&i.isScrollOriginAtZero)?-B:B,t==="x"&&this.isRtl&&(B=!((s=n.getRtlHelpers())===null||s===void 0)&&s.isScrollingToNegative?B:-B);var U=B/(v-D),tt=~~((x-c.size)*U);tt=t==="x"&&this.isRtl?-tt+(x-c.size):tt,c.el.style.transform=t==="x"?"translate3d(".concat(tt,"px, 0, 0)"):"translate3d(0, ".concat(tt,"px, 0)")}},n.prototype.toggleTrackVisibility=function(t){t===void 0&&(t="y");var e=this.axis[t].track.el,i=this.axis[t].scrollbar.el;!e||!i||!this.contentWrapperEl||(this.axis[t].isOverflowing||this.axis[t].forceVisible?(e.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(t))):(e.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(t))),this.axis[t].isOverflowing?i.style.display="block":i.style.display="none")},n.prototype.showScrollbar=function(t){t===void 0&&(t="y"),this.axis[t].isOverflowing&&!this.axis[t].scrollbar.isVisible&&(hn(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!0)},n.prototype.hideScrollbar=function(t){t===void 0&&(t="y"),!this.isDragging&&this.axis[t].isOverflowing&&this.axis[t].scrollbar.isVisible&&(dn(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!1)},n.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},n.prototype.onMouseMoveForAxis=function(t){t===void 0&&(t="y");var e=this.axis[t];!e.track.el||!e.scrollbar.el||(e.track.rect=e.track.el.getBoundingClientRect(),e.scrollbar.rect=e.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(e.track.rect)?(this.showScrollbar(t),hn(e.track.el,this.classNames.hover),this.isWithinBounds(e.scrollbar.rect)?hn(e.scrollbar.el,this.classNames.hover):dn(e.scrollbar.el,this.classNames.hover)):(dn(e.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)))},n.prototype.onMouseLeaveForAxis=function(t){t===void 0&&(t="y"),dn(this.axis[t].track.el,this.classNames.hover),dn(this.axis[t].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)},n.prototype.onDragStart=function(t,e){var i;e===void 0&&(e="y"),this.isDragging=!0;var s=sa(this.el),c=un(this.el),v=this.axis[e].scrollbar,x=e==="y"?t.pageY:t.pageX;this.axis[e].dragOffset=x-(((i=v.rect)===null||i===void 0?void 0:i[this.axis[e].offsetAttr])||0),this.draggedAxis=e,hn(this.el,this.classNames.dragging),s.addEventListener("mousemove",this.drag,!0),s.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(s.addEventListener("click",this.preventClick,!0),s.addEventListener("dblclick",this.preventClick,!0)):(c.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},n.prototype.onTrackClick=function(t,e){var i=this,s,c,v,x;e===void 0&&(e="y");var D=this.axis[e];if(!(!this.options.clickOnTrack||!D.scrollbar.el||!this.contentWrapperEl)){t.preventDefault();var B=un(this.el);this.axis[e].scrollbar.rect=D.scrollbar.el.getBoundingClientRect();var U=this.axis[e].scrollbar,tt=(c=(s=U.rect)===null||s===void 0?void 0:s[this.axis[e].offsetAttr])!==null&&c!==void 0?c:0,ct=parseInt((x=(v=this.elStyles)===null||v===void 0?void 0:v[this.axis[e].sizeAttr])!==null&&x!==void 0?x:"0px",10),at=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],nt=e==="y"?this.mouseY-tt:this.mouseX-tt,X=nt<0?-1:1,K=X===-1?at-ct:at+ct,C=40,T=function(){i.contentWrapperEl&&(X===-1?at>K&&(at-=C,i.contentWrapperEl[i.axis[e].scrollOffsetAttr]=at,B.requestAnimationFrame(T)):at<K&&(at+=C,i.contentWrapperEl[i.axis[e].scrollOffsetAttr]=at,B.requestAnimationFrame(T)))};T()}},n.prototype.getContentElement=function(){return this.contentEl},n.prototype.getScrollElement=function(){return this.contentWrapperEl},n.prototype.removeListeners=function(){var t=un(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},n.prototype.unMount=function(){this.removeListeners()},n.prototype.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},n.prototype.findChild=function(t,e){var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,function(s){return i.call(s,e)})[0]},n.rtlHelpers=null,n.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},n.getOptions=$m,n.helpers=Vm,n}(),Oa=function(n,t){return Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])},Oa(n,t)};function Um(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Oa(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ol=ro.helpers,oa=ol.getOptions,Ge=ol.addClasses,zm=ol.canUseDOM,$u=function(n){Um(t,n);function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s=n.apply(this,e)||this;return t.instances.set(e[0],s),s}return t.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(e){e.getAttribute("data-simplebar")!=="init"&&!t.instances.has(e)&&new t(e,oa(e.attributes))})},t.removeObserver=function(){var e;(e=t.globalObserver)===null||e===void 0||e.disconnect()},t.prototype.initDOM=function(){var e=this,i,s,c;if(!Array.prototype.filter.call(this.el.children,function(D){return D.classList.contains(e.classNames.wrapper)}).length){for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),Ge(this.wrapperEl,this.classNames.wrapper),Ge(this.contentWrapperEl,this.classNames.contentWrapper),Ge(this.offsetEl,this.classNames.offset),Ge(this.maskEl,this.classNames.mask),Ge(this.contentEl,this.classNames.contentEl),Ge(this.placeholderEl,this.classNames.placeholder),Ge(this.heightAutoObserverWrapperEl,this.classNames.heightAutoObserverWrapperEl),Ge(this.heightAutoObserverEl,this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl),(i=this.contentWrapperEl)===null||i===void 0||i.setAttribute("tabindex",this.options.tabIndex.toString()),(s=this.contentWrapperEl)===null||s===void 0||s.setAttribute("role","region"),(c=this.contentWrapperEl)===null||c===void 0||c.setAttribute("aria-label",this.options.ariaLabel)}if(!this.axis.x.track.el||!this.axis.y.track.el){var v=document.createElement("div"),x=document.createElement("div");Ge(v,this.classNames.track),Ge(x,this.classNames.scrollbar),v.appendChild(x),this.axis.x.track.el=v.cloneNode(!0),Ge(this.axis.x.track.el,this.classNames.horizontal),this.axis.y.track.el=v.cloneNode(!0),Ge(this.axis.y.track.el,this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}ro.prototype.initDOM.call(this),this.el.setAttribute("data-simplebar","init")},t.prototype.unMount=function(){ro.prototype.unMount.call(this),t.instances.delete(this.el)},t.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver<"u"&&(this.globalObserver=new MutationObserver(t.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},t.handleMutations=function(e){e.forEach(function(i){i.addedNodes.forEach(function(s){s.nodeType===1&&(s.hasAttribute("data-simplebar")?!t.instances.has(s)&&document.documentElement.contains(s)&&new t(s,oa(s.attributes)):s.querySelectorAll("[data-simplebar]").forEach(function(c){c.getAttribute("data-simplebar")!=="init"&&!t.instances.has(c)&&document.documentElement.contains(c)&&new t(c,oa(c.attributes))}))}),i.removedNodes.forEach(function(s){var c;s.nodeType===1&&(s.getAttribute("data-simplebar")==="init"?!document.documentElement.contains(s)&&((c=t.instances.get(s))===null||c===void 0||c.unMount()):Array.prototype.forEach.call(s.querySelectorAll('[data-simplebar="init"]'),function(v){var x;!document.documentElement.contains(v)&&((x=t.instances.get(v))===null||x===void 0||x.unMount())}))})})},t.instances=new WeakMap,t}(ro);zm&&$u.initHtmlApi();window.SimpleBar=$u;var Uu={exports:{}};/*!
 * Waves v0.7.6
 * http://fian.my.id/Waves
 *
 * Copyright 2014-2018 Alfiana E. Sibuea and other contributors
 * Released under the MIT license
 * https://github.com/fians/Waves/blob/master/LICENSE
 */(function(n,t){(function(e,i){n.exports=i.call(e)})(io,function(){var e=e||{},i=document.querySelectorAll.bind(document),s=Object.prototype.toString,c="ontouchstart"in window;function v(p){return p!==null&&p===p.window}function x(p){return v(p)?p:p.nodeType===9&&p.defaultView}function D(p){var f=typeof p;return f==="function"||f==="object"&&!!p}function B(p){return D(p)&&p.nodeType>0}function U(p){var f=s.call(p);return f==="[object String]"?i(p):D(p)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(f)&&p.hasOwnProperty("length")?p:B(p)?[p]:[]}function tt(p){var f,y,b={top:0,left:0},u=p&&p.ownerDocument;return f=u.documentElement,typeof p.getBoundingClientRect<"u"&&(b=p.getBoundingClientRect()),y=x(u),{top:b.top+y.pageYOffset-f.clientTop,left:b.left+y.pageXOffset-f.clientLeft}}function ct(p){var f="";for(var y in p)p.hasOwnProperty(y)&&(f+=y+":"+p[y]+";");return f}var at={duration:750,delay:200,show:function(p,f,y){if(p.button===2)return!1;f=f||this;var b=document.createElement("div");b.className="waves-ripple waves-rippling",f.appendChild(b);var u=tt(f),ot=0,et=0;"touches"in p&&p.touches.length?(ot=p.touches[0].pageY-u.top,et=p.touches[0].pageX-u.left):(ot=p.pageY-u.top,et=p.pageX-u.left),et=et>=0?et:0,ot=ot>=0?ot:0;var Wt="scale("+f.clientWidth/100*3+")",Gt="translate(0,0)";y&&(Gt="translate("+y.x+"px, "+y.y+"px)"),b.setAttribute("data-hold",Date.now()),b.setAttribute("data-x",et),b.setAttribute("data-y",ot),b.setAttribute("data-scale",Wt),b.setAttribute("data-translate",Gt);var Ht={top:ot+"px",left:et+"px"};b.classList.add("waves-notransition"),b.setAttribute("style",ct(Ht)),b.classList.remove("waves-notransition"),Ht["-webkit-transform"]=Wt+" "+Gt,Ht["-moz-transform"]=Wt+" "+Gt,Ht["-ms-transform"]=Wt+" "+Gt,Ht["-o-transform"]=Wt+" "+Gt,Ht.transform=Wt+" "+Gt,Ht.opacity="1";var Et=p.type==="mousemove"?2500:at.duration;Ht["-webkit-transition-duration"]=Et+"ms",Ht["-moz-transition-duration"]=Et+"ms",Ht["-o-transition-duration"]=Et+"ms",Ht["transition-duration"]=Et+"ms",b.setAttribute("style",ct(Ht))},hide:function(p,f){f=f||this;for(var y=f.getElementsByClassName("waves-rippling"),b=0,u=y.length;b<u;b++)X(p,f,y[b]);c&&(f.removeEventListener("touchend",at.hide),f.removeEventListener("touchcancel",at.hide)),f.removeEventListener("mouseup",at.hide),f.removeEventListener("mouseleave",at.hide)}},nt={input:function(p){var f=p.parentNode;if(!(f.tagName.toLowerCase()==="i"&&f.classList.contains("waves-effect"))){var y=document.createElement("i");y.className=p.className+" waves-input-wrapper",p.className="waves-button-input",f.replaceChild(y,p),y.appendChild(p);var b=window.getComputedStyle(p,null),u=b.color,ot=b.backgroundColor;y.setAttribute("style","color:"+u+";background:"+ot),p.setAttribute("style","background-color:rgba(0,0,0,0);")}},img:function(p){var f=p.parentNode;if(!(f.tagName.toLowerCase()==="i"&&f.classList.contains("waves-effect"))){var y=document.createElement("i");f.replaceChild(y,p),y.appendChild(p)}}};function X(p,f,y){if(y){y.classList.remove("waves-rippling");var b=y.getAttribute("data-x"),u=y.getAttribute("data-y"),ot=y.getAttribute("data-scale"),et=y.getAttribute("data-translate"),Wt=Date.now()-Number(y.getAttribute("data-hold")),Gt=350-Wt;Gt<0&&(Gt=0),p.type==="mousemove"&&(Gt=150);var Ht=p.type==="mousemove"?2500:at.duration;setTimeout(function(){var Et={top:u+"px",left:b+"px",opacity:"0","-webkit-transition-duration":Ht+"ms","-moz-transition-duration":Ht+"ms","-o-transition-duration":Ht+"ms","transition-duration":Ht+"ms","-webkit-transform":ot+" "+et,"-moz-transform":ot+" "+et,"-ms-transform":ot+" "+et,"-o-transform":ot+" "+et,transform:ot+" "+et};y.setAttribute("style",ct(Et)),setTimeout(function(){try{f.removeChild(y)}catch{return!1}},Ht)},Gt)}}var K={touches:0,allowEvent:function(p){var f=!0;return/^(mousedown|mousemove)$/.test(p.type)&&K.touches&&(f=!1),f},registerEvent:function(p){var f=p.type;f==="touchstart"?K.touches+=1:/^(touchend|touchcancel)$/.test(f)&&setTimeout(function(){K.touches&&(K.touches-=1)},500)}};function C(p){if(K.allowEvent(p)===!1)return null;for(var f=null,y=p.target||p.srcElement;y.parentElement;){if(!(y instanceof SVGElement)&&y.classList.contains("waves-effect")){f=y;break}y=y.parentElement}return f}function T(p){var f=C(p);if(f!==null){if(f.disabled||f.getAttribute("disabled")||f.classList.contains("disabled"))return;if(K.registerEvent(p),p.type==="touchstart"&&at.delay){var y=!1,b=setTimeout(function(){b=null,at.show(p,f)},at.delay),u=function(Wt){b&&(clearTimeout(b),b=null,at.show(p,f)),y||(y=!0,at.hide(Wt,f)),et()},ot=function(Wt){b&&(clearTimeout(b),b=null),u(Wt),et()};f.addEventListener("touchmove",ot,!1),f.addEventListener("touchend",u,!1),f.addEventListener("touchcancel",u,!1);var et=function(){f.removeEventListener("touchmove",ot),f.removeEventListener("touchend",u),f.removeEventListener("touchcancel",u)}}else at.show(p,f),c&&(f.addEventListener("touchend",at.hide,!1),f.addEventListener("touchcancel",at.hide,!1)),f.addEventListener("mouseup",at.hide,!1),f.addEventListener("mouseleave",at.hide,!1)}}return e.init=function(p){var f=document.body;p=p||{},"duration"in p&&(at.duration=p.duration),"delay"in p&&(at.delay=p.delay),c&&(f.addEventListener("touchstart",T,!1),f.addEventListener("touchcancel",K.registerEvent,!1),f.addEventListener("touchend",K.registerEvent,!1)),f.addEventListener("mousedown",T,!1)},e.attach=function(p,f){p=U(p),s.call(f)==="[object Array]"&&(f=f.join(" ")),f=f?" "+f:"";for(var y,b,u=0,ot=p.length;u<ot;u++)y=p[u],b=y.tagName.toLowerCase(),["input","img"].indexOf(b)!==-1&&(nt[b](y),y=y.parentElement),y.className.indexOf("waves-effect")===-1&&(y.className+=" waves-effect"+f)},e.ripple=function(p,f){p=U(p);var y=p.length;if(f=f||{},f.wait=f.wait||0,f.position=f.position||null,y){for(var b,u,ot,et={},Wt=0,Gt={type:"mousedown",button:1},Ht=function(Ze,Yn){return function(){at.hide(Ze,Yn)}};Wt<y;Wt++)if(b=p[Wt],u=f.position||{x:b.clientWidth/2,y:b.clientHeight/2},ot=tt(b),et.x=ot.left+u.x,et.y=ot.top+u.y,Gt.pageX=et.x,Gt.pageY=et.y,at.show(Gt,b),f.wait>=0&&f.wait!==null){var Et={type:"mouseup",button:1};setTimeout(Ht(Et,b),f.wait)}}},e.calm=function(p){p=U(p);for(var f={type:"mouseup",button:1},y=0,b=p.length;y<b;y++)at.hide(f,p[y])},e.displayEffect=function(p){console.error("Waves.displayEffect() has been deprecated and will be removed in future version. Please use Waves.init() to initialize Waves effect"),e.init(p)},e})})(Uu);var Km=Uu.exports;const Xm=Mu(Km);window.Waves=Xm;(function(){if(sessionStorage.getItem("defaultAttribute")){var n=document.documentElement.attributes,t={};if(Object.entries(n).forEach(function(i){if(i[1]&&i[1].nodeName&&i[1].nodeName!="undefined"){var s=i[1].nodeName;t[s]=i[1].nodeValue}}),sessionStorage.getItem("defaultAttribute")!==JSON.stringify(t))sessionStorage.clear(),window.location.reload();else{var e={};e["data-layout"]=sessionStorage.getItem("data-layout"),e["data-sidebar-size"]=sessionStorage.getItem("data-sidebar-size"),e["data-layout-mode"]=sessionStorage.getItem("data-layout-mode"),e["data-layout-width"]=sessionStorage.getItem("data-layout-width"),e["data-sidebar"]=sessionStorage.getItem("data-sidebar"),e["data-sidebar-image"]=sessionStorage.getItem("data-sidebar-image"),e["data-layout-direction"]=sessionStorage.getItem("data-layout-direction"),e["data-layout-position"]=sessionStorage.getItem("data-layout-position"),e["data-layout-style"]=sessionStorage.getItem("data-layout-style"),e["data-topbar"]=sessionStorage.getItem("data-topbar"),Object.keys(e).forEach(function(i){e[i]&&e[i]&&document.documentElement.setAttribute(i,e[i])})}}})();var Jm=$("meta[name=csrf-token]").attr("content");$.ajaxSetup({beforeSend:function(n){n.setRequestHeader("X-CSRF-Token",Jm)}});function Ym(n){var t=document.getElementById("overlay");if(typeof t<"u"&&t!=null)switch(n){case"show":t.style.display="flex";break;case"hide":t.style.display="none";break}}window.JsLoadingOverlay=Ym;document.addEventListener("DOMContentLoaded",function(n){JsLoadingOverlay("hide")});document.addEventListener("shown.bs.modal",function(n){JsLoadingOverlay("hide")});document.addEventListener("hidden.bs.modal",function(n){$(".popover").remove()});document.addEventListener("show.bs.popover",function(n){window.preserve_scroll=!0});document.addEventListener("turbo:click",function(n){JsLoadingOverlay("show"),$(".popover").remove()});document.addEventListener("turbo:visit",function(n){JsLoadingOverlay("hide")});document.addEventListener("turbo:frame-render",function(n){typeof window.preserve_scroll>"u"||window.preserve_scroll===null?scrollTopFunction():delete window.preserve_scroll,JsLoadingOverlay("hide")});document.addEventListener("turbo:load",function(n){JsLoadingOverlay("hide")});document.addEventListener("turbo:submit-start",function(n){JsLoadingOverlay("show")});document.addEventListener("turbo:submit-end",function(n){JsLoadingOverlay("hide")});export{vs as C,gm as a,io as c,Mu as g,Pu as j,zg as l};
//# sourceMappingURL=application-BzDBbQCT.js.map
