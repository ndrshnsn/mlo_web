{"version":3,"file":"modal_controller-CRd4f8cc.js","sources":["../../../app/frontend/javascript/controllers/modal_controller.js"],"sourcesContent":["import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static values = { autoshow: { type: Boolean, default: true }}\n\n  connect() {\n    const autoshow = this.autoshowValue\n    \n    let backdrop = document.querySelector(\".modal-backdrop\");\n    window.preserve_scroll = true\n    \n    if (backdrop) {\n      backdrop.remove();\n    }\n    this.modal = new bootstrap.Modal(this.element);\n    \n    if (autoshow) {\n      this.modal.show();\n    }\n\n    this.element.addEventListener('hidden.bs.modal', (event) => {\n      this.element.remove();\n    })\n  }\n\n  hideBeforeRender(event) {\n    event.preventDefault()\n    this.element.addEventListener('hidden.bs.modal', event.detail.resume)\n    this.modal.hide()\n  }\n}"],"names":["modal_controller","Controller","autoshow","backdrop","event","__publicField"],"mappings":"kNAEe,MAAKA,UAASC,CAAW,CAGtC,SAAU,CACR,MAAMC,EAAW,KAAK,cAEtB,IAAIC,EAAW,SAAS,cAAc,iBAAiB,EACvD,OAAO,gBAAkB,GAErBA,GACFA,EAAS,OAAM,EAEjB,KAAK,MAAQ,IAAI,UAAU,MAAM,KAAK,OAAO,EAEzCD,GACF,KAAK,MAAM,OAGb,KAAK,QAAQ,iBAAiB,kBAAoBE,GAAU,CAC1D,KAAK,QAAQ,QACnB,CAAK,CACF,CAED,iBAAiBA,EAAO,CACtBA,EAAM,eAAgB,EACtB,KAAK,QAAQ,iBAAiB,kBAAmBA,EAAM,OAAO,MAAM,EACpE,KAAK,MAAM,KAAM,CAClB,CACH,CA3BEC,EADkBL,EACX,SAAS,CAAE,SAAU,CAAE,KAAM,QAAS,QAAS,GAAM"}